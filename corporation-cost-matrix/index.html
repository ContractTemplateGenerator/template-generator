<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corporation Cost Matrix - 50 State Comparison | terms.law</title>
    <meta name="description" content="Interactive comparison of corporation formation and ongoing costs across all 50 US states. Find the most cost-effective state for your business incorporation.">
    <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #f5f5f5;
        }

        .dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
            flex: 1;
            min-width: 150px;
        }

        .control-group label {
            font-weight: 600;
            font-size: 14px;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        button {
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #2980b9;
        }

        .export-btn {
            background-color: #27ae60;
        }

        .export-btn:hover {
            background-color: #219653;
        }

        .table-container {
            overflow-x: auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .corp-cost-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .corp-cost-table th {
            background-color: #2c3e50;
            color: white;
            padding: 12px 8px;
            text-align: left;
            cursor: pointer;
            position: sticky;
            top: 0;
        }

        .corp-cost-table th:hover {
            background-color: #34495e;
        }

        .corp-cost-table td {
            padding: 10px 8px;
            border-bottom: 1px solid #ddd;
        }

        .corp-cost-table tr:hover {
            background-color: #f5f5f5;
        }

        .formation-low { color: #27ae60; font-weight: 600; }
        .formation-medium { color: #f39c12; font-weight: 600; }
        .formation-high { color: #e74c3c; font-weight: 600; }

        .total-low { background-color: rgba(39, 174, 96, 0.1); font-weight: 600; }
        .total-medium { background-color: rgba(243, 156, 18, 0.1); font-weight: 600; }
        .total-high { background-color: rgba(231, 76, 60, 0.1); font-weight: 600; }
        .total-veryhigh { background-color: rgba(192, 57, 43, 0.2); font-weight: 600; }

        .updated-indicator {
            background-color: #e8f5e8;
            color: #2d5a2d;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }

        .disclaimer {
            font-size: 12px;
            color: #7f8c8d;
            margin-top: 20px;
            text-align: center;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // Simple corporation data for testing
        const corporationData = [
            {
                id: 1,
                state: "Oklahoma",
                incorporationFee: 52,
                amendmentFee: 25,
                reportFee: "$0 (None)",
                franchiseTax: "None",
                fiveYearTotal: 77,
                notes: "No annual reports required for domestic corporations."
            },
            {
                id: 2,
                state: "Idaho",
                incorporationFee: 100,
                amendmentFee: 30,
                reportFee: "$0 (Annual â€“ No Fee)",
                franchiseTax: "None",
                fiveYearTotal: 130,
                notes: "Annual reports required but with no filing fee."
            },
            {
                id: 3,
                state: "Ohio", 
                incorporationFee: 99,
                amendmentFee: 50,
                reportFee: "$0 (None)",
                franchiseTax: "None",
                fiveYearTotal: 149,
                notes: "No annual reports or ongoing fees after formation.",
                updated: true
            },
            {
                id: 4,
                state: "California",
                incorporationFee: 100,
                amendmentFee: 30,
                reportFee: "$25 (Annual)",
                franchiseTax: "Franchise Tax: $800 per year",
                fiveYearTotal: 4255,
                notes: "$800 annual franchise tax makes it most expensive."
            },
            {
                id: 5,
                state: "Delaware",
                incorporationFee: 140,
                amendmentFee: 194,
                reportFee: "$50 (Annual)",
                franchiseTax: "Franchise Tax: $175 min/year",
                fiveYearTotal: 1359,
                notes: "Premier legal jurisdiction with Court of Chancery."
            }
        ];

        function App() {
            const [searchTerm, setSearchTerm] = useState('');
            const [sortConfig, setSortConfig] = useState({ key: 'fiveYearTotal', direction: 'ascending' });

            const filteredAndSortedData = useMemo(() => {
                let filtered = corporationData.filter(corp => 
                    corp.state.toLowerCase().includes(searchTerm.toLowerCase())
                );

                if (sortConfig.key) {
                    filtered.sort((a, b) => {
                        let aValue = a[sortConfig.key];
                        let bValue = b[sortConfig.key];
                        
                        if (typeof aValue === 'string') {
                            aValue = aValue.toLowerCase();
                            bValue = bValue.toLowerCase();
                        }
                        
                        if (sortConfig.direction === 'ascending') {
                            return aValue > bValue ? 1 : -1;
                        } else {
                            return aValue < bValue ? 1 : -1;
                        }
                    });
                }

                return filtered;
            }, [searchTerm, sortConfig]);

            const handleSort = (key) => {
                setSortConfig(prevConfig => ({
                    key,
                    direction: prevConfig.key === key && prevConfig.direction === 'ascending' ? 'descending' : 'ascending'
                }));
            };

            const getCostClass = (value, type) => {
                switch (type) {
                    case 'formation':
                        if (value <= 100) return 'formation-low';
                        if (value <= 200) return 'formation-medium';
                        return 'formation-high';
                    case 'total':
                        if (value <= 350) return 'total-low';
                        if (value <= 700) return 'total-medium';
                        if (value <= 2000) return 'total-high';
                        return 'total-veryhigh';
                    default:
                        return '';
                }
            };

            const exportCSV = () => {
                const headers = ['State', 'Incorporation Fee', 'Amendment Fee', 'Report Fee', 'Franchise Tax', '5-Year Total', 'Notes'];
                const csvContent = [
                    headers.join(','),
                    ...filteredAndSortedData.map(corp => [
                        corp.state,
                        `$${corp.incorporationFee}`,
                        `$${corp.amendmentFee}`,
                        corp.reportFee,
                        corp.franchiseTax,
                        `$${corp.fiveYearTotal.toLocaleString()}`,
                        `"${corp.notes.replace(/"/g, '""')}"`
                    ].join(','))
                ].join('\n');

                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Corporation_Cost_Matrix_2025.csv';
                a.click();
                window.URL.revokeObjectURL(url);
            };

            return (
                <div className="dashboard">
                    <h1>Corporation Cost Matrix - State Comparison 2025</h1>
                    
                    <div className="controls">
                        <div className="control-group">
                            <label htmlFor="search">Search State:</label>
                            <input
                                type="text"
                                id="search"
                                placeholder="State name..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                        </div>
                        
                        <div className="control-group">
                            <button className="export-btn" onClick={exportCSV}>
                                Export CSV
                            </button>
                        </div>
                    </div>

                    <div className="table-container">
                        <table className="corp-cost-table">
                            <thead>
                                <tr>
                                    <th onClick={() => handleSort('state')}>
                                        State {sortConfig.key === 'state' && (sortConfig.direction === 'ascending' ? 'â†‘' : 'â†“')}
                                    </th>
                                    <th onClick={() => handleSort('incorporationFee')}>
                                        Incorporation Fee {sortConfig.key === 'incorporationFee' && (sortConfig.direction === 'ascending' ? 'â†‘' : 'â†“')}
                                    </th>
                                    <th onClick={() => handleSort('amendmentFee')}>
                                        Amendment Fee {sortConfig.key === 'amendmentFee' && (sortConfig.direction === 'ascending' ? 'â†‘' : 'â†“')}
                                    </th>
                                    <th onClick={() => handleSort('reportFee')}>
                                        Report Fee
                                    </th>
                                    <th onClick={() => handleSort('franchiseTax')}>
                                        Franchise Tax
                                    </th>
                                    <th onClick={() => handleSort('fiveYearTotal')}>
                                        5â€‘Year Total {sortConfig.key === 'fiveYearTotal' && (sortConfig.direction === 'ascending' ? 'â†‘' : 'â†“')}
                                    </th>
                                    <th>Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                                {filteredAndSortedData.map((corp) => (
                                    <tr key={corp.id}>
                                        <td>
                                            {corp.state}
                                            {corp.updated && <span className="updated-indicator">UPDATED</span>}
                                        </td>
                                        <td className={getCostClass(corp.incorporationFee, 'formation')}>
                                            ${corp.incorporationFee}
                                        </td>
                                        <td className={getCostClass(corp.amendmentFee, 'formation')}>
                                            ${corp.amendmentFee}
                                        </td>
                                        <td>{corp.reportFee}</td>
                                        <td>{corp.franchiseTax}</td>
                                        <td className={getCostClass(corp.fiveYearTotal, 'total')}>
                                            ${corp.fiveYearTotal.toLocaleString()}
                                        </td>
                                        <td>{corp.notes}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>

                    <div className="disclaimer">
                        <strong>Data Updated for 2025:</strong> All information verified from official state websites as of January 2025. 
                        The 5-Year Total assumes one amendment filing and all applicable annual/biennial reports and taxes for five years.
                    </div>
                </div>
            );
        }

        // Use legacy ReactDOM.render for better compatibility
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>