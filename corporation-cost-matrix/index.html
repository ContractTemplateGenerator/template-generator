<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corporation Cost Matrix - 50 State Comparison | terms.law</title>
    <meta name="description" content="Interactive comparison of corporation formation and ongoing costs across all 50 US states. Find the most cost-effective state for your business incorporation.">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --gray-light: #f8f9fa;
            --gray-medium: #ddd;
            --gray-dark: #7f8c8d;
            --orange-color: #f39c12;
            --best-business-color: #d4edda;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            padding: 20px;
            max-width: 1600px;
            margin: 0 auto;
            background-color: #f5f5f5;
        }

        .dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            background-color: var(--gray-light);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            width: 100%;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
            flex: 1;
            min-width: 150px;
        }

        .control-group label {
            font-weight: 600;
            font-size: 14px;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--gray-medium);
            border-radius: 4px;
            font-size: 14px;
            width: 100%;
        }

        button {
            padding: 8px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
            min-width: 150px;
        }

        button:hover {
            background-color: var(--secondary-color);
        }

        button:disabled {
            background-color: var(--gray-dark);
            cursor: not-allowed;
        }

        .export-btn {
            background-color: var(--success-color);
        }

        .export-btn:hover {
            background-color: #219653;
        }

        .reset-btn {
            background-color: var(--gray-dark);
        }

        .reset-btn:hover {
            background-color: #636e72;
        }

        .compare-btn {
            background-color: var(--orange-color);
        }

        .compare-btn:hover:not(:disabled) {
            background-color: #d68910;
        }

        .table-container {
            overflow-x: auto;
            width: 100%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-radius: 8px;
            background-color: white;
        }

        .table-sticky-header {
            overflow: auto;
            max-height: 700px;
        }

        .corp-cost-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            background-color: white;
            table-layout: fixed;
            min-width: 1400px;
        }

        .corp-cost-table th {
            background-color: var(--dark-color);
            color: white;
            padding: 10px 6px;
            text-align: left;
            position: sticky;
            top: 0;
            z-index: 10;
            cursor: pointer;
            white-space: nowrap;
            overflow: visible;
            font-size: 12px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .corp-cost-table th:hover {
            background-color: #34495e;
        }

        .corp-cost-table th.sortable:after {
            content: '↕️';
            margin-left: 4px;
            opacity: 0.5;
        }

        .corp-cost-table td {
            padding: 8px 6px;
            border-bottom: 1px solid var(--gray-medium);
            border-right: 1px solid var(--gray-medium);
            vertical-align: top;
        }

        .corp-cost-table tr:hover {
            background-color: #f5f5f5;
        }

        .best-for-business {
            background-color: var(--best-business-color) !important;
            font-weight: bold;
        }

        /* Column widths */
        .checkbox-col { width: 40px; text-align: center; }
        .state-col { width: 120px; }
        .fee-col { width: 80px; text-align: right; }
        .report-col { width: 90px; }
        .frequency-col { width: 80px; }
        .deadline-col { width: 90px; text-align: center; }
        .tax-col { width: 100px; }
        .dissolution-col { width: 80px; text-align: right; }
        .total-col { width: 90px; text-align: right; }
        .score-col { width: 70px; text-align: center; }
        .notes-col { width: 200px; }

        /* State links */
        .state-link {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
        }

        .state-link:hover {
            text-decoration: underline;
        }

        /* Cost color coding */
        .formation-low { color: var(--success-color); font-weight: 600; }
        .formation-medium { color: var(--warning-color); font-weight: 600; }
        .formation-high { color: var(--danger-color); font-weight: 600; }

        .amendment-low { color: var(--success-color); font-weight: 600; }
        .amendment-medium { color: var(--warning-color); font-weight: 600; }
        .amendment-high { color: var(--danger-color); font-weight: 600; }

        .dissolution-low { color: var(--success-color); font-weight: 600; }
        .dissolution-medium { color: var(--warning-color); font-weight: 600; }
        .dissolution-high { color: var(--danger-color); font-weight: 600; }

        .total-low { background-color: rgba(39, 174, 96, 0.1); font-weight: 600; }
        .total-medium { background-color: rgba(243, 156, 18, 0.1); font-weight: 600; }
        .total-high { background-color: rgba(231, 76, 60, 0.1); font-weight: 600; }
        .total-veryhigh { background-color: rgba(192, 57, 43, 0.2); font-weight: 600; }

        /* Score color coding */
        .score-excellent { background-color: rgba(39, 174, 96, 0.2); color: #27ae60; font-weight: bold; }
        .score-good { background-color: rgba(52, 152, 219, 0.2); color: #3498db; font-weight: bold; }
        .score-fair { background-color: rgba(243, 156, 18, 0.2); color: #f39c12; font-weight: bold; }
        .score-poor { background-color: rgba(231, 76, 60, 0.2); color: #e74c3c; font-weight: bold; }

        .button-container {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .disclaimer {
            font-size: 12px;
            color: var(--gray-dark);
            margin-top: 20px;
            text-align: center;
            background-color: var(--gray-light);
            padding: 15px;
            border-radius: 6px;
        }

        /* Comparison view */
        .comparison-view {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-top: 20px;
            padding: 20px;
        }

        .comparison-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .comparison-header h2 {
            font-size: 18px;
            color: var(--dark-color);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .comparison-item {
            border: 1px solid var(--gray-medium);
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-item-header {
            background-color: var(--dark-color);
            color: white;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
        }

        .comparison-item-body {
            padding: 15px;
        }

        .comparison-item-row {
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .comparison-item-row:last-child {
            border-bottom: none;
        }

        .comparison-item-row strong {
            display: block;
            font-size: 13px;
            margin-bottom: 4px;
            color: var(--gray-dark);
            font-weight: 600;
        }

        .comparison-item-row p {
            margin: 0;
            font-size: 15px;
            font-weight: 500;
        }

        /* Responsive design */
        @media (max-width: 1200px) {
            .corp-cost-table {
                font-size: 11px;
            }
            
            .corp-cost-table th,
            .corp-cost-table td {
                padding: 6px 4px;
            }
            
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .notes-col {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useCallback } = React;
        // Calculate hassle-free score (0-100 scale)
        function calculateHassleScore(corp) {
            let score = 0;
            
            // Reporting requirements scoring (enhanced to boost biennial and decennial)
            if (corp.reportFrequency === 'none') {
                score += 35; // Increased for no reports
            } else if (corp.reportFrequency === 'decennial') {
                score += 32; // Special boost for Pennsylvania
            } else if (corp.reportFrequency === 'biennial') {
                score += 25; // Significant boost for biennial (helps NY)
            } else if (corp.reportFrequency === 'annual') {
                score += 5; // Small points for annual
            }
            
            // Low incorporation fee
            if (corp.incorporationFee < 75) score += 20;
            else if (corp.incorporationFee < 125) score += 15;
            else if (corp.incorporationFee < 200) score += 10;
            
            // Low amendment fee
            if (corp.amendmentFee < 25) score += 15;
            else if (corp.amendmentFee < 50) score += 12;
            else if (corp.amendmentFee < 70) score += 8;
            
            // Online amendments available
            if (corp.onlineAmendments) score += 5;
            
            // No franchise tax/annual fees
            if (corp.franchiseTaxType === 'none' && corp.annualFranchiseFee === 0) {
                score += 20; // Increased bonus for no annual taxes
            } else if (corp.annualFranchiseFee <= 25) {
                score += 10; // Low annual fee bonus
            }
            
            // Low dissolution fee
            if (corp.dissolutionFee === 0) score += 8;
            else if (corp.dissolutionFee < 30) score += 6;
            else if (corp.dissolutionFee < 60) score += 4;
            else if (corp.dissolutionFee < 100) score += 2;
            
            // Very low annual report fees bonus
            if (corp.annualReportFee <= 15 && corp.reportFrequency !== 'none') {
                score += 5; // Helps NY with $9 fee
            }
            
            return Math.min(score, 100);
        }

        // Calculate 5-year total cost
        function calculate5YearTotal(corp) {
            const incFee = corp.incorporationFee;
            const amendmentFees = corp.amendmentFee * 2; // Assume 2 amendments over 5 years
            
            let reportFees = 0;
            if (corp.reportFrequency === 'annual') {
                reportFees = corp.annualReportFee * 5;
            } else if (corp.reportFrequency === 'biennial') {
                reportFees = corp.annualReportFee * 2.5; // 2.5 reports over 5 years
            } else if (corp.reportFrequency === 'decennial') {
                reportFees = corp.annualReportFee * 0.5; // Half a report over 5 years
            }
            // 'none' frequency = 0 report fees
            
            const franchiseFees = corp.annualFranchiseFee * 5;
            const dissolutionFee = corp.dissolutionFee;
            
            return incFee + amendmentFees + reportFees + franchiseFees + dissolutionFee;
        }

        // Updated corporation data with all 50 states
        const rawCorporationData = [
            {
                state: "Alabama",
                sosUrl: "https://sos.alabama.gov/business-entities/fees",
                incorporationFee: 200,
                amendmentFee: 100,
                annualReportFee: 0,
                reportFrequency: "none",
                filingDeadline: "Apr 15",
                franchiseTaxType: "privilege tax",
                annualFranchiseFee: 100,
                dissolutionFee: 100,
                onlineAmendments: true,
                corporateIncomeTaxRate: 6.5,
                smallBusinessThreshold: 25000,
                minimumTax: 100,
                noTaxThreshold: 0,
                notes: "Business Privilege Tax $100 minimum. No annual reports since 2024."
            },
            {
                state: "Alaska",
                sosUrl: "https://www.commerce.alaska.gov/web/cbpl/Corporations/CorpFormsFees.aspx",
                incorporationFee: 250,
                amendmentFee: 25,
                annualReportFee: 100,
                reportFrequency: "biennial",
                filingDeadline: "Jan 2",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 25,
                onlineAmendments: true,
                corporateIncomeTaxRate: 9.4,
                smallBusinessThreshold: 50000,
                minimumTax: 0,
                noTaxThreshold: 0,
                notes: "Biennial reports every 2 years by Jan 2."
            },
            {
                state: "Arizona",
                sosUrl: "https://azcc.gov/corporations/fee-and-payment-info",
                incorporationFee: 60,
                amendmentFee: 25,
                annualReportFee: 45,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 25,
                onlineAmendments: true,
                notes: "Annual reports due on incorporation anniversary."
            },
            {
                state: "Arkansas",
                sosUrl: "https://www.sos.arkansas.gov/business-commercial-services-bcs/forms-fees/corporations",
                incorporationFee: 50,
                amendmentFee: 50,
                annualReportFee: 150,
                reportFrequency: "annual",
                filingDeadline: "May 1",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 150,
                dissolutionFee: 50,
                onlineAmendments: true,
                notes: "Annual franchise tax report required May 1."
            },
            {
                state: "California",
                sosUrl: "https://www.sos.ca.gov/business-programs/business-entities/forms",
                incorporationFee: 100,
                amendmentFee: 30,
                annualReportFee: 25,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 800,
                dissolutionFee: 0,
                onlineAmendments: true,
                corporateIncomeTaxRate: 8.84,
                smallBusinessThreshold: 1000000,
                minimumTax: 800,
                noTaxThreshold: 0,
                notes: "$800 annual franchise tax - highest in nation. Free dissolution."
            },
            {
                state: "Colorado",
                sosUrl: "https://www.sos.state.co.us/pubs/info_center/fees/business.html",
                incorporationFee: 50,
                amendmentFee: 25,
                annualReportFee: 25,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 25,
                onlineAmendments: true,
                notes: "Periodic report fee increased to $25 in 2024."
            },
            {
                state: "Connecticut",
                sosUrl: "https://portal.ct.gov/sots/business-services/bsd",
                incorporationFee: 315,
                amendmentFee: 140,
                annualReportFee: 150,
                reportFrequency: "annual",
                filingDeadline: "Mar 31",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 0,
                onlineAmendments: true,
                notes: "High formation fees but no franchise tax. Free dissolution."
            },
            {
                state: "Delaware",
                sosUrl: "https://corp.delaware.gov/fee/",
                incorporationFee: 109,
                amendmentFee: 200,
                annualReportFee: 50,
                reportFrequency: "annual",
                filingDeadline: "Mar 1",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 175,
                dissolutionFee: 204,
                onlineAmendments: true,
                corporateIncomeTaxRate: 8.7,
                smallBusinessThreshold: 20000000,
                minimumTax: 175,
                noTaxThreshold: 0,
                notes: "Premier legal jurisdiction. Franchise tax minimum $175, can be much higher."
            },
            {
                state: "Florida",
                sosUrl: "https://dos.dos.myflorida.com/sunbiz/forms/corporations",
                incorporationFee: 70,
                amendmentFee: 35,
                annualReportFee: 150,
                reportFrequency: "annual",
                filingDeadline: "May 1",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 35,
                onlineAmendments: true,
                corporateIncomeTaxRate: 5.5,
                smallBusinessThreshold: 50000,
                minimumTax: 0,
                noTaxThreshold: 50000,
                notes: "High annual report fees. $400 late penalty if missed."
            },
            {
                state: "Georgia",
                sosUrl: "https://sos.ga.gov/sites/default/files/2023-12/Reference_Filing_Fees.pdf",
                incorporationFee: 100,
                amendmentFee: 20,
                annualReportFee: 50,
                reportFrequency: "annual",
                filingDeadline: "Apr 1",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 0,
                onlineAmendments: true,
                notes: "Multi-year renewals available. Free dissolution."
            },
            {
                state: "Hawaii",
                sosUrl: "https://cca.hawaii.gov/breg/registration/dpc/fees/",
                incorporationFee: 51,
                amendmentFee: 25,
                annualReportFee: 15,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 25,
                onlineAmendments: true,
                notes: "Very low ongoing costs. Online discount available."
            },
            {
                state: "Idaho",
                sosUrl: "https://sos.idaho.gov/business-forms/",
                incorporationFee: 100,
                amendmentFee: 30,
                annualReportFee: 0,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 30,
                onlineAmendments: true,
                notes: "Annual reports required but completely free to file."
            },
            {
                state: "Illinois",
                sosUrl: "https://www.cyberdriveillinois.com/departments/business_services/business_not-for-profit/",
                incorporationFee: 150,
                amendmentFee: 55,
                annualReportFee: 75,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 25,
                dissolutionFee: 10,
                onlineAmendments: true,
                notes: "Franchise tax being phased out by 2025."
            },
            {
                state: "Indiana",
                sosUrl: "https://inbiz.in.gov/Inbiz/FeeCalculator/Index",
                incorporationFee: 91,
                amendmentFee: 30,
                annualReportFee: 32,
                reportFrequency: "biennial",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 30,
                onlineAmendments: true,
                notes: "Biennial reports every 2 years. Online filing available."
            },
            {
                state: "Iowa",
                sosUrl: "https://sos.iowa.gov/",
                incorporationFee: 50,
                amendmentFee: 50,
                annualReportFee: 30,
                reportFrequency: "biennial",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 5,
                onlineAmendments: true,
                notes: "Biennial reports keep costs low. $30 online."
            },
            {
                state: "Kansas",
                sosUrl: "https://www.sos.ks.gov/",
                incorporationFee: 90,
                amendmentFee: 35,
                annualReportFee: 50,
                reportFrequency: "biennial",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 35,
                onlineAmendments: true,
                notes: "Switched to biennial reporting in 2022."
            },
            {
                state: "Kentucky",
                sosUrl: "https://www.sos.ky.gov/",
                incorporationFee: 100,
                amendmentFee: 90,
                annualReportFee: 15,
                reportFrequency: "annual",
                filingDeadline: "Jun 30",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 90,
                onlineAmendments: true,
                notes: "Low annual report fees. One-time organization tax on capital."
            },
            {
                state: "Louisiana",
                sosUrl: "https://www.sos.la.gov/",
                incorporationFee: 170,
                amendmentFee: 80,
                annualReportFee: 30,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 110,
                dissolutionFee: 75,
                onlineAmendments: true,
                notes: "Franchise tax $110 minimum based on capital."
            },
            {
                state: "Maine",
                sosUrl: "https://www.maine.gov/sos/",
                incorporationFee: 145,
                amendmentFee: 50,
                annualReportFee: 85,
                reportFrequency: "annual",
                filingDeadline: "Jun 1",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 75,
                onlineAmendments: true,
                notes: "Reports due June 1. $50 late penalty."
            },
            {
                state: "Maryland",
                sosUrl: "https://dat.maryland.gov/",
                incorporationFee: 145,
                amendmentFee: 100,
                annualReportFee: 300,
                reportFrequency: "annual",
                filingDeadline: "Apr 15",
                franchiseTaxType: "filing fee",
                annualFranchiseFee: 300,
                dissolutionFee: 100,
                onlineAmendments: true,
                notes: "$300 annual SDAT filing fee. Can be waived with retirement savings program."
            },
            {
                state: "Massachusetts",
                sosUrl: "https://www.sec.state.ma.us/cor/corfees.htm",
                incorporationFee: 275,
                amendmentFee: 100,
                annualReportFee: 125,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 100,
                onlineAmendments: true,
                notes: "High costs. Online filing discounts available."
            },
            {
                state: "Michigan",
                sosUrl: "https://www.michigan.gov/-/media/Project/Websites/lara/cscl/Folder6/Filing_Fees.pdf",
                incorporationFee: 50,
                amendmentFee: 10,
                annualReportFee: 0,
                reportFrequency: "annual",
                filingDeadline: "May 15",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 10,
                onlineAmendments: true,
                notes: "No fee for timely annual reports (due May 15)."
            },
            {
                state: "Minnesota",
                sosUrl: "https://www.sos.state.mn.us/",
                incorporationFee: 155,
                amendmentFee: 35,
                annualReportFee: 0,
                reportFrequency: "annual",
                filingDeadline: "Dec 31",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 0,
                onlineAmendments: true,
                notes: "Free annual renewals for domestic corporations. Free dissolution."
            },
            {
                state: "Mississippi",
                sosUrl: "https://www.sos.ms.gov/",
                incorporationFee: 52,
                amendmentFee: 52,
                annualReportFee: 25,
                reportFrequency: "annual",
                filingDeadline: "Apr 15",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 28,
                onlineAmendments: true,
                notes: "Annual reports required by April 15."
            },
            {
                state: "Missouri",
                sosUrl: "https://www.sos.mo.gov/",
                incorporationFee: 60,
                amendmentFee: 27,
                annualReportFee: 20,
                reportFrequency: "annual",
                filingDeadline: "Anniversary +3mo",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 52,
                onlineAmendments: true,
                notes: "Annual registration reports required."
            },
            {
                state: "Montana",
                sosUrl: "https://sosmt.gov/",
                incorporationFee: 70,
                amendmentFee: 15,
                annualReportFee: 20,
                reportFrequency: "annual",
                filingDeadline: "Apr 15",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 15,
                onlineAmendments: true,
                notes: "Very low fees. $35 if filed after April 15."
            },
            {
                state: "Nebraska",
                sosUrl: "https://www.sos.nebraska.gov/",
                incorporationFee: 67,
                amendmentFee: 32,
                annualReportFee: 26,
                reportFrequency: "biennial",
                filingDeadline: "Mar 1",
                franchiseTaxType: "occupation tax",
                annualFranchiseFee: 26,
                dissolutionFee: 52,
                onlineAmendments: true,
                notes: "Biennial occupation tax based on capital."
            },
            {
                state: "Nevada",
                sosUrl: "https://www.nvsos.gov/sos/businesses/commercial-recordings/forms-fees",
                incorporationFee: 75,
                amendmentFee: 175,
                annualReportFee: 150,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "business license",
                annualFranchiseFee: 500,
                dissolutionFee: 100,
                onlineAmendments: true,
                notes: "No state income tax but high ongoing fees ($650/year total)."
            },
            {
                state: "New Hampshire",
                sosUrl: "https://www.sos.nh.gov/",
                incorporationFee: 100,
                amendmentFee: 35,
                annualReportFee: 100,
                reportFrequency: "annual",
                filingDeadline: "Apr 1",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 35,
                onlineAmendments: true,
                notes: "Reports due April 1. $50 late fee."
            },
            {
                state: "New Jersey",
                sosUrl: "https://www.nj.gov/treasury/revenue/",
                incorporationFee: 130,
                amendmentFee: 75,
                annualReportFee: 75,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 120,
                onlineAmendments: true,
                notes: "Tax clearance required for dissolution."
            },
            {
                state: "New Mexico",
                sosUrl: "https://www.nmcpr.state.nm.us/",
                incorporationFee: 100,
                amendmentFee: 100,
                annualReportFee: 25,
                reportFrequency: "biennial",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 100,
                onlineAmendments: true,
                notes: "Biennial reports reduce frequency."
            },
            {
                state: "New York",
                sosUrl: "https://dos.ny.gov/fee-schedules",
                incorporationFee: 125,
                amendmentFee: 60,
                annualReportFee: 9,
                reportFrequency: "biennial",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 60,
                onlineAmendments: true,
                notes: "Biennial statements every 2 years. Very low fee."
            },
            {
                state: "North Carolina",
                sosUrl: "https://www.sosnc.gov/",
                incorporationFee: 127,
                amendmentFee: 52,
                annualReportFee: 25,
                reportFrequency: "annual",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 200,
                dissolutionFee: 30,
                onlineAmendments: true,
                notes: "Franchise tax $200 minimum via Dept of Revenue."
            },
            {
                state: "North Dakota",
                sosUrl: "https://www.sos.nd.gov/",
                incorporationFee: 100,
                amendmentFee: 20,
                annualReportFee: 25,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 30,
                onlineAmendments: true,
                notes: "Due by Aug 1. $85 late penalty."
            },
            {
                state: "Ohio",
                sosUrl: "https://bsportal.sos.state.oh.us/",
                incorporationFee: 99,
                amendmentFee: 50,
                annualReportFee: 0,
                reportFrequency: "none",
                filingDeadline: "None required",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 50,
                onlineAmendments: true,
                notes: "No annual reports required. Very maintenance-friendly."
            },
            {
                state: "Oklahoma",
                sosUrl: "https://www.sos.ok.gov/",
                incorporationFee: 50,
                amendmentFee: 50,
                annualReportFee: 25,
                reportFrequency: "annual",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 25,
                dissolutionFee: 50,
                onlineAmendments: true,
                notes: "Small capital pays $25 activity fee instead of franchise tax."
            },
            {
                state: "Oregon",
                sosUrl: "https://sos.oregon.gov/",
                incorporationFee: 100,
                amendmentFee: 100,
                annualReportFee: 100,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 100,
                onlineAmendments: true,
                notes: "Higher fees across all categories."
            },
            {
                state: "Pennsylvania",
                sosUrl: "https://www.dos.pa.gov/BusinessCharities/Business/RegistrationForms/Pages/default.aspx",
                incorporationFee: 125,
                amendmentFee: 70,
                annualReportFee: 0,
                reportFrequency: "decennial",
                filingDeadline: "As needed",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 70,
                onlineAmendments: true,
                notes: "No annual reports. Decennial reports every 10 years only if dormant."
            },
            {
                state: "Rhode Island",
                sosUrl: "https://www.sos.ri.gov/",
                incorporationFee: 238,
                amendmentFee: 50,
                annualReportFee: 50,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 50,
                onlineAmendments: true,
                notes: "Reports due March 1. $25 late penalty."
            },
            {
                state: "South Carolina",
                sosUrl: "https://www.sos.sc.gov/",
                incorporationFee: 235,
                amendmentFee: 110,
                annualReportFee: 0,
                reportFrequency: "none",
                filingDeadline: "Apr 15",
                franchiseTaxType: "license fee",
                annualFranchiseFee: 25,
                dissolutionFee: 10,
                onlineAmendments: true,
                notes: "No SOS annual reports. License fee paid with tax return."
            },
            {
                state: "South Dakota",
                sosUrl: "https://sdsos.gov/",
                incorporationFee: 150,
                amendmentFee: 60,
                annualReportFee: 50,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 10,
                onlineAmendments: true,
                notes: "No state corporate income tax."
            },
            {
                state: "Tennessee",
                sosUrl: "https://www.tn.gov/sos/",
                incorporationFee: 105,
                amendmentFee: 20,
                annualReportFee: 20,
                reportFrequency: "annual",
                franchiseTaxType: "franchise tax",
                annualFranchiseFee: 100,
                dissolutionFee: 40,
                onlineAmendments: true,
                notes: "Franchise tax $100 minimum plus 6.5% excise tax."
            },
            {
                state: "Texas",
                sosUrl: "https://direct.sos.state.tx.us/help/help-corp.asp?pg=fee-revised",
                incorporationFee: 300,
                amendmentFee: 150,
                annualReportFee: 0,
                reportFrequency: "none",
                filingDeadline: "May 15",
                franchiseTaxType: "margin tax",
                annualFranchiseFee: 0,
                dissolutionFee: 40,
                onlineAmendments: true,
                corporateIncomeTaxRate: 0,
                smallBusinessThreshold: 1230000,
                minimumTax: 0,
                noTaxThreshold: 1230000,
                notes: "No SOS annual reports. Franchise tax only if revenue >$1.23M."
            },
            {
                state: "Utah",
                sosUrl: "https://corporations.utah.gov/",
                incorporationFee: 76,
                amendmentFee: 43,
                annualReportFee: 20,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 6,
                onlineAmendments: true,
                notes: "Annual renewal $20. $10 late penalty."
            },
            {
                state: "Vermont",
                sosUrl: "https://www.sec.state.vt.us/",
                incorporationFee: 125,
                amendmentFee: 25,
                annualReportFee: 45,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 20,
                onlineAmendments: true,
                notes: "Reports due March 15. $25 late fee."
            },
            {
                state: "Virginia",
                sosUrl: "https://www.scc.virginia.gov/businesses/forms-and-fees/",
                incorporationFee: 77,
                amendmentFee: 25,
                annualReportFee: 100,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 20,
                onlineAmendments: true,
                notes: "Annual registration fee based on authorized shares."
            },
            {
                state: "Washington",
                sosUrl: "https://www.sos.wa.gov/corporations-charities/frequently-asked-questions-faqs/fee-scheduleexpedited-service",
                incorporationFee: 180,
                amendmentFee: 30,
                annualReportFee: 60,
                reportFrequency: "annual",
                filingDeadline: "Anniversary",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 0,
                onlineAmendments: true,
                notes: "No state income tax. Free dissolution."
            },
            {
                state: "West Virginia",
                sosUrl: "https://sos.wv.gov/",
                incorporationFee: 100,
                amendmentFee: 25,
                annualReportFee: 25,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 25,
                onlineAmendments: true,
                notes: "Reports due July 1. $50 late penalty."
            },
            {
                state: "Wisconsin",
                sosUrl: "https://www.wdfi.org/corporations/fees/",
                incorporationFee: 100,
                amendmentFee: 40,
                annualReportFee: 25,
                reportFrequency: "annual",
                franchiseTaxType: "none",
                annualFranchiseFee: 0,
                dissolutionFee: 20,
                onlineAmendments: true,
                notes: "$25 online vs $40 paper. Due by quarter of incorporation."
            },
            {
                state: "Wyoming",
                sosUrl: "https://sos.wyo.gov/business/docs/businessfees.pdf",
                incorporationFee: 102,
                amendmentFee: 50,
                annualReportFee: 60,
                reportFrequency: "annual",
                franchiseTaxType: "license tax",
                annualFranchiseFee: 60,
                dissolutionFee: 50,
                onlineAmendments: true,
                notes: "Asset-based license tax. No income or franchise tax."
            }
        ];

        // Process data and calculate scores
        const corporationData = rawCorporationData.map((corp, index) => {
            const fiveYearTotal = calculate5YearTotal(corp);
            const hassleScore = calculateHassleScore(corp);
            
            return {
                ...corp,
                id: index + 1,
                fiveYearTotal,
                hassleScore
            };
        });

        function App() {
            const [searchTerm, setSearchTerm] = useState('');
            const [costFilter, setCostFilter] = useState('all');
            const [reportFilter, setReportFilter] = useState('all');
            const [revenueFilter, setRevenueFilter] = useState('all');
            const [sortConfig, setSortConfig] = useState({ key: 'hassleScore', direction: 'descending' });
            const [selectedStates, setSelectedStates] = useState(new Set());
            const [showComparison, setShowComparison] = useState(false);
            const [showHeatMap, setShowHeatMap] = useState(false);

            const filteredAndSortedData = useMemo(() => {
                let filtered = corporationData.filter(corp => {
                    const matchesSearch = corp.state.toLowerCase().includes(searchTerm.toLowerCase());
                    
                    let matchesCost = true;
                    if (costFilter !== 'all') {
                        const cost = corp.fiveYearTotal;
                        switch (costFilter) {
                            case '0-500':
                                matchesCost = cost <= 500;
                                break;
                            case '501-1000':
                                matchesCost = cost > 500 && cost <= 1000;
                                break;
                            case '1001-2000':
                                matchesCost = cost > 1000 && cost <= 2000;
                                break;
                            case '2001-5000':
                                matchesCost = cost > 2000 && cost <= 5000;
                                break;
                            case '5001+':
                                matchesCost = cost > 5000;
                                break;
                        }
                    }
                    
                    let matchesFreq = true;
                    if (reportFilter !== 'all') {
                        if (reportFilter === 'no-reports') {
                            matchesFreq = corp.reportFrequency === 'none' || corp.reportFrequency === 'decennial';
                        } else {
                            matchesFreq = corp.reportFrequency === reportFilter;
                        }
                    }
                    
                    let matchesRevenue = true;
                    if (revenueFilter !== 'all') {
                        const revenue = parseInt(revenueFilter);
                        if (corp.noTaxThreshold && revenue <= corp.noTaxThreshold) {
                            matchesRevenue = true; // No corporate income tax
                        } else if (corp.smallBusinessThreshold && revenue <= corp.smallBusinessThreshold) {
                            matchesRevenue = true; // Reduced rates or benefits
                        } else {
                            matchesRevenue = true; // Standard rates apply
                        }
                    }
                    
                    return matchesSearch && matchesCost && matchesFreq && matchesRevenue;
                });

                if (sortConfig.key) {
                    filtered.sort((a, b) => {
                        let aValue = a[sortConfig.key];
                        let bValue = b[sortConfig.key];
                        
                        if (typeof aValue === 'string') {
                            aValue = aValue.toLowerCase();
                            bValue = bValue.toLowerCase();
                        }
                        
                        if (sortConfig.direction === 'ascending') {
                            return aValue > bValue ? 1 : -1;
                        } else {
                            return aValue < bValue ? 1 : -1;
                        }
                    });
                }

                return filtered;
            }, [searchTerm, costFilter, reportFilter, sortConfig]);

            const handleSort = useCallback((key) => {
                setSortConfig(prevConfig => ({
                    key,
                    direction: prevConfig.key === key && prevConfig.direction === 'ascending' ? 'descending' : 'ascending'
                }));
            }, []);

            const handleStateSelection = useCallback((stateId, isSelected) => {
                setSelectedStates(prev => {
                    const newSet = new Set(prev);
                    if (isSelected && newSet.size < 5) {
                        newSet.add(stateId);
                    } else if (!isSelected) {
                        newSet.delete(stateId);
                    } else if (isSelected && newSet.size >= 5) {
                        alert('You can only select up to 5 states for comparison.');
                        return prev;
                    }
                    return newSet;
                });
            }, []);

            const resetFilters = useCallback(() => {
                setSearchTerm('');
                setCostFilter('all');
                setReportFilter('all');
                setRevenueFilter('all');
                setSelectedStates(new Set());
                setShowComparison(false);
                setShowHeatMap(false);
            }, []);

            const exportCSV = useCallback(() => {
                const headers = ['State', 'Incorporation Fee', 'Amendment Fee', 'Annual Report Fee', 'Report Frequency', 'Franchise Tax/Annual Fee', 'Dissolution Fee', '5-Year Total', 'Hassle-Free Score', 'Notes'];
                const csvContent = [
                    headers.join(','),
                    ...filteredAndSortedData.map(corp => [
                        corp.state,
                        `$${corp.incorporationFee}`,
                        `$${corp.amendmentFee}`,
                        `$${corp.annualReportFee}`,
                        corp.reportFrequency,
                        corp.franchiseTaxType === 'none' ? 'None' : `$${corp.annualFranchiseFee}`,
                        `$${corp.dissolutionFee}`,
                        `$${corp.fiveYearTotal.toLocaleString()}`,
                        corp.hassleScore,
                        `"${corp.notes.replace(/"/g, '""')}"`
                    ].join(','))
                ].join('\n');

                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Corporation_Cost_Matrix_2025.csv';
                a.click();
                window.URL.revokeObjectURL(url);
            }, [filteredAndSortedData]);

            const exportExcel = useCallback(() => {
                const excelData = filteredAndSortedData.map(corp => {
                    const revenue = 100000; // Default revenue for calculations
                    const estimatedTax = revenue > (corp.noTaxThreshold || 0) ? 
                        Math.max((revenue * (corp.corporateIncomeTaxRate || 0) / 100), corp.minimumTax || 0) : 0;
                    
                    return [
                        corp.state,
                        corp.incorporationFee,
                        corp.amendmentFee,
                        corp.annualReportFee,
                        corp.reportFrequency,
                        corp.filingDeadline || 'N/A',
                        corp.corporateIncomeTaxRate || 0,
                        corp.smallBusinessThreshold || 0,
                        corp.noTaxThreshold || 0,
                        corp.minimumTax || 0,
                        `=MAX((100000*G${2})/100,J${2})`, // Tax calculation formula
                        corp.annualFranchiseFee,
                        corp.dissolutionFee,
                        `=B${2}+(C${2}*2)+(D${2}*5)+((L${2}+K${2})*5)+M${2}`, // 5-year total formula
                        corp.hassleScore,
                        corp.notes
                    ];
                });

                const headers = [
                    'State', 'Inc Fee', 'Amendment Fee', 'Report Fee', 'Frequency', 'Deadline',
                    'Corp Tax Rate %', 'Small Biz Threshold', 'No Tax Threshold', 'Min Tax',
                    'Est Tax (100K Revenue)', 'Annual Franchise Fee', 'Dissolution Fee',
                    '5-Year Total with Tax', 'Hassle Score', 'Notes'
                ];

                const csvContent = [
                    headers.join(','),
                    ...excelData.map((row, index) => row.map((cell, cellIndex) => 
                        cellIndex >= 10 && cellIndex <= 13 && typeof cell === 'string' && cell.startsWith('=') 
                            ? cell.replace(/\$\{2\}/g, index + 2) // Replace row references
                            : typeof cell === 'string' && cell.includes(',') 
                                ? `"${cell.replace(/"/g, '""')}"` 
                                : cell
                    ).join(','))
                ].join('\n');

                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Corporation_Cost_Matrix_2025_with_Formulas.csv';
                a.click();
                window.URL.revokeObjectURL(url);
            }, [filteredAndSortedData]);

            const getCostClass = useCallback((value, type) => {
                switch (type) {
                    case 'formation':
                        if (value <= 100) return 'formation-low';
                        if (value <= 200) return 'formation-medium';
                        return 'formation-high';
                    case 'amendment':
                        if (value <= 30) return 'amendment-low';
                        if (value <= 70) return 'amendment-medium';
                        return 'amendment-high';
                    case 'dissolution':
                        if (value <= 50) return 'dissolution-low';
                        if (value <= 100) return 'dissolution-medium';
                        return 'dissolution-high';
                    case 'total':
                        if (value <= 500) return 'total-low';
                        if (value <= 1000) return 'total-medium';
                        if (value <= 2500) return 'total-high';
                        return 'total-veryhigh';
                    default:
                        return '';
                }
            }, []);

            const getScoreClass = useCallback((score) => {
                if (score >= 80) return 'score-excellent';
                if (score >= 60) return 'score-good';
                if (score >= 40) return 'score-fair';
                return 'score-poor';
            }, []);

            const getSelectedStatesData = useCallback(() => {
                return corporationData.filter(corp => selectedStates.has(corp.id));
            }, [selectedStates]);

            // Determine top 10 best for small business
            const topTenStates = useMemo(() => {
                const sorted = [...corporationData].sort((a, b) => b.hassleScore - a.hassleScore);
                return new Set(sorted.slice(0, 10).map(corp => corp.id));
            }, []);

            return (
                React.createElement('div', { className: 'dashboard' },
                    React.createElement('div', { className: 'controls' },
                        React.createElement('div', { className: 'control-group' },
                            React.createElement('label', { htmlFor: 'search' }, 'Search State:'),
                            React.createElement('input', {
                                type: 'text',
                                id: 'search',
                                placeholder: 'State name...',
                                value: searchTerm,
                                onChange: (e) => setSearchTerm(e.target.value)
                            })
                        ),
                        
                        React.createElement('div', { className: 'control-group' },
                            React.createElement('label', { htmlFor: 'cost-filter' }, '5-Year Cost Range:'),
                            React.createElement('select', {
                                id: 'cost-filter',
                                value: costFilter,
                                onChange: (e) => setCostFilter(e.target.value)
                            },
                                React.createElement('option', { value: 'all' }, 'All Cost Ranges'),
                                React.createElement('option', { value: '0-500' }, '$0 - $500'),
                                React.createElement('option', { value: '501-1000' }, '$501 - $1,000'),
                                React.createElement('option', { value: '1001-2000' }, '$1,001 - $2,000'),
                                React.createElement('option', { value: '2001-5000' }, '$2,001 - $5,000'),
                                React.createElement('option', { value: '5001+' }, '$5,001+')
                            )
                        ),
                        
                        React.createElement('div', { className: 'control-group' },
                            React.createElement('label', { htmlFor: 'report-filter' }, 'Report Requirements:'),
                            React.createElement('select', {
                                id: 'report-filter',
                                value: reportFilter,
                                onChange: (e) => setReportFilter(e.target.value)
                            },
                                React.createElement('option', { value: 'all' }, 'All Requirements'),
                                React.createElement('option', { value: 'no-reports' }, 'No Annual Reports'),
                                React.createElement('option', { value: 'annual' }, 'Annual Reports'),
                                React.createElement('option', { value: 'biennial' }, 'Biennial Reports')
                            )
                        ),
                        
                        React.createElement('div', { className: 'control-group' },
                            React.createElement('label', { htmlFor: 'revenue-filter' }, 'Expected Annual Revenue:'),
                            React.createElement('select', {
                                id: 'revenue-filter',
                                value: revenueFilter,
                                onChange: (e) => setRevenueFilter(e.target.value)
                            },
                                React.createElement('option', { value: 'all' }, 'All Revenue Ranges'),
                                React.createElement('option', { value: '25000' }, 'Under $25K'),
                                React.createElement('option', { value: '50000' }, 'Under $50K'),
                                React.createElement('option', { value: '100000' }, 'Under $100K'),
                                React.createElement('option', { value: '500000' }, 'Under $500K'),
                                React.createElement('option', { value: '1000000' }, 'Under $1M'),
                                React.createElement('option', { value: '5000000' }, 'Under $5M'),
                                React.createElement('option', { value: '10000000' }, '$10M+')
                            )
                        ),
                        
                        React.createElement('div', { className: 'button-container' },
                            React.createElement('button', {
                                className: 'compare-btn',
                                disabled: selectedStates.size === 0,
                                onClick: () => setShowComparison(true)
                            }, `COMPARE SELECTED (${selectedStates.size})`),
                            React.createElement('button', {
                                className: 'reset-btn',
                                onClick: resetFilters
                            }, 'RESET FILTERS'),
                            React.createElement('button', {
                                className: 'export-btn',
                                onClick: exportCSV
                            }, 'EXPORT CSV'),
                            React.createElement('button', {
                                className: 'export-btn',
                                onClick: exportExcel
                            }, 'EXPORT EXCEL'),
                            React.createElement('button', {
                                className: 'compare-btn',
                                onClick: () => setShowHeatMap(!showHeatMap)
                            }, showHeatMap ? 'HIDE HEAT MAP' : 'SHOW HEAT MAP')
                        )
                    ),

                    React.createElement('div', { className: 'table-container' },
                        React.createElement('div', { className: 'table-sticky-header' },
                            React.createElement('table', { className: 'corp-cost-table' },
                                React.createElement('thead', {},
                                    React.createElement('tr', {},
                                        React.createElement('th', { className: 'checkbox-col' },
                                            React.createElement('input', {
                                                type: 'checkbox',
                                                checked: selectedStates.size > 0,
                                                onChange: (e) => {
                                                    if (e.target.checked) {
                                                        const visibleStates = filteredAndSortedData.slice(0, 5).map(corp => corp.id);
                                                        setSelectedStates(new Set(visibleStates));
                                                    } else {
                                                        setSelectedStates(new Set());
                                                    }
                                                }
                                            })
                                        ),
                                        React.createElement('th', {
                                            className: 'state-col sortable',
                                            onClick: () => handleSort('state')
                                        }, `State${sortConfig.key === 'state' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'fee-col sortable',
                                            onClick: () => handleSort('incorporationFee')
                                        }, `Inc. Fee${sortConfig.key === 'incorporationFee' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'fee-col sortable',
                                            onClick: () => handleSort('amendmentFee')
                                        }, `Amend. Fee${sortConfig.key === 'amendmentFee' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'report-col sortable',
                                            onClick: () => handleSort('annualReportFee')
                                        }, `Report Fee${sortConfig.key === 'annualReportFee' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'frequency-col sortable',
                                            onClick: () => handleSort('reportFrequency')
                                        }, `Frequency${sortConfig.key === 'reportFrequency' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'deadline-col sortable',
                                            onClick: () => handleSort('filingDeadline')
                                        }, `Deadline${sortConfig.key === 'filingDeadline' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'tax-col sortable',
                                            onClick: () => handleSort('annualFranchiseFee')
                                        }, `Annual Tax/Fee${sortConfig.key === 'annualFranchiseFee' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'dissolution-col sortable',
                                            onClick: () => handleSort('dissolutionFee')
                                        }, `Dissolution${sortConfig.key === 'dissolutionFee' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'total-col sortable',
                                            onClick: () => handleSort('fiveYearTotal')
                                        }, `5-Year Total${sortConfig.key === 'fiveYearTotal' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', {
                                            className: 'score-col sortable',
                                            onClick: () => handleSort('hassleScore')
                                        }, `Score${sortConfig.key === 'hassleScore' ? (sortConfig.direction === 'ascending' ? ' ↑' : ' ↓') : ''}`),
                                        React.createElement('th', { className: 'notes-col' }, 'Notes')
                                    )
                                ),
                                React.createElement('tbody', {},
                                    filteredAndSortedData.map((corp) =>
                                        React.createElement('tr', { 
                                            key: corp.id,
                                            className: topTenStates.has(corp.id) ? 'best-for-business' : ''
                                        },
                                            React.createElement('td', { className: 'checkbox-col' },
                                                React.createElement('input', {
                                                    type: 'checkbox',
                                                    checked: selectedStates.has(corp.id),
                                                    onChange: (e) => handleStateSelection(corp.id, e.target.checked)
                                                })
                                            ),
                                            React.createElement('td', { className: 'state-col' },
                                                React.createElement('a', {
                                                    href: corp.sosUrl,
                                                    target: '_blank',
                                                    rel: 'noopener noreferrer',
                                                    className: 'state-link'
                                                }, corp.state),
                                                topTenStates.has(corp.id) && React.createElement('span', {
                                                    style: { fontSize: '10px', color: '#27ae60', fontWeight: 'bold', display: 'block' }
                                                }, 'TOP 10')
                                            ),
                                            React.createElement('td', { className: getCostClass(corp.incorporationFee, 'formation') }, `$${corp.incorporationFee}`),
                                            React.createElement('td', { className: getCostClass(corp.amendmentFee, 'amendment') }, `$${corp.amendmentFee}`),
                                            React.createElement('td', {}, corp.annualReportFee === 0 ? 'Free' : `$${corp.annualReportFee}`),
                                            React.createElement('td', {}, corp.reportFrequency.charAt(0).toUpperCase() + corp.reportFrequency.slice(1)),
                                            React.createElement('td', { className: 'deadline-col' }, corp.filingDeadline || 'N/A'),
                                            React.createElement('td', {}, 
                                                corp.franchiseTaxType === 'none' ? 'None' : 
                                                corp.annualFranchiseFee === 0 ? corp.franchiseTaxType : `$${corp.annualFranchiseFee}`
                                            ),
                                            React.createElement('td', { className: getCostClass(corp.dissolutionFee, 'dissolution') }, 
                                                corp.dissolutionFee === 0 ? 'Free' : `$${corp.dissolutionFee}`
                                            ),
                                            React.createElement('td', { className: getCostClass(corp.fiveYearTotal, 'total') }, 
                                                `$${corp.fiveYearTotal.toLocaleString()}`
                                            ),
                                            React.createElement('td', { className: getScoreClass(corp.hassleScore) }, corp.hassleScore),
                                            React.createElement('td', { className: 'notes-col' }, corp.notes)
                                        )
                                    )
                                )
                            )
                        )
                    ),

                    showComparison && selectedStates.size > 0 && React.createElement(ComparisonView, {
                        states: getSelectedStatesData(),
                        onClose: () => setShowComparison(false)
                    }),

                    showHeatMap && React.createElement(HeatMapView, {
                        data: filteredAndSortedData,
                        onClose: () => setShowHeatMap(false)
                    }),

                    React.createElement('div', { className: 'disclaimer' },
                        React.createElement('strong', {}, 'Data Updated for 2025:'),
                        ' All information verified from official state websites as of January 2025. ',
                        'The 5-Year Total includes incorporation fee + (2 amendment fees) + (5 years of reports/taxes) + dissolution fee. ',
                        'Hassle-Free Score (0-100) prioritizes: no annual reports (+30), low fees, no franchise taxes. ',
                        'Always verify current requirements with official state websites as fees and deadlines may change.'
                    )
                )
            );
        }

        function HeatMapView({ data, onClose }) {
            const maxTotal = Math.max(...data.map(corp => corp.fiveYearTotal));
            const minTotal = Math.min(...data.map(corp => corp.fiveYearTotal));
            
            const getColorIntensity = (total) => {
                const intensity = (total - minTotal) / (maxTotal - minTotal);
                return `rgba(231, 76, 60, ${0.2 + (intensity * 0.6)})`;
            };

            const stateAbbreviations = {
                'Alabama': 'AL', 'Alaska': 'AK', 'Arizona': 'AZ', 'Arkansas': 'AR', 'California': 'CA',
                'Colorado': 'CO', 'Connecticut': 'CT', 'Delaware': 'DE', 'Florida': 'FL', 'Georgia': 'GA',
                'Hawaii': 'HI', 'Idaho': 'ID', 'Illinois': 'IL', 'Indiana': 'IN', 'Iowa': 'IA',
                'Kansas': 'KS', 'Kentucky': 'KY', 'Louisiana': 'LA', 'Maine': 'ME', 'Maryland': 'MD',
                'Massachusetts': 'MA', 'Michigan': 'MI', 'Minnesota': 'MN', 'Mississippi': 'MS', 'Missouri': 'MO',
                'Montana': 'MT', 'Nebraska': 'NE', 'Nevada': 'NV', 'New Hampshire': 'NH', 'New Jersey': 'NJ',
                'New Mexico': 'NM', 'New York': 'NY', 'North Carolina': 'NC', 'North Dakota': 'ND', 'Ohio': 'OH',
                'Oklahoma': 'OK', 'Oregon': 'OR', 'Pennsylvania': 'PA', 'Rhode Island': 'RI', 'South Carolina': 'SC',
                'South Dakota': 'SD', 'Tennessee': 'TN', 'Texas': 'TX', 'Utah': 'UT', 'Vermont': 'VT',
                'Virginia': 'VA', 'Washington': 'WA', 'West Virginia': 'WV', 'Wisconsin': 'WI', 'Wyoming': 'WY'
            };

            return React.createElement('div', { className: 'comparison-view' },
                React.createElement('div', { className: 'comparison-header' },
                    React.createElement('h2', {}, 'Cost Heat Map - 5-Year Total Costs'),
                    React.createElement('button', {
                        className: 'reset-btn',
                        onClick: onClose
                    }, 'CLOSE HEAT MAP')
                ),
                React.createElement('div', { 
                    style: { 
                        display: 'grid', 
                        gridTemplateColumns: 'repeat(10, 1fr)', 
                        gap: '10px', 
                        padding: '20px',
                        maxWidth: '800px',
                        margin: '0 auto'
                    } 
                },
                    data.map((corp) =>
                        React.createElement('div', { 
                            key: corp.id,
                            style: {
                                backgroundColor: getColorIntensity(corp.fiveYearTotal),
                                border: '1px solid #ddd',
                                borderRadius: '4px',
                                padding: '8px',
                                textAlign: 'center',
                                fontSize: '12px',
                                fontWeight: 'bold',
                                cursor: 'pointer',
                                minHeight: '60px',
                                display: 'flex',
                                flexDirection: 'column',
                                justifyContent: 'center'
                            },
                            title: `${corp.state}: $${corp.fiveYearTotal.toLocaleString()}`
                        },
                            React.createElement('div', {}, stateAbbreviations[corp.state] || corp.state.slice(0,2).toUpperCase()),
                            React.createElement('div', { style: { fontSize: '10px', marginTop: '4px' } }, 
                                `$${corp.fiveYearTotal.toLocaleString()}`
                            )
                        )
                    )
                ),
                React.createElement('div', { 
                    style: { 
                        display: 'flex', 
                        justifyContent: 'center', 
                        alignItems: 'center', 
                        gap: '10px', 
                        marginTop: '20px',
                        fontSize: '12px'
                    } 
                },
                    React.createElement('span', {}, 'Low Cost'),
                    React.createElement('div', { 
                        style: { 
                            width: '200px', 
                            height: '20px', 
                            background: 'linear-gradient(to right, rgba(231, 76, 60, 0.2), rgba(231, 76, 60, 0.8))',
                            border: '1px solid #ddd'
                        } 
                    }),
                    React.createElement('span', {}, 'High Cost')
                )
            );
        }

        function ComparisonView({ states, onClose }) {
            return React.createElement('div', { className: 'comparison-view' },
                React.createElement('div', { className: 'comparison-header' },
                    React.createElement('h2', {}, 'State Corporation Comparison'),
                    React.createElement('button', {
                        className: 'reset-btn',
                        onClick: onClose
                    }, 'CLOSE COMPARISON')
                ),
                React.createElement('div', { className: 'comparison-grid' },
                    states.map((state) =>
                        React.createElement('div', { key: state.id, className: 'comparison-item' },
                            React.createElement('div', { className: 'comparison-item-header' },
                                React.createElement('a', {
                                    href: state.sosUrl,
                                    target: '_blank',
                                    rel: 'noopener noreferrer',
                                    className: 'state-link',
                                    style: { color: 'white', textDecoration: 'none' }
                                }, state.state),
                                React.createElement('div', { 
                                    style: { fontSize: '14px', marginTop: '5px' } 
                                }, `Hassle-Free Score: ${state.hassleScore}`)
                            ),
                            React.createElement('div', { className: 'comparison-item-body' },
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Incorporation Fee'),
                                    React.createElement('p', {}, `$${state.incorporationFee}`)
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Amendment Fee'),
                                    React.createElement('p', {}, `$${state.amendmentFee}`)
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Annual Report Fee'),
                                    React.createElement('p', {}, state.annualReportFee === 0 ? 'Free' : `$${state.annualReportFee}`)
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Report Frequency'),
                                    React.createElement('p', {}, state.reportFrequency.charAt(0).toUpperCase() + state.reportFrequency.slice(1))
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Filing Deadline'),
                                    React.createElement('p', {}, state.filingDeadline || 'N/A')
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Annual Tax/Fee'),
                                    React.createElement('p', {}, 
                                        state.franchiseTaxType === 'none' ? 'None' : 
                                        state.annualFranchiseFee === 0 ? state.franchiseTaxType : `$${state.annualFranchiseFee}`
                                    )
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Dissolution Fee'),
                                    React.createElement('p', {}, state.dissolutionFee === 0 ? 'Free' : `$${state.dissolutionFee}`)
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, '5-Year Total Cost'),
                                    React.createElement('p', { style: { fontSize: '18px', fontWeight: 'bold' } }, `$${state.fiveYearTotal.toLocaleString()}`)
                                ),
                                React.createElement('div', { className: 'comparison-item-row' },
                                    React.createElement('strong', {}, 'Special Notes'),
                                    React.createElement('p', {}, state.notes)
                                )
                            )
                        )
                    )
                )
            );
        }

        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>