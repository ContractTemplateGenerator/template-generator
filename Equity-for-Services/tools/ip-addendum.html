<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP + Work Product Addendum Generator | Terms.Law</title>
    <meta name="description" content="Create IP assignment or license clauses, background IP schedules, and confidentiality provisions for equity-for-services arrangements.">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-901N2Y3CDZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-901N2Y3CDZ');
    </script>

    <style>
        :root {
            --bg-dark: #0a0f1a;
            --bg-card: #111827;
            --bg-card-hover: #1a2332;
            --bg-input: #1f2937;
            --accent-blue: #3b82f6;
            --accent-blue-hover: #2563eb;
            --accent-green: #10b981;
            --accent-purple: #8b5cf6;
            --accent-orange: #f59e0b;
            --accent-red: #ef4444;
            --text-primary: #f9fafb;
            --text-secondary: #9ca3af;
            --text-muted: #6b7280;
            --border-color: #1f2937;
            --border-focus: #3b82f6;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-blue);
            text-decoration: none;
        }

        .logo span { color: var(--text-secondary); font-weight: 400; }

        .breadcrumbs {
            padding: 1rem 2rem;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
        }

        .breadcrumbs-content {
            max-width: 1400px;
            margin: 0 auto;
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .breadcrumbs a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
        }

        .breadcrumbs a:hover { color: var(--accent-blue); }
        .breadcrumbs span { color: var(--text-primary); }

        .main-layout {
            display: flex;
            max-width: 1600px;
            margin: 0 auto;
            min-height: calc(100vh - 120px);
        }

        .sidebar {
            width: 280px;
            background: var(--bg-card);
            border-right: 1px solid var(--border-color);
            padding: 1.5rem;
            position: sticky;
            top: 120px;
            height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .sidebar-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .sidebar-nav { list-style: none; }
        .sidebar-nav li { margin-bottom: 0.25rem; }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .sidebar-nav a:hover {
            background: var(--bg-input);
            color: var(--text-primary);
        }

        .sidebar-nav a.active {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
        }

        .sidebar-nav .icon { width: 20px; height: 20px; opacity: 0.7; }
        .sidebar-divider { height: 1px; background: var(--border-color); margin: 1.5rem 0; }

        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .page-header { margin-bottom: 2rem; }

        .page-title {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .page-subtitle { color: var(--text-secondary); }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { padding: 1rem; }
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        @media (max-width: 1000px) {
            .form-grid { grid-template-columns: 1fr; }
        }

        .form-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .form-card.full-width {
            grid-column: 1 / -1;
        }

        .form-card-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-card-title .icon { color: var(--accent-red); }

        .form-group { margin-bottom: 1.25rem; }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--bg-input);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: border-color 0.2s;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--border-focus);
        }

        .form-select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.25rem;
            padding-right: 2.5rem;
        }

        .form-textarea { min-height: 100px; resize: vertical; }
        .form-hint { font-size: 0.8rem; color: var(--text-muted); margin-top: 0.25rem; }

        .radio-group {
            display: flex;
            gap: 1rem;
        }

        @media (max-width: 600px) {
            .radio-group { flex-direction: column; }
        }

        .radio-card {
            flex: 1;
            background: var(--bg-input);
            border: 2px solid transparent;
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .radio-card:hover {
            background: var(--bg-card-hover);
        }

        .radio-card.selected {
            border-color: var(--accent-blue);
            background: rgba(59, 130, 246, 0.1);
        }

        .radio-card input { display: none; }

        .radio-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .radio-indicator {
            width: 18px;
            height: 18px;
            border: 2px solid var(--text-muted);
            border-radius: 50%;
            position: relative;
        }

        .radio-card.selected .radio-indicator {
            border-color: var(--accent-blue);
        }

        .radio-card.selected .radio-indicator::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 8px;
            height: 8px;
            background: var(--accent-blue);
            border-radius: 50%;
        }

        .radio-title {
            font-weight: 600;
            color: var(--text-primary);
        }

        .radio-desc {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-left: 26px;
        }

        .ip-item {
            background: var(--bg-input);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }

        .ip-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .ip-item-number {
            font-weight: 600;
            color: var(--accent-orange);
        }

        .btn-remove {
            background: transparent;
            border: none;
            color: var(--accent-red);
            cursor: pointer;
            padding: 0.25rem;
        }

        .btn-add {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: transparent;
            color: var(--accent-blue);
            border: 1px dashed var(--accent-blue);
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
            width: 100%;
            justify-content: center;
        }

        .btn-add:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.875rem 1.5rem;
            background: var(--accent-blue);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            width: 100%;
            margin-top: 1.5rem;
        }

        .btn-primary:hover { background: var(--accent-blue-hover); }

        .btn-secondary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: var(--bg-input);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-secondary:hover {
            background: var(--bg-card-hover);
            color: var(--text-primary);
        }

        .output-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
            display: none;
        }

        .output-section.visible { display: block; }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .output-title { font-size: 1.25rem; font-weight: 600; }
        .output-actions { display: flex; gap: 0.5rem; }

        .clause-section {
            background: var(--bg-input);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .clause-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .clause-title.assignment { color: var(--accent-red); }
        .clause-title.background { color: var(--accent-orange); }
        .clause-title.confidentiality { color: var(--accent-purple); }
        .clause-title.portfolio { color: var(--accent-green); }

        .clause-text {
            font-family: 'Georgia', serif;
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.8;
            white-space: pre-wrap;
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
        }

        .schedule-table th,
        .schedule-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .schedule-table th {
            background: var(--bg-card);
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.85rem;
            text-transform: uppercase;
        }

        .schedule-table td {
            color: var(--text-primary);
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
        }

        .checkbox-item input {
            width: 18px;
            height: 18px;
            accent-color: var(--accent-blue);
        }

        .checkbox-item span {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../../" class="logo">Terms<span>.Law</span></a>
        </div>
    </header>

    <nav class="breadcrumbs">
        <div class="breadcrumbs-content">
            <a href="../../">Home</a> &gt;
            <a href="../">Equity for Services</a> &gt;
            <a href="./">Tools</a> &gt;
            <span>IP Addendum</span>
        </div>
    </nav>

    <div class="main-layout">
        <aside class="sidebar">
            <h3 class="sidebar-title">Tools</h3>
            <ul class="sidebar-nav">
                <li>
                    <a href="./deal-builder.html">
                        <svg class="icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        Deal Builder
                    </a>
                </li>
                <li>
                    <a href="./vesting-builder.html">
                        <svg class="icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Vesting Builder
                    </a>
                </li>
                <li>
                    <a href="./buyout-generator.html">
                        <svg class="icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Buyout Generator
                    </a>
                </li>
                <li>
                    <a href="./document-recommender.html">
                        <svg class="icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                        </svg>
                        Document Recommender
                    </a>
                </li>
                <li>
                    <a href="./ip-addendum.html" class="active">
                        <svg class="icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                        </svg>
                        IP Addendum
                    </a>
                </li>
                <li>
                    <a href="./cross-border-spotter.html">
                        <svg class="icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Cross-Border Spotter
                    </a>
                </li>
            </ul>

            <div class="sidebar-divider"></div>

            <h3 class="sidebar-title">Hub</h3>
            <ul class="sidebar-nav">
                <li>
                    <a href="../">
                        <svg class="icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                        </svg>
                        Back to Hub
                    </a>
                </li>
            </ul>
        </aside>

        <main class="main-content">
            <div class="page-header">
                <h1 class="page-title">IP + Work Product Addendum Generator</h1>
                <p class="page-subtitle">Create IP assignment or license clauses, background IP schedules, and confidentiality provisions</p>
            </div>

            <div class="form-grid">
                <div class="form-card">
                    <h2 class="form-card-title">
                        <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                        </svg>
                        IP Rights Structure
                    </h2>

                    <div class="form-group">
                        <label class="form-label">IP Rights Type</label>
                        <div class="radio-group">
                            <label class="radio-card" onclick="selectRadio(this, 'assignment')">
                                <input type="radio" name="ipType" value="assignment">
                                <div class="radio-header">
                                    <div class="radio-indicator"></div>
                                    <span class="radio-title">Full Assignment</span>
                                </div>
                                <div class="radio-desc">Company owns all IP outright</div>
                            </label>
                            <label class="radio-card" onclick="selectRadio(this, 'license')">
                                <input type="radio" name="ipType" value="license">
                                <div class="radio-header">
                                    <div class="radio-indicator"></div>
                                    <span class="radio-title">License Grant</span>
                                </div>
                                <div class="radio-desc">Provider retains ownership, grants license</div>
                            </label>
                        </div>
                    </div>

                    <div id="licenseOptions" style="display: none;">
                        <div class="form-group">
                            <label class="form-label">License Scope</label>
                            <select id="licenseScope" class="form-select">
                                <option value="exclusive">Exclusive License</option>
                                <option value="non-exclusive">Non-Exclusive License</option>
                                <option value="exclusive-field">Exclusive in Field of Use</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">License Duration</label>
                            <select id="licenseDuration" class="form-select">
                                <option value="perpetual">Perpetual</option>
                                <option value="term">Term of Service Agreement</option>
                                <option value="years">Fixed Term (Years)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Work Product Categories</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="wpSoftware" checked>
                                <span>Software / Code</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="wpDesigns" checked>
                                <span>Designs / Graphics</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="wpDocuments">
                                <span>Documents / Content</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="wpInventions">
                                <span>Inventions / Patents</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="wpTrade">
                                <span>Trade Secrets / Know-How</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-card">
                    <h2 class="form-card-title">
                        <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                        </svg>
                        Confidentiality
                    </h2>

                    <div class="form-group">
                        <label class="form-label">Confidentiality Level</label>
                        <select id="confidentialityLevel" class="form-select">
                            <option value="standard">Standard (Business Information)</option>
                            <option value="enhanced">Enhanced (Trade Secrets)</option>
                            <option value="maximum">Maximum (Highly Sensitive)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Confidentiality Duration</label>
                        <select id="confidentialityDuration" class="form-select">
                            <option value="2">2 Years Post-Termination</option>
                            <option value="3">3 Years Post-Termination</option>
                            <option value="5">5 Years Post-Termination</option>
                            <option value="perpetual">Perpetual (Trade Secrets)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Permitted Disclosures</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="discloseLegal" checked>
                                <span>Required by Law / Court Order</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="discloseAdvisors">
                                <span>Professional Advisors (Attorneys, CPAs)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="discloseAffiliates">
                                <span>Affiliates with Need to Know</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-card full-width">
                    <h2 class="form-card-title">
                        <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                        Background IP (Pre-Existing IP to Exclude)
                    </h2>

                    <p class="form-hint" style="margin-bottom: 1rem;">List any pre-existing intellectual property that the service provider brings to the engagement and wishes to exclude from the assignment.</p>

                    <div id="backgroundIpList"></div>

                    <button type="button" class="btn-add" onclick="addBackgroundIP()">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M12 4v16m8-8H4"/>
                        </svg>
                        Add Background IP Item
                    </button>
                </div>

                <div class="form-card full-width">
                    <h2 class="form-card-title">
                        <svg class="icon" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        Portfolio Rights
                    </h2>

                    <div class="form-group">
                        <label class="form-label">May the service provider display the work in their portfolio?</label>
                        <div class="radio-group">
                            <label class="radio-card" onclick="selectRadio(this, 'yes')">
                                <input type="radio" name="portfolioRights" value="yes">
                                <div class="radio-header">
                                    <div class="radio-indicator"></div>
                                    <span class="radio-title">Yes, with Approval</span>
                                </div>
                                <div class="radio-desc">Provider may display after company approval</div>
                            </label>
                            <label class="radio-card" onclick="selectRadio(this, 'limited')">
                                <input type="radio" name="portfolioRights" value="limited">
                                <div class="radio-header">
                                    <div class="radio-indicator"></div>
                                    <span class="radio-title">Limited Display</span>
                                </div>
                                <div class="radio-desc">Description only, no visual samples</div>
                            </label>
                            <label class="radio-card" onclick="selectRadio(this, 'no')">
                                <input type="radio" name="portfolioRights" value="no">
                                <div class="radio-header">
                                    <div class="radio-indicator"></div>
                                    <span class="radio-title">No Display</span>
                                </div>
                                <div class="radio-desc">Work remains fully confidential</div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <button class="btn-primary" onclick="generateAddendum()">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                </svg>
                Generate IP Addendum
            </button>

            <div id="outputSection" class="output-section">
                <div class="output-header">
                    <h2 class="output-title">IP + Work Product Addendum</h2>
                    <div class="output-actions">
                        <button class="btn-secondary" onclick="copyOutput()">
                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            Copy
                        </button>
                        <button class="btn-secondary" onclick="downloadOutput()">
                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                            </svg>
                            Download
                        </button>
                    </div>
                </div>

                <div id="ipAssignmentClause" class="clause-section"></div>

                <div id="backgroundIpSchedule" class="clause-section"></div>

                <div id="confidentialityClause" class="clause-section"></div>

                <div id="portfolioClause" class="clause-section"></div>
            </div>
        </main>
    </div>

    <script>
        let backgroundIpCount = 0;

        function selectRadio(element, value) {
            const parent = element.parentElement;
            parent.querySelectorAll('.radio-card').forEach(card => {
                card.classList.remove('selected');
            });
            element.classList.add('selected');
            element.querySelector('input').checked = true;

            // Show/hide license options
            if (element.querySelector('input[name="ipType"]')) {
                document.getElementById('licenseOptions').style.display =
                    value === 'license' ? 'block' : 'none';
            }
        }

        function addBackgroundIP() {
            backgroundIpCount++;
            const list = document.getElementById('backgroundIpList');
            const item = document.createElement('div');
            item.className = 'ip-item';
            item.id = `ip-item-${backgroundIpCount}`;
            item.innerHTML = `
                <div class="ip-item-header">
                    <span class="ip-item-number">Background IP #${backgroundIpCount}</span>
                    <button type="button" class="btn-remove" onclick="removeBackgroundIP(${backgroundIpCount})">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                <div class="form-group" style="margin-bottom: 0.75rem;">
                    <input type="text" class="form-input ip-name" placeholder="Name / Title of IP">
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <textarea class="form-textarea ip-description" placeholder="Brief description of the IP and how it may be used in the project" style="min-height: 60px;"></textarea>
                </div>
            `;
            list.appendChild(item);
        }

        function removeBackgroundIP(id) {
            const item = document.getElementById(`ip-item-${id}`);
            if (item) item.remove();
        }

        function generateAddendum() {
            const ipType = document.querySelector('input[name="ipType"]:checked')?.value;
            const portfolioRights = document.querySelector('input[name="portfolioRights"]:checked')?.value;
            const confidentialityLevel = document.getElementById('confidentialityLevel').value;
            const confidentialityDuration = document.getElementById('confidentialityDuration').value;

            if (!ipType) {
                alert('Please select an IP rights type (Assignment or License)');
                return;
            }

            // Work product categories
            const categories = [];
            if (document.getElementById('wpSoftware').checked) categories.push('software, source code, object code, and related documentation');
            if (document.getElementById('wpDesigns').checked) categories.push('designs, graphics, artwork, and visual materials');
            if (document.getElementById('wpDocuments').checked) categories.push('documents, written content, and literary works');
            if (document.getElementById('wpInventions').checked) categories.push('inventions, discoveries, and patentable subject matter');
            if (document.getElementById('wpTrade').checked) categories.push('trade secrets, know-how, and proprietary methodologies');

            // Generate IP Assignment/License Clause
            let ipClauseHTML = '';
            if (ipType === 'assignment') {
                ipClauseHTML = `
                    <h3 class="clause-title assignment">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                        </svg>
                        IP Assignment Clause
                    </h3>
                    <div class="clause-text">INTELLECTUAL PROPERTY ASSIGNMENT

1. Assignment of Work Product. Service Provider hereby irrevocably assigns, transfers, and conveys to the Company all right, title, and interest in and to all Work Product, including all intellectual property rights therein. "Work Product" means all ${categories.join('; ')}, created, conceived, developed, or reduced to practice by Service Provider, alone or with others, during the term of this Agreement and in connection with the Services.

2. Work Made for Hire. To the extent any Work Product qualifies as a "work made for hire" under the United States Copyright Act, it shall be deemed a work made for hire, with all copyrights vesting in the Company. To the extent any Work Product does not qualify as a work made for hire, Service Provider hereby assigns all copyrights therein to the Company.

3. Moral Rights. Service Provider hereby irrevocably waives any and all "moral rights" or similar rights in the Work Product, including rights of attribution and integrity, to the fullest extent permitted by applicable law.

4. Further Assurances. Service Provider agrees to execute all documents and take all actions reasonably requested by the Company to perfect, register, or enforce the Company's rights in the Work Product, including patent and copyright applications. Service Provider hereby appoints the Company as Service Provider's attorney-in-fact to execute such documents if Service Provider fails to do so within ten (10) business days of request.

5. Records and Disclosure. Service Provider shall maintain accurate records of all Work Product and shall promptly disclose all Work Product to the Company.</div>
                `;
            } else {
                const scope = document.getElementById('licenseScope').value;
                const duration = document.getElementById('licenseDuration').value;
                const scopeText = scope === 'exclusive' ? 'exclusive, worldwide' : (scope === 'exclusive-field' ? 'exclusive within the Field of Use, worldwide' : 'non-exclusive, worldwide');
                const durationText = duration === 'perpetual' ? 'perpetual and irrevocable' : (duration === 'term' ? 'for the term of the Service Agreement and any renewal periods' : 'for a period of [X] years from the Effective Date');

                ipClauseHTML = `
                    <h3 class="clause-title assignment">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                        </svg>
                        IP License Grant Clause
                    </h3>
                    <div class="clause-text">INTELLECTUAL PROPERTY LICENSE

1. License Grant. Service Provider hereby grants to the Company a ${scopeText}, royalty-free, fully paid-up, sublicensable, and transferable license to use, reproduce, modify, create derivative works of, distribute, publicly display, publicly perform, and otherwise exploit all Work Product for any purpose. This license shall be ${durationText}.

2. Retained Ownership. Service Provider retains ownership of all Work Product, subject to the license granted herein. Service Provider represents that it has the full right and authority to grant this license.

3. Definition of Work Product. "Work Product" means all ${categories.join('; ')}, created, conceived, developed, or reduced to practice by Service Provider, alone or with others, during the term of this Agreement and in connection with the Services.

4. Improvements. Any improvements, modifications, or derivative works created by the Company based on the Work Product shall be owned by the Company, and Service Provider hereby assigns any rights therein to the Company.

5. No Additional Compensation. No additional royalties, fees, or compensation shall be due to Service Provider for the Company's exercise of the rights granted herein.</div>
                `;
            }

            document.getElementById('ipAssignmentClause').innerHTML = ipClauseHTML;

            // Generate Background IP Schedule
            const backgroundItems = [];
            document.querySelectorAll('.ip-item').forEach((item, index) => {
                const name = item.querySelector('.ip-name').value;
                const description = item.querySelector('.ip-description').value;
                if (name) {
                    backgroundItems.push({ num: index + 1, name, description });
                }
            });

            let backgroundHTML = `
                <h3 class="clause-title background">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    Background IP Schedule
                </h3>
            `;

            if (backgroundItems.length > 0) {
                backgroundHTML += `
                    <div class="clause-text" style="margin-bottom: 1rem;">The following pre-existing intellectual property is excluded from the assignment/license and remains the sole property of Service Provider. Company is granted a non-exclusive license to use such Background IP solely to the extent incorporated into the Work Product:</div>
                    <table class="schedule-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Name / Title</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${backgroundItems.map(item => `
                                <tr>
                                    <td>${item.num}</td>
                                    <td>${item.name}</td>
                                    <td>${item.description || 'N/A'}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            } else {
                backgroundHTML += `
                    <div class="clause-text">Service Provider represents that no Background IP will be incorporated into the Work Product. If Service Provider later incorporates any Background IP, Service Provider shall promptly notify the Company and this Schedule shall be amended accordingly.</div>
                `;
            }

            document.getElementById('backgroundIpSchedule').innerHTML = backgroundHTML;

            // Generate Confidentiality Clause
            const durationYears = confidentialityDuration === 'perpetual' ? 'perpetually (with respect to trade secrets) and for a period of five (5) years (for other Confidential Information)' : `for a period of ${confidentialityDuration} years following termination of the Service Agreement`;

            const confidentialityLevels = {
                'standard': 'using reasonable care, and in no event less than the care it uses to protect its own confidential information',
                'enhanced': 'using at least the same degree of care as it uses to protect its own most sensitive trade secrets, and in no event less than a high degree of care',
                'maximum': 'using the highest degree of care, including limiting access to only those individuals with a strict need to know, maintaining access logs, and implementing additional security measures as directed by the Company'
            };

            const disclosures = [];
            if (document.getElementById('discloseLegal').checked) disclosures.push('as required by law, regulation, or court order (provided Service Provider gives Company prompt notice to allow Company to seek protective order)');
            if (document.getElementById('discloseAdvisors').checked) disclosures.push('to professional advisors (attorneys, accountants) who are bound by confidentiality obligations');
            if (document.getElementById('discloseAffiliates').checked) disclosures.push('to affiliates and subcontractors with a need to know, provided they are bound by confidentiality obligations at least as protective as this Agreement');

            const confidentialityHTML = `
                <h3 class="clause-title confidentiality">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                    Confidentiality Provisions
                </h3>
                <div class="clause-text">CONFIDENTIALITY

1. Definition. "Confidential Information" means all non-public information disclosed by the Company to Service Provider, whether orally, in writing, or by inspection, including but not limited to business plans, financial information, customer data, technical data, trade secrets, and proprietary methodologies.

2. Obligations. Service Provider shall: (a) hold all Confidential Information in strict confidence; (b) not disclose Confidential Information to any third party without the Company's prior written consent; (c) use Confidential Information only for the purpose of performing the Services; and (d) protect Confidential Information ${confidentialityLevels[confidentialityLevel]}.

3. Permitted Disclosures. Notwithstanding the foregoing, Service Provider may disclose Confidential Information:
${disclosures.map((d, i) => `   (${String.fromCharCode(97 + i)}) ${d}`).join(';\n')}.

4. Duration. The obligations under this Section shall survive ${durationYears}.

5. Return of Materials. Upon termination of the Service Agreement or upon request, Service Provider shall promptly return or destroy all Confidential Information and certify such destruction in writing.

6. Injunctive Relief. Service Provider acknowledges that any breach of this Section may cause irreparable harm to the Company for which monetary damages would be inadequate, and the Company shall be entitled to seek injunctive relief without the necessity of proving actual damages or posting bond.</div>
            `;

            document.getElementById('confidentialityClause').innerHTML = confidentialityHTML;

            // Generate Portfolio Clause
            let portfolioHTML = '';
            if (portfolioRights === 'yes') {
                portfolioHTML = `
                    <h3 class="clause-title portfolio">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        Portfolio Rights
                    </h3>
                    <div class="clause-text">PORTFOLIO DISPLAY RIGHTS

Subject to the Company's prior written approval (which may be withheld in the Company's sole discretion), Service Provider may display samples of the Work Product in Service Provider's professional portfolio, website, or marketing materials for the sole purpose of demonstrating Service Provider's capabilities to prospective clients. Such display shall:

(a) Not include any Confidential Information;
(b) Include appropriate attribution to the Company (if approved);
(c) Comply with any guidelines provided by the Company;
(d) Be subject to revocation by the Company at any time upon written notice.

Service Provider shall submit proposed portfolio materials to the Company for approval at least fifteen (15) business days prior to intended use.</div>
                `;
            } else if (portfolioRights === 'limited') {
                portfolioHTML = `
                    <h3 class="clause-title portfolio">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        Portfolio Rights (Limited)
                    </h3>
                    <div class="clause-text">LIMITED PORTFOLIO REFERENCE

Service Provider may reference the Company as a client and provide a general description of the services performed (e.g., "Developed web application for technology startup") in Service Provider's professional portfolio, resume, or marketing materials. However, Service Provider shall NOT:

(a) Display any visual samples, screenshots, or reproductions of the Work Product;
(b) Disclose any Confidential Information;
(c) Use the Company's logo or trademarks without prior written consent;
(d) Provide specific details about the project scope, technology, or deliverables.

The Company may revoke this limited reference right at any time upon written notice.</div>
                `;
            } else {
                portfolioHTML = `
                    <h3 class="clause-title portfolio">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        Portfolio Rights (Restricted)
                    </h3>
                    <div class="clause-text">NO PORTFOLIO DISPLAY

Service Provider shall NOT display, reference, or disclose any Work Product, the existence of this engagement, or the Company's identity in any portfolio, marketing materials, website, social media, or other public forum without the Company's prior written consent. This restriction applies during and after the term of the Service Agreement.

Any violation of this provision shall constitute a material breach of this Agreement and may result in immediate termination and liability for damages.</div>
                `;
            }

            document.getElementById('portfolioClause').innerHTML = portfolioHTML;

            document.getElementById('outputSection').classList.add('visible');
            document.getElementById('outputSection').scrollIntoView({ behavior: 'smooth' });
        }

        function copyOutput() {
            const ip = document.getElementById('ipAssignmentClause').innerText;
            const background = document.getElementById('backgroundIpSchedule').innerText;
            const confidentiality = document.getElementById('confidentialityClause').innerText;
            const portfolio = document.getElementById('portfolioClause').innerText;

            const fullText = `IP + WORK PRODUCT ADDENDUM\n\n${ip}\n\n${background}\n\n${confidentiality}\n\n${portfolio}`;

            navigator.clipboard.writeText(fullText).then(() => {
                alert('Output copied to clipboard!');
            });
        }

        function downloadOutput() {
            const ip = document.getElementById('ipAssignmentClause').innerText;
            const background = document.getElementById('backgroundIpSchedule').innerText;
            const confidentiality = document.getElementById('confidentialityClause').innerText;
            const portfolio = document.getElementById('portfolioClause').innerText;

            const fullText = `IP + WORK PRODUCT ADDENDUM\n\n${ip}\n\n${background}\n\n${confidentiality}\n\n${portfolio}`;

            const blob = new Blob([fullText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ip-work-product-addendum.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
