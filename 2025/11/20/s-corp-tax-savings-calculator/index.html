<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S-Corp Tax Savings Calculator | Terms.Law</title>
  <meta name="description" content="The S-Corp Tax Savings Calculator helps users compare sole proprietorship and S-corporation tax scenarios by inputting business income and personal tax details.">
  <link rel="canonical" href="https://terms.law/2025/11/20/s-corp-tax-savings-calculator/">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/shared/styles.css">
</head>
<body>
  <div id="site-header"></div>
  <script src="/shared/header-loader.js"></script>

  <main>
    <article>
      <h1>S-Corp Tax Savings Calculator</h1>
      <div class="meta">Published: November 20, 2025 ‚Ä¢ Contractors &amp; Employees</div>
      <div class="content">
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>S-Corp Tax Savings Calculator 2025 | Comprehensive Analysis Tool</title>

<style>
  .scorp-calc-wrapper {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
    color: #1a202c;
    line-height: 1.6;
  }

  .scorp-calc-wrapper * {
    box-sizing: border-box;
  }

  /* Hero Section */
  .calc-hero {
    background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #60a5fa 100%);
    color: white;
    padding: 40px 35px;
    border-radius: 16px;
    margin-bottom: 30px;
    position: relative;
    overflow: hidden;
  }

  .calc-hero::before {
    content: 'üí∞';
    position: absolute;
    top: 15px;
    right: 30px;
    font-size: 80px;
    opacity: 0.15;
  }

  .hero-badge {
    display: inline-block;
    background: rgba(255,255,255,0.25);
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: 12px;
  }

  .hero-title {
    margin: 0 0 12px 0;
    font-size: 32px;
    font-weight: 900;
    line-height: 1.2;
  }

  .hero-subtitle {
    margin: 0;
    font-size: 16px;
    opacity: 0.95;
    line-height: 1.5;
    max-width: 700px;
  }

  /* Main Layout */
  .calc-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-bottom: 30px;
  }

  .calc-panel {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  }

  .panel-title {
    font-size: 22px;
    font-weight: 800;
    color: #1e3a8a;
    margin: 0 0 20px 0;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .panel-subtitle {
    font-size: 13px;
    color: #64748b;
    margin: -15px 0 20px 0;
  }

  /* Form Elements */
  .form-group {
    margin-bottom: 24px;
  }

  .form-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: #334155;
    margin-bottom: 8px;
  }

  .form-help {
    display: block;
    font-size: 12px;
    color: #64748b;
    margin-top: 4px;
    font-style: italic;
  }

  .form-input {
    width: 100%;
    padding: 10px 14px;
    font-size: 15px;
    border: 2px solid #cbd5e1;
    border-radius: 8px;
    transition: all 0.2s ease;
    font-family: inherit;
  }

  .form-input:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  }

  .form-select {
    width: 100%;
    padding: 10px 14px;
    font-size: 15px;
    border: 2px solid #cbd5e1;
    border-radius: 8px;
    background: white;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .form-select:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  }

  /* Slider */
  .slider-container {
    position: relative;
    margin-top: 12px;
  }

  .slider-value {
    display: inline-block;
    padding: 4px 10px;
    background: #eff6ff;
    color: #1e3a8a;
    font-weight: 700;
    border-radius: 6px;
    font-size: 14px;
    margin-bottom: 8px;
  }

  .form-slider {
    width: 100%;
    height: 8px;
    border-radius: 5px;
    background: #e0e7ff;
    outline: none;
    -webkit-appearance: none;
  }

  .form-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #3b82f6;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .form-slider::-webkit-slider-thumb:hover {
    background: #2563eb;
    transform: scale(1.1);
  }

  .form-slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #3b82f6;
    cursor: pointer;
    border: none;
    transition: all 0.2s ease;
  }

  .form-slider::-moz-range-thumb:hover {
    background: #2563eb;
    transform: scale(1.1);
  }

  /* Checkbox */
  .checkbox-group {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 8px;
  }

  .form-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
  }

  .checkbox-label {
    font-size: 14px;
    color: #334155;
    cursor: pointer;
    margin: 0;
  }

  /* Advanced Section */
  .advanced-toggle {
    background: #f8fafc;
    border: 2px dashed #cbd5e1;
    border-radius: 8px;
    padding: 16px;
    margin: 20px 0;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
  }

  .advanced-toggle:hover {
    background: #f1f5f9;
    border-color: #3b82f6;
  }

  .toggle-text {
    font-size: 14px;
    font-weight: 600;
    color: #3b82f6;
    margin: 0;
  }

  .advanced-content {
    display: none;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 2px solid #e2e8f0;
  }

  .advanced-content.show {
    display: block;
  }

  /* Results Panel */
  .results-summary {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border: 3px solid #3b82f6;
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 24px;
    text-align: center;
  }

  .results-summary.negative {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #ef4444;
  }

  .results-summary.borderline {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
    border-color: #f59e0b;
  }

  .summary-label {
    font-size: 14px;
    font-weight: 600;
    color: #64748b;
    margin-bottom: 8px;
  }

  .summary-amount {
    font-size: 42px;
    font-weight: 900;
    color: #1e3a8a;
    line-height: 1;
    margin-bottom: 8px;
  }

  .summary-amount.negative {
    color: #dc2626;
  }

  .summary-amount.borderline {
    color: #d97706;
  }

  .summary-status {
    font-size: 15px;
    font-weight: 700;
    padding: 8px 16px;
    border-radius: 6px;
    display: inline-block;
    margin-top: 8px;
  }

  .summary-status.positive {
    background: #dcfce7;
    color: #166534;
  }

  .summary-status.negative {
    background: #fee2e2;
    color: #991b1b;
  }

  .summary-status.borderline {
    background: #fef3c7;
    color: #92400e;
  }

  /* Comparison Table */
  .comparison-table-wrapper {
    overflow-x: auto;
    margin: 24px 0;
  }

  .comparison-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
  }

  .comparison-table thead tr {
    background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
    color: white;
  }

  .comparison-table th {
    padding: 12px 10px;
    text-align: left;
    font-weight: 700;
    border: 1px solid #cbd5e1;
  }

  .comparison-table th:first-child {
    border-top-left-radius: 8px;
  }

  .comparison-table th:last-child {
    border-top-right-radius: 8px;
  }

  .comparison-table td {
    padding: 10px;
    border: 1px solid #e2e8f0;
  }

  .comparison-table tbody tr:nth-child(even) {
    background: #f8fafc;
  }

  .comparison-table tbody tr:hover {
    background: #eff6ff;
  }

  .comparison-table .row-label {
    font-weight: 600;
    color: #334155;
  }

  .comparison-table .total-row {
    font-weight: 700;
    background: #e0f2fe !important;
    color: #1e3a8a;
  }

  .comparison-table .positive-diff {
    color: #16a34a;
    font-weight: 700;
  }

  .comparison-table .negative-diff {
    color: #dc2626;
    font-weight: 700;
  }

  /* Alert Boxes */
  .alert-box {
    border-radius: 10px;
    padding: 16px 20px;
    margin: 20px 0;
    border-left: 5px solid;
  }

  .alert-info {
    background: #eff6ff;
    border-left-color: #3b82f6;
    color: #1e40af;
  }

  .alert-warning {
    background: #fef3c7;
    border-left-color: #f59e0b;
    color: #92400e;
  }

  .alert-success {
    background: #dcfce7;
    border-left-color: #16a34a;
    color: #166534;
  }

  .alert-title {
    font-weight: 700;
    margin-bottom: 6px;
    font-size: 14px;
  }

  .alert-text {
    font-size: 13px;
    margin: 0;
    line-height: 1.6;
  }

  /* Detail Cards */
  .detail-section {
    margin: 24px 0;
  }

  .detail-title {
    font-size: 18px;
    font-weight: 700;
    color: #1e3a8a;
    margin: 0 0 12px 0;
    padding-bottom: 8px;
    border-bottom: 2px solid #93c5fd;
  }

  .detail-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
    margin-top: 16px;
  }

  .detail-card {
    background: #f8fafc;
    border: 1px solid #cbd5e1;
    border-radius: 8px;
    padding: 16px;
  }

  .detail-card-label {
    font-size: 12px;
    font-weight: 600;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 6px;
  }

  .detail-card-value {
    font-size: 24px;
    font-weight: 800;
    color: #1e3a8a;
  }

  .detail-card-note {
    font-size: 11px;
    color: #64748b;
    margin-top: 4px;
  }

  /* Methodology */
  .methodology-section {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 30px;
    margin-top: 30px;
  }

  .methodology-title {
    font-size: 20px;
    font-weight: 800;
    color: #1e3a8a;
    margin: 0 0 16px 0;
  }

  .methodology-text {
    font-size: 14px;
    color: #475569;
    line-height: 1.7;
    margin-bottom: 12px;
  }

  .methodology-list {
    margin: 12px 0;
    padding-left: 24px;
  }

  .methodology-list li {
    font-size: 13px;
    color: #475569;
    margin-bottom: 8px;
    line-height: 1.6;
  }

  /* Responsive */
  @media (max-width: 968px) {
    .calc-grid {
      grid-template-columns: 1fr;
    }

    .hero-title {
      font-size: 26px;
    }

    .summary-amount {
      font-size: 36px;
    }
  }

  @media (max-width: 640px) {
    .scorp-calc-wrapper {
      padding: 15px;
    }

    .calc-panel {
      padding: 20px;
    }

    .comparison-table {
      font-size: 12px;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 8px 6px;
    }
  }
</style>
</head>
<body>

<div class="scorp-calc-wrapper">
  <!-- Hero Section -->
  <div class="calc-hero">
    <div class="hero-badge">üéØ TAX YEAR 2025</div>
    <div class="hero-title">S-Corp Tax Savings Calculator</div>
    <p class="hero-subtitle">Compare sole proprietorship vs. S-corporation election with comprehensive employment tax, QBI deduction, and cost analysis. Live preview updates as you adjust inputs.</p>
  </div>

  <!-- Main Grid -->
  <div class="calc-grid">
    <!-- Left Panel: Inputs -->
    <div class="calc-panel">
      <div class="panel-title">
        <span>üìä</span>
        <span>Your Inputs</span>
      </div>
      <p class="panel-subtitle">Enter your business income and tax situation below. Results update instantly.</p>

      <form id="calcForm">
        <!-- Net Business Income -->
        <div class="form-group">
          <label class="form-label" for="netIncome">Net Business Income (Annual Profit)</label>
          <input type="number" id="netIncome" class="form-input" value="150000" min="0" step="1000">
          <span class="form-help">Your business profit before any owner salary or SE tax</span>
        </div>

        <!-- Filing Status -->
        <div class="form-group">
          <label class="form-label" for="filingStatus">Filing Status</label>
          <select id="filingStatus" class="form-select">
            <option value="single">Single</option>
            <option value="married_joint" selected>Married Filing Jointly</option>
            <option value="married_separate">Married Filing Separately</option>
            <option value="hoh">Head of Household</option>
          </select>
        </div>

        <!-- Other W2 Wages -->
        <div class="form-group">
          <label class="form-label" for="otherW2">Other W-2 Wages (You + Spouse)</label>
          <input type="number" id="otherW2" class="form-input" value="0" min="0" step="1000">
          <span class="form-help">Wages from other jobs subject to Social Security/Medicare</span>
        </div>

        <!-- Salary Percentage Slider -->
        <div class="form-group">
          <label class="form-label" for="salaryPct">S-Corp Salary as % of Profit</label>
          <div class="slider-container">
            <span class="slider-value" id="salaryPctDisplay">50%</span>
            <input type="range" id="salaryPct" class="form-slider" min="30" max="80" value="50" step="1">
          </div>
          <span class="form-help">Reasonable compensation typically 40-60% of profit; IRS considers industry norms, duties, qualifications</span>
        </div>

        <!-- S-Corp Admin Costs -->
        <div class="form-group">
          <label class="form-label" for="adminCosts">Annual S-Corp Admin Costs</label>
          <input type="number" id="adminCosts" class="form-input" value="1500" min="0" step="100">
          <span class="form-help">Payroll service, bookkeeping, tax prep, state fees</span>
        </div>

        <!-- Advanced Toggle -->
        <div class="advanced-toggle" onclick="toggleAdvanced()">
          <p class="toggle-text">‚öôÔ∏è Advanced Options (Click to Expand)</p>
        </div>

        <div id="advancedSection" class="advanced-content">
          <!-- Marginal Tax Rate -->
          <div class="form-group">
            <label class="form-label" for="marginalRate">Marginal Federal Tax Rate (%)</label>
            <input type="number" id="marginalRate" class="form-input" value="24" min="10" max="37" step="1">
            <span class="form-help">Your top federal bracket for income tax impact on QBI/deductions</span>
          </div>

          <!-- QBI Eligible -->
          <div class="form-group">
            <div class="checkbox-group">
              <input type="checkbox" id="qbiEligible" class="form-checkbox" checked>
              <label class="checkbox-label" for="qbiEligible">Business qualifies for QBI deduction (Sec. 199A)</label>
            </div>
            <span class="form-help">Most trades/businesses qualify; phase-outs apply above certain income thresholds</span>
          </div>

          <!-- SSTB -->
          <div class="form-group">
            <div class="checkbox-group">
              <input type="checkbox" id="isSSTB" class="form-checkbox">
              <label class="checkbox-label" for="isSSTB">Specified Service Trade or Business (SSTB)</label>
            </div>
            <span class="form-help">Law, accounting, health, consulting, athletics, financial services, brokerage (limits QBI at higher incomes)</span>
          </div>
        </div>
      </form>
    </div>

    <!-- Right Panel: Results -->
    <div class="calc-panel">
      <div class="panel-title">
        <span>üí°</span>
        <span>Live Results</span>
      </div>
      <p class="panel-subtitle">Estimated federal tax savings comparison</p>

      <!-- Summary Box -->
      <div id="resultsSummary" class="results-summary">
        <div class="summary-label">Estimated Net Annual Savings</div>
        <div class="summary-amount" id="summaryAmount">$0</div>
        <div class="summary-status positive" id="summaryStatus">Calculating&#8230;</div>
      </div>

      <!-- Alert/Guidance -->
      <div id="guidanceAlert"></div>

      <!-- Comparison Table -->
      <div class="comparison-table-wrapper">
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Item</th>
              <th>Sole Prop</th>
              <th>S-Corp</th>
              <th>Difference</th>
            </tr>
          </thead>
          <tbody id="comparisonTableBody">
            <!-- Populated by JS -->
          </tbody>
        </table>
      </div>

      <!-- Detail Cards -->
      <div class="detail-section">
        <div class="detail-title">Key Metrics</div>
        <div class="detail-grid">
          <div class="detail-card">
            <div class="detail-card-label">Gross Tax Savings</div>
            <div class="detail-card-value" id="grossSavings">$0</div>
            <div class="detail-card-note">Before admin costs</div>
          </div>
          <div class="detail-card">
            <div class="detail-card-label">S-Corp Salary</div>
            <div class="detail-card-value" id="scorpSalary">$0</div>
            <div class="detail-card-note">Reasonable compensation</div>
          </div>
          <div class="detail-card">
            <div class="detail-card-label">K-1 Distribution</div>
            <div class="detail-card-value" id="k1Distribution">$0</div>
            <div class="detail-card-note">After salary &#038; FICA</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Methodology Section -->
  <div class="methodology-section">
    <div class="methodology-title">üìñ How This Calculator Works</div>

    <p class="methodology-text"><strong>Sole Proprietorship Scenario:</strong></p>
    <ul class="methodology-list">
      <li>Self-employment tax calculated on 92.35% of net profit (15.3% rate = 12.4% Social Security + 2.9% Medicare)</li>
      <li>Social Security capped at $176,100 wage base for 2025 (combined with other W-2 wages)</li>
      <li>Additional Medicare tax (0.9%) on earnings above threshold ($250k MFJ, $200k others)</li>
      <li>Half of SE tax deductible as adjustment to income (Schedule 1)</li>
      <li>QBI deduction: 20% of qualified business income after SE deduction (subject to limitations)</li>
    </ul>

    <p class="methodology-text"><strong>S-Corporation Scenario:</strong></p>
    <ul class="methodology-list">
      <li>Reasonable salary subject to employer + employee FICA (6.2% + 6.2% SS; 1.45% + 1.45% Medicare)</li>
      <li>Social Security FICA capped at $176,100 wage base (combined with other W-2 wages)</li>
      <li>Additional Medicare tax (0.9%) applies to wages only, not K-1 distributions</li>
      <li>S-corp profit = business income &#8211; salary &#8211; employer FICA (passes through on K-1)</li>
      <li>QBI deduction: 20% of S-corp profit (W-2 wages not QBI-eligible)</li>
      <li>No SE tax on K-1 distributions (key savings driver)</li>
    </ul>

    <p class="methodology-text"><strong>Comparison &#038; Net Savings:</strong></p>
    <ul class="methodology-list">
      <li>Employment tax savings = (SE tax + Addl Medicare SP) &#8211; (Total FICA + Addl Medicare SC)</li>
      <li>Income tax effects from QBI deduction differences and loss of half-SE deduction</li>
      <li>Net savings = Gross savings &#8211; Annual S-corp admin costs</li>
      <li>Guidance: Below ~$60k profit, S-corp rarely worthwhile after costs; above $60k, savings typically scale with income if salary set reasonably</li>
    </ul>

    <p class="methodology-text" style="margin-top: 16px; font-size: 12px; color: #64748b;">
      <strong>Sources:</strong> IRS Publication 334 (Self-Employment), Topic 751 (FICA rates), Topic 560 (Additional Medicare), Form 8995 Instructions (QBI), 2025 Social Security wage base. This calculator provides estimates for educational purposes. Consult a tax professional for advice specific to your situation. Reasonable compensation is fact-specific; IRS considers duties, qualifications, time, industry norms, and other factors.
    </p>
  </div>
</div>

<script>
// ============================================================
// TAX YEAR 2025 CONFIGURATION
// ============================================================
const TAX_CONFIG_2025 = {
  taxYear: 2025,
  ssWageBase: 176100,
  seTaxRate: 0.153,        // 15.3% (12.4% SS + 2.9% Medicare)
  seBaseFactor: 0.9235,    // 92.35% of profit subject to SE tax
  ficaEmployee: {
    ss: 0.062,              // 6.2% Social Security
    medicare: 0.0145        // 1.45% Medicare
  },
  ficaEmployer: {
    ss: 0.062,              // 6.2% Social Security
    medicare: 0.0145        // 1.45% Medicare
  },
  addlMedicareRate: 0.009,  // 0.9% Additional Medicare
  addlMedicareThresholds: {
    single: 200000,
    married_joint: 250000,
    married_separate: 125000,
    hoh: 200000
  },
  qbiRate: 0.20             // 20% QBI deduction
};

// ============================================================
// SOLE PROP CALCULATION
// ============================================================
function computeSolePropScenario(inputs, config) {
  const P = inputs.netBusinessIncome;
  const otherW2 = inputs.otherW2Wages;
  const filingStatus = inputs.filingStatus;

  // 1. SE tax base (92.35% of profit)
  const seBase = P * config.seBaseFactor;

  // 2. Social Security portion
  const ssRemainingBase = Math.max(0, config.ssWageBase - otherW2);
  const ssSEBase = Math.min(seBase, ssRemainingBase);
  const ssSETax = ssSEBase * 0.124;  // 12.4%

  // 3. Medicare portion (2.9%)
  const medicareSETax = seBase * 0.029;

  // 4. Total SE tax (before additional Medicare)
  const seTax = ssSETax + medicareSETax;

  // 5. Additional Medicare (0.9%)
  const earnedForAMT = seBase + otherW2;
  const amtThreshold = config.addlMedicareThresholds[filingStatus];
  const amtBase = Math.max(0, earnedForAMT - amtThreshold);
  const addlMedicare = amtBase * config.addlMedicareRate;

  // 6. Total employment taxes
  const totalEmploymentTax = seTax + addlMedicare;

  // 7. Half-SE deduction
  const seDeduction = 0.5 * seTax;

  // 8. QBI deduction
  let qbiDeduction = 0;
  if (inputs.isQBIEligible) {
    const qbiBase = P - seDeduction;
    qbiDeduction = qbiBase * config.qbiRate;
  }

  return {
    seBase,
    ssSETax,
    medicareSETax,
    seTax,
    addlMedicare,
    totalEmploymentTax,
    seDeduction,
    qbiDeduction
  };
}

// ============================================================
// S-CORP CALCULATION
// ============================================================
function computeSCorpScenario(inputs, config) {
  const P = inputs.netBusinessIncome;
  const salaryPct = inputs.salaryPct / 100;
  const otherW2 = inputs.otherW2Wages;
  const filingStatus = inputs.filingStatus;

  // 1. Determine salary
  const salary = Math.min(P, P * salaryPct);

  // 2. Social Security employer + employee FICA
  const ssRemainingBase = Math.max(0, config.ssWageBase - otherW2);
  const ssWageBaseForSalary = Math.min(salary, ssRemainingBase);

  const ssEmployer = ssWageBaseForSalary * config.ficaEmployer.ss;
  const ssEmployee = ssWageBaseForSalary * config.ficaEmployee.ss;

  // 3. Medicare employer + employee FICA
  const medicareEmployer = salary * config.ficaEmployer.medicare;
  const medicareEmployee = salary * config.ficaEmployee.medicare;

  // 4. Total employer and employee FICA
  const employerFICA = ssEmployer + medicareEmployer;
  const employeeFICA = ssEmployee + medicareEmployee;
  const combinedFICA = employerFICA + employeeFICA;

  // 5. Additional Medicare (0.9%) - wages only, not K-1
  const earnedForAMT = salary + otherW2;
  const amtThreshold = config.addlMedicareThresholds[filingStatus];
  const amtBase = Math.max(0, earnedForAMT - amtThreshold);
  const addlMedicare = amtBase * config.addlMedicareRate;

  // 6. S-corp profit (after salary and employer FICA)
  const scorpProfit = P - salary - employerFICA;

  // 7. Total employment taxes
  const totalEmploymentTax = combinedFICA + addlMedicare;

  // 8. QBI deduction (on S-corp profit only, not wages)
  let qbiDeduction = 0;
  if (inputs.isQBIEligible) {
    qbiDeduction = scorpProfit * config.qbiRate;
  }

  return {
    salary,
    employerFICA,
    employeeFICA,
    combinedFICA,
    addlMedicare,
    totalEmploymentTax,
    scorpProfit,
    qbiDeduction
  };
}

// ============================================================
// COMPARISON & NET SAVINGS
// ============================================================
function compareScenarios(inputs, config) {
  const sp = computeSolePropScenario(inputs, config);
  const sc = computeSCorpScenario(inputs, config);
  const marginalRate = inputs.marginalRate / 100;

  // Employment tax savings
  const employmentTaxSavings = sp.totalEmploymentTax - sc.totalEmploymentTax;

  // QBI deduction difference (income tax effect)
  const deltaQBI = sc.qbiDeduction - sp.qbiDeduction;
  const incomeTaxEffectQBI = deltaQBI * marginalRate;

  // Half-SE deduction lost in S-corp (income tax cost)
  const incomeTaxCostSEDed = sp.seDeduction * marginalRate;

  // Gross federal tax savings
  const grossSavings = employmentTaxSavings + incomeTaxEffectQBI - incomeTaxCostSEDed;

  // Net savings after admin costs
  const netSavings = grossSavings - inputs.adminCosts;

  return {
    sp,
    sc,
    employmentTaxSavings,
    incomeTaxEffectQBI,
    incomeTaxCostSEDed,
    grossSavings,
    netSavings
  };
}

// ============================================================
// UI UPDATE
// ============================================================
function updateCalculator() {
  // Gather inputs
  const inputs = {
    netBusinessIncome: parseFloat(document.getElementById('netIncome').value) || 0,
    filingStatus: document.getElementById('filingStatus').value,
    otherW2Wages: parseFloat(document.getElementById('otherW2').value) || 0,
    salaryPct: parseFloat(document.getElementById('salaryPct').value) || 50,
    adminCosts: parseFloat(document.getElementById('adminCosts').value) || 0,
    marginalRate: parseFloat(document.getElementById('marginalRate').value) || 24,
    isQBIEligible: document.getElementById('qbiEligible').checked,
    isSSTB: document.getElementById('isSSTB').checked
  };

  // Update slider display
  document.getElementById('salaryPctDisplay').textContent = inputs.salaryPct + '%';

  // Calculate
  const results = compareScenarios(inputs, TAX_CONFIG_2025);

  // Update summary
  const summaryAmount = document.getElementById('summaryAmount');
  const summaryStatus = document.getElementById('summaryStatus');
  const summaryBox = document.getElementById('resultsSummary');

  const netSavings = results.netSavings;
  summaryAmount.textContent = formatCurrency(netSavings);

  // Color coding
  summaryBox.classList.remove('negative', 'borderline');
  summaryAmount.classList.remove('negative', 'borderline');
  summaryStatus.classList.remove('positive', 'negative', 'borderline');

  if (netSavings < 0) {
    summaryBox.classList.add('negative');
    summaryAmount.classList.add('negative');
    summaryStatus.classList.add('negative');
    summaryStatus.textContent = '‚ùå S-corp likely not worth it at these assumptions';
  } else if (netSavings > 0 && netSavings < 5000) {
    summaryBox.classList.add('borderline');
    summaryAmount.classList.add('borderline');
    summaryStatus.classList.add('borderline');
    summaryStatus.textContent = '‚ö†Ô∏è Borderline ‚Äì depends on hassle tolerance';
  } else {
    summaryStatus.classList.add('positive');
    summaryStatus.textContent = '‚úÖ Strong case for S-corp under these assumptions';
  }

  // Update guidance alert
  const guidanceAlert = document.getElementById('guidanceAlert');
  if (inputs.netBusinessIncome < 60000) {
    guidanceAlert.innerHTML = `
      <div class="alert-box alert-warning">
        <div class="alert-title">‚ö†Ô∏è Below $60k Rule of Thumb</div>
        <div class="alert-text">
          At profit levels below ~$60,000, S-corp election rarely pays off after factoring in payroll, bookkeeping, and tax prep costs.
          The employment tax savings are modest and often consumed by administrative overhead. Consider waiting until your profit is higher.
        </div>
      </div>
    `;
  } else if (netSavings >= 5000) {
    guidanceAlert.innerHTML = `
      <div class="alert-box alert-success">
        <div class="alert-title">‚úÖ S-Corp Likely Beneficial</div>
        <div class="alert-text">
          Based on your inputs, S-corp election could save you <strong>${formatCurrency(netSavings)}</strong> annually after costs.
          Consult a tax professional to verify reasonable compensation for your specific industry and role.
        </div>
      </div>
    `;
  } else if (netSavings > 0 && netSavings < 5000) {
    guidanceAlert.innerHTML = `
      <div class="alert-box alert-warning">
        <div class="alert-title">‚ö†Ô∏è Borderline Case</div>
        <div class="alert-text">
          Net savings of ${formatCurrency(netSavings)} may not justify the administrative complexity and ongoing compliance burden of S-corp.
          Try adjusting the salary percentage or admin costs to see sensitivity. Consider your comfort with payroll and quarterly filings.
        </div>
      </div>
    `;
  } else {
    guidanceAlert.innerHTML = `
      <div class="alert-box alert-warning">
        <div class="alert-title">‚ùå S-Corp Not Recommended</div>
        <div class="alert-text">
          At these assumptions, the S-corp costs exceed the tax savings. You would lose <strong>${formatCurrency(Math.abs(netSavings))}</strong> annually.
          Staying as a sole proprietor/single-member LLC is likely better unless you can reduce admin costs or adjust salary.
        </div>
      </div>
    `;
  }

  // Update comparison table
  updateComparisonTable(results, inputs);

  // Update detail cards
  document.getElementById('grossSavings').textContent = formatCurrency(results.grossSavings);
  document.getElementById('scorpSalary').textContent = formatCurrency(results.sc.salary);
  document.getElementById('k1Distribution').textContent = formatCurrency(results.sc.scorpProfit);
}

function updateComparisonTable(results, inputs) {
  const tbody = document.getElementById('comparisonTableBody');
  const sp = results.sp;
  const sc = results.sc;

  const rows = [
    {
      label: 'Self-Employment Tax',
      sp: sp.seTax,
      sc: 0,
      note: 'SE tax vs. no SE tax on K-1'
    },
    {
      label: 'FICA Taxes (Employer + Employee)',
      sp: 0,
      sc: sc.combinedFICA,
      note: 'No FICA vs. total FICA on wages'
    },
    {
      label: 'Additional Medicare (0.9%)',
      sp: sp.addlMedicare,
      sc: sc.addlMedicare,
      note: 'Over threshold if applicable'
    },
    {
      label: 'Total Employment Taxes',
      sp: sp.totalEmploymentTax,
      sc: sc.totalEmploymentTax,
      isTotal: true
    },
    {
      label: 'Half-SE Tax Deduction',
      sp: sp.seDeduction,
      sc: 0,
      note: 'Above-line deduction (SP only)'
    },
    {
      label: 'QBI Deduction (Est.)',
      sp: sp.qbiDeduction,
      sc: sc.qbiDeduction,
      note: '20% of QBI (subject to limits)'
    },
    {
      label: 'S-Corp Admin Costs',
      sp: 0,
      sc: inputs.adminCosts,
      note: 'Annual overhead'
    }
  ];

  let html = '';
  rows.forEach(row => {
    const diff = row.sp - row.sc;
    const diffClass = diff > 0 ? 'positive-diff' : (diff < 0 ? 'negative-diff' : '');
    const rowClass = row.isTotal ? 'total-row' : '';

    html += `
      <tr class="${rowClass}">
        <td class="row-label">${row.label}</td>
        <td>${formatCurrency(row.sp)}</td>
        <td>${formatCurrency(row.sc)}</td>
        <td class="${diffClass}">${diff > 0 ? '+' : ''}${formatCurrency(diff)}</td>
      </tr>
    `;

    if (row.note) {
      html += `
        <tr>
          <td colspan="4" style="font-size: 11px; color: #64748b; padding: 4px 10px; font-style: italic;">
            ${row.note}
          </td>
        </tr>
      `;
    }
  });

  tbody.innerHTML = html;
}

function formatCurrency(value) {
  if (value === 0) return '$0';
  const formatted = Math.abs(value).toLocaleString('en-US', {
    minimumFractionDigits: 0,
    maximumFractionDigits: 0
  });
  return (value < 0 ? '-$' : '$') + formatted;
}

function toggleAdvanced() {
  const section = document.getElementById('advancedSection');
  section.classList.toggle('show');
}

// ============================================================
// EVENT LISTENERS
// ============================================================
document.addEventListener('DOMContentLoaded', function() {
  // Initial calculation
  updateCalculator();

  // Attach listeners to all inputs
  const inputs = ['netIncome', 'filingStatus', 'otherW2', 'salaryPct', 'adminCosts', 'marginalRate', 'qbiEligible', 'isSSTB'];

  inputs.forEach(id => {
    const element = document.getElementById(id);
    if (element) {
      element.addEventListener('input', updateCalculator);
      element.addEventListener('change', updateCalculator);
    }
  });
});
</script>

</body>
</html>

</div>
    </article>
  </main>

  <footer><p>¬© 2025 Terms.Law. All rights reserved.</p></footer>
</body>
</html>