<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-901N2Y3CDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-901N2Y3CDZ');
    </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trump-Era Tariffs: Three Essential Tariff Protection Clauses for Your Business Contracts | Terms.Law</title>
  <meta name="description" content="Tariff protection clauses generators. As global trade faces disruption from renewed tariffs under the Trump administration, businesses must adopt specialized co">
  <link rel="canonical" href="https://terms.law/2025/04/03/price-adjustment-clause-generator-for-tariff-fluctuations/">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/shared/styles.css">
</head>
<body>
  <div id="site-header"></div>
  <script src="/shared/header-loader.js"></script>

  <main>
    <article>
      <h1>Trump-Era Tariffs: Three Essential Tariff Protection Clauses for Your Business Contracts</h1>
      <div class="meta">Published: April 3, 2025 â€¢ Document Generators, Tax Law</div>
      <div class="content">		<div data-elementor-type="wp-post" data-elementor-id="11485" class="elementor elementor-11485">
						<section class="elementor-section elementor-top-section elementor-element elementor-element-f13cde3 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="f13cde3" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5f99f89" data-id="5f99f89" data-element_type="column">
			<div class="elementor-widget-wrap elementor-element-populated">
						<div class="elementor-element elementor-element-6acae35 elementor-widget elementor-widget-html" data-id="6acae35" data-element_type="widget" data-widget_type="html.default">
					<div class="minimal-audio-player dark-theme">
  <svg data-feather="volume" class="player-icon"></svg>
  <button id="audio-play-tcg">â–¶ Listen to Tariff Clause Generator audio overview</button>
  <span id="audio-time-tcg">
    <span id="audio-current-tcg">0:00</span>/<span id="audio-total-tcg">0:00</span>
  </span>
  <div id="audio-progress-container-tcg">
    <div id="audio-progress-tcg"></div>
  </div>
  <div class="volume-container">
    <svg data-feather="volume-2" class="volume-icon"></svg>
    <input id="audio-volume-tcg" type="range" min="0" max="1" step="0.01" value="1" aria-label="Volume">
  </div>
  <audio id="audio-element-tcg"
         src="https://terms.law/wp-content/uploads/2025/05/Tariff-Clause-Generator.wav"></audio>
</div>

<style>
.minimal-audio-player.dark-theme {
  display: flex;
  align-items: center;
  gap: 8px;
  height: 36px;
  padding: 4px 8px;
  background: #1f2937;
  color: #f9fafb;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  border-radius: 4px;
}
.minimal-audio-player.dark-theme button {
  background: none;
  border: none;
  color: inherit;
  font-weight: 600;
  font-size: 14px;
  padding: 0;
  cursor: pointer;
}
.player-icon,
.volume-icon {
  flex-shrink: 0;
  stroke: currentColor;
  fill: none;
}
.player-icon { width: 20px; height: 20px; }
.volume-icon { width: 16px; height: 16px; }

#audio-time-tcg {
  font-size: 12px;
  width: 60px;
  text-align: center;
}
#audio-progress-container-tcg {
  flex: 1;
  background: #374151;
  height: 4px;
  border-radius: 2px;
  overflow: hidden;
  cursor: pointer;
}
#audio-progress-tcg {
  width: 0%;
  height: 100%;
  background: #60a5fa;
  transition: width 0.1s linear;
}

.volume-container {
  display: flex;
  align-items: center;
  gap: 4px;
}
#audio-volume-tcg {
  width: 80px;
  height: 4px;
  -webkit-appearance: none;
  background: #374151;
  border-radius: 2px;
  cursor: pointer;
}
#audio-volume-tcg::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 10px;
  height: 10px;
  background: #60a5fa;
  border-radius: 50%;
}
</style>

<script>
(function(){
  const audio   = document.getElementById('audio-element-tcg');
  const playBtn = document.getElementById('audio-play-tcg');
  const progC   = document.getElementById('audio-progress-container-tcg');
  const prog    = document.getElementById('audio-progress-tcg');
  const curDisp = document.getElementById('audio-current-tcg');
  const totDisp = document.getElementById('audio-total-tcg');
  const volSl   = document.getElementById('audio-volume-tcg');

  function fmt(sec){
    const m = Math.floor(sec/60), s = Math.floor(sec%60);
    return m+':'+String(s).padStart(2,'0');
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    if(window.feather) feather.replace();
  });

  audio.addEventListener('loadedmetadata', ()=>{
    totDisp.textContent = fmt(audio.duration);
    curDisp.textContent = '0:00';
    volSl.value = audio.volume;
  });

  audio.addEventListener('timeupdate', ()=>{
    const pct = (audio.currentTime/audio.duration)*100;
    prog.style.width = pct+'%';
    curDisp.textContent = fmt(audio.currentTime);
  });

  playBtn.addEventListener('click', ()=>{
    if(audio.paused){
      audio.play();
      playBtn.textContent = 'âšâš Pause';
    } else {
      audio.pause();
      playBtn.textContent = 'â–¶ Listen to Tariff Clause Generator overview';
    }
  });

  progC.addEventListener('click', e=>{
    const rect = progC.getBoundingClientRect();
    audio.currentTime = ((e.clientX-rect.left)/rect.width)*audio.duration;
  });

  volSl.addEventListener('input', ()=> audio.volume = volSl.value);
})();
</script>
				</div>
					</div>
		</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-62355a2 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="62355a2" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3e9137a" data-id="3e9137a" data-element_type="column">
			<div class="elementor-widget-wrap elementor-element-populated">
						<div class="elementor-element elementor-element-ca9ed35 elementor-widget elementor-widget-html" data-id="ca9ed35" data-element_type="widget" data-widget_type="html.default">
					
<!-- Improved Unified Paywall for Tariff Clause Generators -->
<style>
/* Paywall related styles */
.tariff-tools-paywall-container {
  position: relative;
  margin-bottom: 40px;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 20px;
  background: #f9f9f9;
}

.tariff-tools-header {
  text-align: center;
  margin-bottom: 20px;
}

.tariff-tools-header h3 {
  font-size: 22px;
  color: #2c3e50;
  margin-bottom: 10px;
}

.tariff-tools-header p {
  color: #555;
  max-width: 800px;
  margin: 0 auto;
}

/* Fixed paywall modal styles */
.paywall-overlay {
  display: none; /* Initially hidden, will be shown via JS */
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 500px;
  background: white;
  z-index: 1000;
  padding: 25px;
  text-align: center;
  border-radius: 8px;
  box-shadow: 0 5px 30px rgba(0,0,0,0.3);
}

/* Close button for payment modal */
.paywall-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 25px;
  height: 25px;
  background: #f1f1f1;
  border-radius: 50%;
  text-align: center;
  line-height: 25px;
  font-size: 16px;
  cursor: pointer;
  z-index: 1001;
}

.paywall-close:hover {
  background: #e1e1e1;
}

/* Semi-transparent background overlay */
.paywall-backdrop {
  display: none; /* Initially hidden, will be shown via JS */
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.7);
  z-index: 999;
}

.premium-badge {
  position: absolute;
  top: 20px;
  right: 20px;
  background: #2c3e50;
  color: white;
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: bold;
  display: none;
  z-index: 50;
}

.lock-icon {
  font-size: 40px;
  margin-bottom: 15px;
  color: #2c3e50;
}

.paywall-title {
  font-size: 22px;
  font-weight: bold;
  margin-bottom: 10px;
  color: #2c3e50;
}

.paywall-description {
  margin-bottom: 15px;
  max-width: 400px;
  font-size: 14px;
}

.features-list {
  text-align: left;
  margin: 0 auto 20px;
  max-width: 400px;
  font-size: 14px;
}

.features-list li {
  margin-bottom: 6px;
  position: relative;
  padding-left: 22px;
}

.features-list li:before {
  content: "âœ“";
  position: absolute;
  left: 0;
  color: #27ae60;
  font-weight: bold;
}

.payment-container {
  margin-bottom: 15px;
}

/* Transaction ID Recovery Section */
.recovery-section {
  margin-top: 20px;
  padding: 15px;
  background: #f5f5f5;
  border-radius: 8px;
  text-align: left;
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
}

.recovery-title {
  font-weight: bold;
  font-size: 16px;
  color: #2c3e50;
}

.recovery-description {
  font-size: 13px;
  color: #555;
}

.recovery-input {
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  width: 100%;
}

.recovery-button {
  background: #3498db;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  margin-top: 5px;
}

.recovery-button:hover {
  background: #2980b9;
}

.success-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.8);
  z-index: 1000;
  align-items: center;
  justify-content: center;
}

.success-message {
  background: white;
  padding: 25px;
  border-radius: 8px;
  max-width: 400px;
  text-align: center;
}

.success-icon {
  font-size: 40px;
  color: #27ae60;
  margin-bottom: 15px;
}

.success-title {
  font-size: 22px;
  margin-bottom: 15px;
  color: #2c3e50;
}

.success-description {
  margin-bottom: 20px;
  color: #555;
  font-size: 14px;
}

.success-button {
  background: #27ae60;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
}

.success-button:hover {
  background: #219653;
}

/* Modified preview fade effect */
.preview-fade {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to bottom, rgba(255,255,255,0.1) 70%, rgba(255,255,255,0.9) 100%);
  pointer-events: none;
  z-index: 50;
}

/* Specific generator adjustments */
.clause-generator .preview-column {
  position: relative;
}

.clause-generator .preview-content {
  position: relative;
  user-select: none;
}

/* Fixed button styles to ensure they're truly disabled until payment */
.clause-generator .copy-btn {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: auto; /* We'll control the behavior with our event listeners */
}

/* New Buy Button */
.unlock-button {
  background: #3498db;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 60;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.unlock-button:hover {
  background: #2980b9;
}

/* Mobile Payment Notice */
.mobile-payment-notice {
  margin-top: 10px;
  font-size: 12px;
  color: #666;
  text-align: center;
}

/* Tabs Navigation for Multiple Generators */
.tools-tabs-container {
  margin-bottom: 20px;
}

.tools-tabs {
  display: flex;
  border-bottom: 1px solid #ddd;
  margin-bottom: 20px;
}

.tools-tab {
  padding: 10px 15px;
  cursor: pointer;
  border: 1px solid transparent;
  border-bottom: none;
  margin-right: 5px;
  border-radius: 4px 4px 0 0;
  font-weight: 500;
  color: #555;
}

.tools-tab:hover {
  background-color: #f5f5f5;
}

.tools-tab.active {
  background-color: white;
  border-color: #ddd;
  color: #2c3e50;
  margin-bottom: -1px;
  padding-bottom: 11px;
}

.tools-tab-content {
  display: none;
}

.tools-tab-content.active {
  display: block;
}

.paypal-button-container {
  width: 100% !important;
  margin-bottom: 15px;
}

#paypal-container {
  width: 230px;
  margin: 0 auto;
}
</style>

<div id="tariff-tools-container" class="tariff-tools-paywall-container">
  <div class="tariff-tools-header">
    <h3><span class="ez-toc-section" id="Tariff_Trade_Clause_Generators"></span>Tariff &#038; Trade Clause Generators<span class="ez-toc-section-end"></span></h3>
    <p>Create customized tariff-related contract clauses tailored to your specific business situation. All three professional-grade contract clause generators are included in one purchase, plus the Addendum tool that combines your selected clauses into an official legal document ready for signatures.</p>
  </div>
  
  <!-- Premium Badge (shown after payment) -->
  <div id="premium-badge" class="premium-badge">PREMIUM UNLOCKED</div>
  
  <!-- Tabs for Multiple Generators -->
  <div class="tools-tabs-container">
    <div class="tools-tabs">
      <div class="tools-tab active" data-tab="indemnity">Tariff Indemnity</div>
            <div class="tools-tab" data-tab="price-adjustment">Price Adjustment</div>
      <div class="tools-tab" data-tab="force-majeure">Force Majeure</div>
      <div class="tools-tab" data-tab="addendum">Addendum</div>
    </div>
  </div>
  
  <!-- New backdrop overlay -->
  <div id="paywall-backdrop" class="paywall-backdrop"></div>
  
  <!-- Paywall Overlay - Now a popup with close button -->
  <div id="paywall-overlay" class="paywall-overlay">
    <div id="paywall-close" class="paywall-close">âœ•</div>
    <div class="lock-icon">ðŸ”’</div>
    <h2 class="paywall-title"><span class="ez-toc-section" id="Unlock_All_Generators"></span>Unlock All Generators<span class="ez-toc-section-end"></span></h2>
    <p class="paywall-description">Get immediate access to all three professionally-drafted tariff clause generators.</p>
    
    <ul class="features-list">
      <li>Create custom Tariff Indemnity clauses</li>
      <li>Generate Price Adjustment clauses</li>
      <li>Draft Force Majeure provisions</li>
      <li>Download MS Word documents</li>
      <li>Unlimited use for all contracts</li>
    </ul>
    
    <div id="paypal-container" class="payment-container">
      <!-- PayPal Button -->
      <style>.pp-59YTP5FQBZHVS{text-align:center;border:none;border-radius:0.25rem;min-width:11.625rem;padding:0 2rem;height:2.625rem;font-weight:bold;background-color:#FFD140;color:#000000;font-family:"Helvetica Neue",Arial,sans-serif;font-size:1rem;line-height:1.25rem;cursor:pointer;}</style>
      <form action="https://www.paypal.com/ncp/payment/59YTP5FQBZHVS" method="post" target="_blank" style="display:inline-grid;justify-items:center;align-content:start;gap:0.5rem;">
        <input class="pp-59YTP5FQBZHVS" type="submit" value="Buy Now" />
        <img src=https://www.paypalobjects.com/images/Debit_Credit_APM.svg alt="cards" />
        <section> Powered by <img decoding="async" src="https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-wordmark-color.svg" alt="paypal" style="height:0.875rem;vertical-align:middle;"/></section>
      </form>
    </div>
    
    <div class="mobile-payment-notice">
      On mobile devices: After payment, you may need to manually return to this page. Your form data will be preserved.
    </div>
    
    <!-- Transaction ID Recovery Section -->
    <div class="recovery-section">
      <div class="recovery-title">Already paid?</div>
      <div class="recovery-description">If you've already completed payment but don't see the content, enter your PayPal Transaction ID below:</div>
      <input type="text" id="transaction-id-input" class="recovery-input" placeholder="Enter PayPal Transaction ID">
      <button id="recover-access-btn" class="recovery-button">Unlock Access</button>
    </div>
  </div>
  
  <!-- Success Overlay (shown after successful payment) -->
  <div id="success-overlay" class="success-overlay">
    <div class="success-message">
      <div class="success-icon">âœ“</div>
      <h2 class="success-title"><span class="ez-toc-section" id="Payment_Successful"></span>Payment Successful!<span class="ez-toc-section-end"></span></h2>
      <p class="success-description">You now have full access to all three tariff clause generators.</p>
      <button id="success-button" class="success-button">Start Using Your Generators</button>
    </div>
  </div>
  
  <!-- Tab Content Containers -->
  <div id="indemnity-tab" class="tools-tab-content active">
    <!-- Indemnity Generator Will Be Here -->
<!-- Indemnity Tab Content -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Tariff Indemnity &#038; Risk-Sharing Clause Generator</title>
  <style>
    /* Base Styles - WordPress Compatible */
    .clause-generator {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
      max-width: 100%;
      margin: 0 auto 20px;
      color: #333;
      box-sizing: border-box;
    }
    
    .clause-generator * {
      box-sizing: border-box;
    }
    
    /* Two-column layout */
    .generator-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .form-column {
      flex: 1;
      min-width: 300px;
      max-height: 550px;
      overflow-y: auto;
      padding-right: 10px;
    }
    
    .preview-column {
      flex: 1;
      min-width: 300px;
    }
    
    /* Form Elements - Compact */
    .form-group {
      margin-bottom: 10px;
      position: relative;
    }
    
    .form-label {
      display: block;
      font-weight: 500;
      margin-bottom: 3px;
      font-size: 14px;
    }
    
    .form-input, 
    .form-select, 
    .form-textarea {
      width: 100%;
      padding: 6px 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      line-height: 1.3;
    }
    
    .form-select {
      height: 32px;
    }
    
    .form-hint {
      font-size: 11px;
      color: #666;
      margin-top: 2px;
    }
    
    /* Radio Groups */
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 8px;
    }
    
    .radio-item {
      display: flex;
      align-items: center;
      margin-bottom: 0;
    }
    
    .radio-item input[type="radio"] {
      margin-right: 4px;
    }
    
    .radio-label {
      font-size: 13px;
    }
    
    /* Checkbox Groups */
    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 8px;
    }
    
    .checkbox-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 0;
    }
    
    .checkbox-item input[type="checkbox"] {
      margin-right: 6px;
      margin-top: 2px;
    }
    
    .checkbox-label {
      font-size: 13px;
    }
    
    /* Section Headers - Compact */
    .section-header {
      font-size: 15px;
      font-weight: 600;
      color: #2c3e50;
      margin: 12px 0 8px;
      padding-bottom: 4px;
      border-bottom: 1px solid #eee;
    }
    
    /* Preview Section */
    .preview-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      border-bottom: 2px solid #2c3e50;
      padding-bottom: 6px;
    }
    
    .preview-title {
      font-size: 15px;
      font-weight: 600;
      color: #2c3e50;
    }
    
    .preview-note {
      font-size: 11px;
      color: #666;
      font-style: italic;
    }
    
    .preview-content {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 12px;
      margin-bottom: 10px;
      font-size: 14px;
      line-height: 1.4;
      height: 450px;
      overflow-y: auto;
    }
    
    .preview-content p {
      margin-bottom: 8px;
      margin-top: 8px;
    }
    
    .highlight {
      background-color: #ffff00;
      transition: background-color 0.5s ease-in-out;
    }
    
    /* Copy and Word Doc Buttons Container */
    .button-container {
      display: flex;
      gap: 10px;
    }
    
    /* Copy Button */
    .copy-btn {
      flex: 1;
      padding: 8px;
      background-color: #2c3e50;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
    }
    
    .copy-btn:hover {
      background-color: #1a252f;
    }
    
    .copy-icon {
      display: inline-block;
      margin-right: 6px;
      vertical-align: middle;
    }
    
    /* Spinner Styles for Percentage Fields */
    .input-spinner {
      display: inline-flex;
      align-items: center;
    }
    .spinner-button {
      margin-left: 3px;
      cursor: pointer;
      border: 1px solid #999;
      background-color: #ccc;
      color: #000;
      padding: 0 6px;
      font-size: 14px;
      line-height: 1.2;
      height: 28px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Container for Range Group fields on the same line */
    .range-group-container {
      display: flex;
      gap: 20px;
    }
    
    /* Help tooltip styles */
    .help-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: #4a6da7;
      color: white;
      font-size: 10px;
      font-weight: bold;
      margin-left: 5px;
      cursor: pointer;
      vertical-align: middle;
      transition: background-color 0.2s;
    }
    
    .help-icon:hover {
      background-color: #2c3e50;
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip-text {
      visibility: hidden;
      width: 250px;
      background-color: #2c3e50;
      color: #fff;
      text-align: left;
      border-radius: 6px;
      padding: 8px 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 12px;
      line-height: 1.4;
      pointer-events: none;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    
    .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #2c3e50 transparent transparent transparent;
    }
    
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .generator-container {
        flex-direction: column;
      }
      
      .form-column {
        max-height: none;
        overflow-y: visible;
      }
      
      .preview-content {
        height: 300px;
      }
      
      .tooltip-text {
        width: 200px;
      }
    }
  </style>
</head>
<body>
  <div class="clause-generator" id="tariff-indemnity-generator">
    <div class="generator-container">
      <!-- Form Column -->
      <div class="form-column">
        <!-- Agreement Information -->
        <div class="section-header">Agreement Information</div>
        
        <div class="form-group">
          <label class="form-label" for="agreementType">
            Agreement Type
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Select the type of agreement you're drafting. This affects the terminology and specific provisions in the indemnity clause.</span>
            </span>
          </label>
          <select id="agreementType" class="form-select" onchange="tariffIndemnityGenerator.updatePreview('agreementType')">
            <option value="supply" selected>Supply Agreement</option>
            <option value="purchase">Purchase Agreement</option>
            <option value="manufacturing">Manufacturing Agreement</option>
            <option value="distribution">Distribution Agreement</option>
            <option value="import">Import Agreement</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="sellerName">
            Seller/Supplier Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the legal name of the party providing goods or services. Use the full legal entity name for clarity in the contract.</span>
            </span>
          </label>
          <input type="text" id="sellerName" class="form-input" value="ABC Manufacturing, Inc." placeholder="Enter name of seller/supplier" onkeyup="tariffIndemnityGenerator.updatePreview('sellerName')">
        </div>
        
        <div class="form-group">
          <label class="form-label" for="buyerName">
            Buyer/Customer Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the legal name of the party receiving goods or services. Use the full legal entity name for clarity in the contract.</span>
            </span>
          </label>
          <input type="text" id="buyerName" class="form-input" value="XYZ Products, LLC" placeholder="Enter name of buyer/customer" onkeyup="tariffIndemnityGenerator.updatePreview('buyerName')">
        </div>
        
        <!-- Indemnification Scope -->
        <div class="section-header">Indemnification Scope</div>
        
        <div class="form-group">
          <label class="form-label">
            Covered Tariff Risks
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Select which specific tariff-related risks will be covered by the indemnification. Including more risks provides broader protection but may increase potential liability.</span>
            </span>
          </label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" id="riskClassification" checked onclick="tariffIndemnityGenerator.updatePreview('riskClassification')">
              <span class="checkbox-label">
                Tariff Classification Errors
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers liability arising from incorrect HS codes or other tariff classifications, which can result in unexpected duties or penalties.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="riskCountryOrigin" checked onclick="tariffIndemnityGenerator.updatePreview('riskCountryOrigin')">
              <span class="checkbox-label">
                Country of Origin Misrepresentations
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers liability from incorrect country of origin declarations, which can affect duty rates and eligibility for trade preferences.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="riskSpecialTariffs" checked onclick="tariffIndemnityGenerator.updatePreview('riskSpecialTariffs')">
              <span class="checkbox-label">
                Section 301/232 Special Tariffs
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers special tariffs like US Section 301 (China tariffs) or Section 232 (steel/aluminum), which can significantly increase import costs.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="riskAntidumping" onclick="tariffIndemnityGenerator.updatePreview('riskAntidumping')">
              <span class="checkbox-label">
                Anti-dumping/Countervailing Duties
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers special duties imposed to counter unfair trade practices. These can be substantial and are often applied retroactively.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="riskPenalties" onclick="tariffIndemnityGenerator.updatePreview('riskPenalties')">
              <span class="checkbox-label">
                Customs Penalties and Interest
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers penalties, fines, and interest charges imposed by customs authorities for non-compliance, which can exceed the actual duty amount.</span>
                </span>
              </span>
            </label>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="indemnityDirection">
            Indemnification Direction
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Determines which party bears the risk of tariff-related liabilities. Typically, the party with control over classification and documentation will be the indemnifier.</span>
            </span>
          </label>
          <select id="indemnityDirection" class="form-select" onchange="tariffIndemnityGenerator.updatePreview('indemnityDirection')">
            <option value="seller-to-buyer" selected>Seller Indemnifies Buyer</option>
            <option value="buyer-to-seller">Buyer Indemnifies Seller</option>
            <option value="mutual">Mutual Indemnification</option>
          </select>
        </div>
        
        <!-- Liability Limitations -->
        <div class="section-header">Liability Limitations</div>
        
        <div class="form-group">
          <label class="form-label">
            Liability Cap Type
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Limits the maximum financial exposure for tariff-related liabilities. Selecting an appropriate cap balances protection against catastrophic losses with reasonable risk allocation.</span>
            </span>
          </label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="liabilityCapType" id="liabilityCapNone" value="none" onclick="tariffIndemnityGenerator.handleLiabilityCapTypeChange()">
              <span class="radio-label">
                No Cap
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Unlimited liability - the indemnifying party bears all costs regardless of amount. Most protective for the indemnified party but highest risk for the indemnifier.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="liabilityCapType" id="liabilityCapFixed" value="fixed" onclick="tariffIndemnityGenerator.handleLiabilityCapTypeChange()">
              <span class="radio-label">
                Fixed Amount
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Sets a specific dollar amount as the maximum liability. Provides certainty but may not adjust appropriately for contract size changes.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="liabilityCapType" id="liabilityCapPercentage" value="percentage" checked onclick="tariffIndemnityGenerator.handleLiabilityCapTypeChange()">
              <span class="radio-label">
                % of Contract Value
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Scales the maximum liability proportionally to the contract value. Generally more equitable as it adjusts with the size of the deal.</span>
                </span>
              </span>
            </label>
          </div>
        </div>
        
        <div id="fixedCapGroup" style="display: none;">
          <div class="form-group">
            <label class="form-label" for="fixedCapAmount">
              Fixed Cap Amount
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Enter the specific dollar amount that will serve as the absolute maximum liability. Consider the overall contract value when determining this amount.</span>
              </span>
            </label>
            <div class="input-spinner">
              <input type="text" id="fixedCapAmount" class="form-input" value="$100,000" placeholder="Enter cap amount" onkeyup="tariffIndemnityGenerator.updatePreview('fixedCapAmount')">
            </div>
            <div class="form-hint">Maximum liability amount</div>
          </div>
        </div>
        
        <div id="percentageCapGroup">
          <div class="form-group">
            <label class="form-label" for="percentageCap">
              Percentage Cap
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Enter the percentage of the contract value that will serve as the maximum liability. Industry standard ranges from 100% to 200% of contract value.</span>
              </span>
            </label>
            <div class="input-spinner">
              <input type="text" id="percentageCap" class="form-input" value="150%" placeholder="Enter percentage cap" onkeyup="tariffIndemnityGenerator.updatePreview('percentageCap')">
              <button type="button" class="spinner-button" onclick="tariffIndemnityGenerator.adjustSpinnerValue('percentageCap', 10)">â–²</button>
              <button type="button" class="spinner-button" onclick="tariffIndemnityGenerator.adjustSpinnerValue('percentageCap', -10)">â–¼</button>
            </div>
            <div class="form-hint">Maximum liability as % of contract value</div>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="minimumClaimThreshold">
            Minimum Claim Threshold
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Sets a minimum dollar amount for valid indemnification claims. Helps prevent trivial claims while ensuring significant issues are covered.</span>
            </span>
          </label>
          <div class="input-spinner">
            <input type="text" id="minimumClaimThreshold" class="form-input" value="$5,000" placeholder="Enter minimum claim amount" onkeyup="tariffIndemnityGenerator.updatePreview('minimumClaimThreshold')">
          </div>
          <div class="form-hint">Minimum amount for a valid indemnification claim</div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="timeLimitation">
            Time Limitation for Claims
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines how long the indemnified party has to make a claim. Shorter periods benefit the indemnifier, while longer periods protect the indemnified party.</span>
            </span>
          </label>
          <select id="timeLimitation" class="form-select" onchange="tariffIndemnityGenerator.updatePreview('timeLimitation')">
            <option value="1year">1 Year</option>
            <option value="2years">2 Years</option>
            <option value="3years" selected>3 Years</option>
            <option value="5years">5 Years</option>
            <option value="statuteOfLimitations">Full Statute of Limitations</option>
          </select>
        </div>
        
        <!-- Legal Proceedings Options -->
        <div class="section-header">Legal &#038; Cooperation Requirements</div>
        
        <div class="form-group">
          <label class="form-label" for="defenseControl">
            Defense Control
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Determines who controls the legal defense against tariff-related claims. The controlling party typically directs strategy and can make settlement decisions.</span>
            </span>
          </label>
          <select id="defenseControl" class="form-select" onchange="tariffIndemnityGenerator.updatePreview('defenseControl')">
            <option value="indemnifier" selected>Indemnifying Party Controls Defense</option>
            <option value="indemnified">Indemnified Party Controls Defense</option>
            <option value="joint">Joint Control</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="cooperationLevel">
            Cooperation Requirements
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines the level of assistance the indemnified party must provide during customs inquiries or proceedings. More detailed cooperation requirements create clearer obligations.</span>
            </span>
          </label>
          <select id="cooperationLevel" class="form-select" onchange="tariffIndemnityGenerator.updatePreview('cooperationLevel')">
            <option value="basic">Basic Cooperation</option>
            <option value="standard" selected>Standard Cooperation</option>
            <option value="comprehensive">Comprehensive Cooperation</option>
          </select>
          <div class="form-hint">Level of cooperation required during customs inquiries</div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="recordRetention">
            Document Retention Period
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Specifies how long parties must maintain import/export records. Customs authorities typically require 5+ years, but longer retention provides better protection for tariff claims.</span>
            </span>
          </label>
          <select id="recordRetention" class="form-select" onchange="tariffIndemnityGenerator.updatePreview('recordRetention')">
            <option value="2years">2 Years</option>
            <option value="3years">3 Years</option>
            <option value="5years" selected>5 Years</option>
            <option value="7years">7 Years</option>
          </select>
        </div>
        
        <!-- Additional Risk Allocation -->
        <div class="section-header">Risk Allocation Options</div>
        
        <div class="form-group">
          <label class="form-label" for="riskAllocationMechanism">
            Risk Allocation Mechanism
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Determines how tariff-related costs are shared between parties. Different mechanisms balance protection and business flexibility in different ways.</span>
            </span>
          </label>
          <select id="riskAllocationMechanism" class="form-select" onchange="tariffIndemnityGenerator.updatePreview('riskAllocationMechanism')">
            <option value="full">Full Liability to Responsible Party</option>
            <option value="50-50" selected>50/50 Split of Unexpected Costs</option>
            <option value="proportional">Proportional to Fault</option>
            <option value="tiered">Tiered (First Dollar/Excess)</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label">
            Fault Determination
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Specifies whether the clause includes provisions for determining which party is at fault in tariff disputes. Adds clarity but also complexity to the agreement.</span>
            </span>
          </label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="faultDetermination" id="faultDeterminationYes" value="yes" checked onclick="tariffIndemnityGenerator.updatePreview('faultDetermination')">
              <span class="radio-label">Include Fault Provisions</span>
            </label>
            <label class="radio-item">
              <input type="radio" name="faultDetermination" id="faultDeterminationNo" value="no" onclick="tariffIndemnityGenerator.updatePreview('faultDetermination')">
              <span class="radio-label">No Fault Provisions</span>
            </label>
          </div>
        </div>
      </div>
      
      <!-- Preview Column -->
      <div class="preview-column">
        <div class="preview-header">
          <div class="preview-title">Tariff Indemnity &#038; Risk-Sharing Clause Preview</div>
          <div class="preview-note">Updates as you complete the form</div>
        </div>
        
        <div class="preview-content" id="preview">
          <!-- Preview content will be populated by JavaScript -->
        </div>
        
        <div class="button-container">
          <button id="copyBtn" class="copy-btn" onclick="tariffIndemnityGenerator.handleCopyClick()">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="copy-icon">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            COPY CLAUSE
          </button>
          <button id="msWordBtn" class="copy-btn" onclick="tariffIndemnityGenerator.generateWordDoc()">MS WORD DOC</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Create a namespace to avoid global scope pollution in WordPress
    var tariffIndemnityGenerator = {
      // Initialize the generator
      init: function() {
        this.handleLiabilityCapTypeChange();
        this.updatePreview();
      },
      
      // Generate clause text
      generateClause: function() {
        const agreementType = document.getElementById('agreementType').value;
        const agreementTypeText = document.getElementById('agreementType').options[document.getElementById('agreementType').selectedIndex].text;
        const sellerName = document.getElementById('sellerName').value;
        const buyerName = document.getElementById('buyerName').value;
        
        // Get indemnification scope checkboxes
        const riskClassification = document.getElementById('riskClassification').checked;
        const riskCountryOrigin = document.getElementById('riskCountryOrigin').checked;
        const riskSpecialTariffs = document.getElementById('riskSpecialTariffs').checked;
        const riskAntidumping = document.getElementById('riskAntidumping').checked;
        const riskPenalties = document.getElementById('riskPenalties').checked;
        const indemnityDirection = document.getElementById('indemnityDirection').value;
        
        // Get liability cap settings
        let liabilityCapType = '';
        const liabilityCapRadios = document.querySelectorAll('input[name="liabilityCapType"]');
        for (let i = 0; i < liabilityCapRadios.length; i++) {
          if (liabilityCapRadios[i].checked) {
            liabilityCapType = liabilityCapRadios[i].value;
            break;
          }
        }
        
        const fixedCapAmount = document.getElementById('fixedCapAmount').value;
        const percentageCap = document.getElementById('percentageCap').value;
        const minimumClaimThreshold = document.getElementById('minimumClaimThreshold').value;
        const timeLimitation = document.getElementById('timeLimitation').value;
        
        // Get legal and cooperation settings
        const defenseControl = document.getElementById('defenseControl').value;
        const cooperationLevel = document.getElementById('cooperationLevel').value;
        const recordRetention = document.getElementById('recordRetention').value;
        
        // Get risk allocation settings
        const riskAllocationMechanism = document.getElementById('riskAllocationMechanism').value;
        
        let faultDetermination = '';
        const faultDeterminationRadios = document.querySelectorAll('input[name="faultDetermination"]');
        for (let i = 0; i < faultDeterminationRadios.length; i++) {
          if (faultDeterminationRadios[i].checked) {
            faultDetermination = faultDeterminationRadios[i].value;
            break;
          }
        }
        
        // Build clause title
        let clauseTitle = 'TARIFF-RELATED INDEMNIFICATION AND RISK ALLOCATION';
        
        // Build covered risks language
        let coveredRisksLanguage = '';
        const coveredRisks = [];
        
        if (riskClassification) coveredRisks.push("tariff classification errors or disputes");
        if (riskCountryOrigin) coveredRisks.push("country of origin misrepresentations or disputes");
        if (riskSpecialTariffs) coveredRisks.push("Section 301, Section 232, or similar special tariff impositions");
        if (riskAntidumping) coveredRisks.push("anti-dumping or countervailing duties");
        if (riskPenalties) coveredRisks.push("customs penalties, fines, or interest charges");
        
        if (coveredRisks.length === 1) {
          coveredRisksLanguage = coveredRisks[0];
        } else if (coveredRisks.length === 2) {
          coveredRisksLanguage = coveredRisks.join(" and ");
        } else if (coveredRisks.length > 2) {
          const lastRisk = coveredRisks.pop();
          coveredRisksLanguage = coveredRisks.join(", ") + ", and " + lastRisk;
        } else {
          coveredRisksLanguage = "tariff-related claims";
        }
        
        // Build indemnifying party and indemnified party language
        let indemnifyingParty = '';
        let indemnifiedParty = '';
        
        switch (indemnityDirection) {
          case 'seller-to-buyer':
            indemnifyingParty = sellerName;
            indemnifiedParty = buyerName;
            break;
          case 'buyer-to-seller':
            indemnifyingParty = buyerName;
            indemnifiedParty = sellerName;
            break;
          case 'mutual':
            indemnifyingParty = "Each party";
            indemnifiedParty = "the other party";
            break;
        }
        
        // Build liability cap language
        let liabilityCapLanguage = '';
        switch (liabilityCapType) {
          case 'none':
            liabilityCapLanguage = "There shall be no cap on the indemnifying party's liability under this section.";
            break;
          case 'fixed':
            liabilityCapLanguage = `The indemnifying party's total aggregate liability under this section shall not exceed ${fixedCapAmount}.`;
            break;
          case 'percentage':
            liabilityCapLanguage = `The indemnifying party's total aggregate liability under this section shall not exceed ${percentageCap} of the total value of products or services provided under this ${agreementTypeText} in the twelve (12) month period preceding the claim.`;
            break;
        }
        
        // Build time limitation language
        let timeLimitationLanguage = '';
        switch (timeLimitation) {
          case '1year':
            timeLimitationLanguage = "one (1) year";
            break;
          case '2years':
            timeLimitationLanguage = "two (2) years";
            break;
          case '3years':
            timeLimitationLanguage = "three (3) years";
            break;
          case '5years':
            timeLimitationLanguage = "five (5) years";
            break;
          case 'statuteOfLimitations':
            timeLimitationLanguage = "the applicable statute of limitations";
            break;
        }
        
        // Build defense control language
        let defenseControlLanguage = '';
        switch (defenseControl) {
          case 'indemnifier':
            defenseControlLanguage = "The indemnifying party shall have the right to control the defense and settlement of any claim for which indemnification is sought under this section.";
            break;
          case 'indemnified':
            defenseControlLanguage = "The indemnified party shall have the right to control the defense and settlement of any claim for which indemnification is sought under this section, with reasonable consultation with the indemnifying party.";
            break;
          case 'joint':
            defenseControlLanguage = "The parties shall jointly control the defense and settlement of any claim for which indemnification is sought under this section, and neither party shall settle any such claim without the prior written consent of the other party, which shall not be unreasonably withheld or delayed.";
            break;
        }
        
        // Build cooperation level language
        let cooperationLanguage = '';
        switch (cooperationLevel) {
          case 'basic':
            cooperationLanguage = "provide reasonable cooperation to the indemnifying party";
            break;
          case 'standard':
            cooperationLanguage = "provide all reasonable assistance and cooperation to the indemnifying party, including providing relevant documentation, information, and access to personnel";
            break;
          case 'comprehensive':
            cooperationLanguage = "provide comprehensive assistance and cooperation to the indemnifying party, including but not limited to: (i) promptly providing all relevant documentation, information, and communications with customs authorities; (ii) making appropriate personnel available for interviews, depositions, hearings, and trials; (iii) providing access to relevant systems and records; (iv) executing documents needed for defense; and (v) taking all actions reasonably necessary to mitigate damages";
            break;
        }
        
        // Build record retention language
        let recordRetentionLanguage = '';
        switch (recordRetention) {
          case '2years':
            recordRetentionLanguage = "two (2) years";
            break;
          case '3years':
            recordRetentionLanguage = "three (3) years";
            break;
          case '5years':
            recordRetentionLanguage = "five (5) years";
            break;
          case '7years':
            recordRetentionLanguage = "seven (7) years";
            break;
        }
        
        // Build risk allocation language
        let riskAllocationLanguage = '';
        switch (riskAllocationMechanism) {
          case 'full':
            riskAllocationLanguage = "The party responsible for causing any tariff-related liability shall bear the full cost of such liability.";
            break;
          case '50-50':
            riskAllocationLanguage = "Notwithstanding the indemnification obligations set forth above, in cases where tariff-related liabilities arise that were not reasonably foreseeable by either party at the time of contracting, such costs shall be shared equally (50/50) between the parties.";
            break;
          case 'proportional':
            riskAllocationLanguage = "The parties shall share tariff-related liabilities in proportion to their respective fault in causing such liabilities, as determined by mutual agreement or, failing such agreement, by arbitration per the dispute resolution provisions of this Agreement.";
            break;
          case 'tiered':
            riskAllocationLanguage = `The indemnified party shall bear the first ${minimumClaimThreshold} of any tariff-related liability (the "Deductible Amount"), and the indemnifying party shall be responsible for all amounts exceeding the Deductible Amount, subject to the limitations set forth in this section.`;
            break;
        }
        
        // Build fault determination language
        let faultLanguage = '';
        if (faultDetermination === 'yes') {
          faultLanguage = `<p>f) <u>Fault Determination</u>. In determining each party's responsibility for tariff-related liabilities under this section, the following principles shall apply: (i) a party providing incorrect or incomplete information related to tariff classification, country of origin, or product composition shall be deemed at fault to the extent such incorrect information contributed to the liability; (ii) failure to comply with customs regulations despite having correct information shall constitute fault; and (iii) changes in law or regulations occurring after product shipment shall not constitute fault by either party unless a party failed to comply with such changes after reasonable notice.</p>`;
        }
        
        // Build the complete clause
        let clause = `
<p><strong>${clauseTitle}</strong></p>

<p>a) <u>Indemnification Obligation</u>. ${indemnifyingParty} shall defend, indemnify, and hold harmless ${indemnifiedParty}, its affiliates, and their respective officers, directors, employees, agents, successors, and assigns, from and against any and all losses, damages, liabilities, deficiencies, actions, judgments, settlements, interest, awards, penalties, fines, costs, or expenses (including reasonable attorneys' fees) arising out of or related to ${coveredRisksLanguage} associated with products or services provided under this ${agreementTypeText}.</p>

<p>b) <u>Limitations on Liability</u>. ${liabilityCapLanguage} No claim for indemnification may be made unless the amount of such claim exceeds ${minimumClaimThreshold}. All claims for indemnification must be made within ${timeLimitationLanguage} after the indemnified party becomes aware, or reasonably should have become aware, of the circumstances giving rise to such claim.</p>

<p>c) <u>Defense and Settlement</u>. ${defenseControlLanguage} The indemnified party shall ${cooperationLanguage}. The indemnifying party shall not settle any claim in a manner that admits fault or wrongdoing by the indemnified party or imposes ongoing obligations on the indemnified party without the indemnified party's prior written consent.</p>

<p>d) <u>Documentation and Record Retention</u>. Each party shall maintain complete and accurate records related to tariff classifications, country of origin determinations, customs entries, and other import/export documentation for all products or components covered by this ${agreementTypeText} for a period of at least ${recordRetentionLanguage} after the date of import or export. Upon reasonable request and notice, each party shall provide the other party with copies of such records to the extent necessary to verify compliance with this section or to respond to a customs inquiry, investigation, or audit.</p>

<p>e) <u>Risk Allocation for Unforeseen Tariff Liabilities</u>. ${riskAllocationLanguage}</p>
`;

        // Add fault determination paragraph if included
        if (faultDetermination === 'yes') {
          clause += faultLanguage;
        }

        // Add final notification paragraph
        clause += `
<p>${faultDetermination === 'yes' ? 'g)' : 'f)'} <u>Notification of Claims</u>. The indemnified party shall promptly notify the indemnifying party in writing of any actual or threatened claim, investigation, or proceeding that may give rise to an indemnification obligation under this section, provided that failure to give such notice shall not relieve the indemnifying party of its indemnification obligations except to the extent that the indemnifying party is materially prejudiced by such failure.</p>
`;

        return clause;
      },
      
      // Update the preview
      updatePreview: function(changedField) {
        // Clear previous highlights
        this.clearHighlights();
        
        // Generate new clause text
        const clauseText = this.generateClause();
        
        // Update preview
        document.getElementById('preview').innerHTML = clauseText;
        
        // If a field was changed, highlight the relevant text
        if (changedField) {
          this.highlightChangedText(changedField);
        }
      },
      
      // Clear highlights
      clearHighlights: function() {
        const highlightElements = document.getElementsByClassName('highlight');
        while (highlightElements.length > 0) {
          const element = highlightElements[0];
          const text = element.textContent;
          const textNode = document.createTextNode(text);
          element.parentNode.replaceChild(textNode, element);
        }
      },
      
      // Find text in document and highlight it
      findAndHighlightText: function(searchText) {
        if (!searchText) return;
        
        const previewElement = document.getElementById('preview');
        const previewHTML = previewElement.innerHTML;
        
        // A simpler approach for WordPress compatibility
        if (previewHTML.indexOf(searchText) >= 0) {
          const newHTML = previewHTML.replace(
            new RegExp(this.escapeRegExp(searchText), 'g'),
            '<span class="highlight">' + searchText + '</span>'
          );
          
          previewElement.innerHTML = newHTML;
          
          // Try to scroll to the highlighted element
          setTimeout(function() {
            const highlightElements = document.getElementsByClassName('highlight');
            if (highlightElements.length > 0) {
              const firstHighlight = highlightElements[0];
              if (firstHighlight) {
                firstHighlight.scrollIntoView({behavior: 'smooth', block: 'center'});
              }
            }
          }, 100);
        }
      },
      
      // Escape special regex characters
      escapeRegExp: function(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      },
      
      // Highlight changed text based on field
      highlightChangedText: function(changedField) {
        const self = this;
        
        switch (changedField) {
          case 'agreementType':
            // Highlight the agreement type text
            const agreementTypeElement = document.getElementById('agreementType');
            const agreementTypeText = agreementTypeElement.options[agreementTypeElement.selectedIndex].text;
            this.findAndHighlightText(agreementTypeText);
            break;
          case 'sellerName':
            this.findAndHighlightText(document.getElementById('sellerName').value);
            break;
          case 'buyerName':
            this.findAndHighlightText(document.getElementById('buyerName').value);
            break;
          case 'riskClassification':
            if (document.getElementById('riskClassification').checked) {
              this.findAndHighlightText("tariff classification errors or disputes");
            }
            break;
          case 'riskCountryOrigin':
            if (document.getElementById('riskCountryOrigin').checked) {
              this.findAndHighlightText("country of origin misrepresentations or disputes");
            }
            break;
          case 'riskSpecialTariffs':
            if (document.getElementById('riskSpecialTariffs').checked) {
              this.findAndHighlightText("Section 301, Section 232, or similar special tariff impositions");
            }
            break;
          case 'riskAntidumping':
            if (document.getElementById('riskAntidumping').checked) {
              this.findAndHighlightText("anti-dumping or countervailing duties");
            }
            break;
          case 'riskPenalties':
            if (document.getElementById('riskPenalties').checked) {
              this.findAndHighlightText("customs penalties, fines, or interest charges");
            }
            break;
          case 'indemnityDirection':
            const indemnityValue = document.getElementById('indemnityDirection').value;
            if (indemnityValue === 'seller-to-buyer') {
              this.findAndHighlightText(document.getElementById('sellerName').value + " shall defend");
            } else if (indemnityValue === 'buyer-to-seller') {
              this.findAndHighlightText(document.getElementById('buyerName').value + " shall defend");
            } else {
              this.findAndHighlightText("Each party shall defend");
            }
            break;
          case 'liabilityCapType':
          case 'fixedCapAmount':
          case 'percentageCap':
            let capType = "";
            const liabilityCapRadios = document.querySelectorAll('input[name="liabilityCapType"]');
            for (let i = 0; i < liabilityCapRadios.length; i++) {
              if (liabilityCapRadios[i].checked) {
                capType = liabilityCapRadios[i].value;
                break;
              }
            }
            
            if (capType === 'none') {
              this.findAndHighlightText("There shall be no cap");
            } else if (capType === 'fixed') {
              this.findAndHighlightText(document.getElementById('fixedCapAmount').value);
            } else if (capType === 'percentage') {
              this.findAndHighlightText(document.getElementById('percentageCap').value);
            }
            break;
          case 'minimumClaimThreshold':
            this.findAndHighlightText(document.getElementById('minimumClaimThreshold').value);
            break;
          case 'timeLimitation':
            const timeLimitValue = document.getElementById('timeLimitation').value;
            let timeLimitText = "";
            switch (timeLimitValue) {
              case '1year': timeLimitText = "one (1) year"; break;
              case '2years': timeLimitText = "two (2) years"; break;
              case '3years': timeLimitText = "three (3) years"; break;
              case '5years': timeLimitText = "five (5) years"; break;
              case 'statuteOfLimitations': timeLimitText = "the applicable statute of limitations"; break;
            }
            this.findAndHighlightText(timeLimitText);
            break;
          case 'defenseControl':
            const defenseValue = document.getElementById('defenseControl').value;
            if (defenseValue === 'indemnifier') {
              this.findAndHighlightText("indemnifying party shall have the right to control");
            } else if (defenseValue === 'indemnified') {
              this.findAndHighlightText("indemnified party shall have the right to control");
            } else {
              this.findAndHighlightText("parties shall jointly control");
            }
            break;
          case 'cooperationLevel':
            const cooperationValue = document.getElementById('cooperationLevel').value;
            if (cooperationValue === 'basic') {
              this.findAndHighlightText("provide reasonable cooperation");
            } else if (cooperationValue === 'standard') {
              this.findAndHighlightText("provide all reasonable assistance and cooperation");
            } else {
              this.findAndHighlightText("provide comprehensive assistance and cooperation");
            }
            break;
          case 'recordRetention':
            const retentionValue = document.getElementById('recordRetention').value;
            let retentionText = "";
            switch (retentionValue) {
              case '2years': retentionText = "two (2) years"; break;
              case '3years': retentionText = "three (3) years"; break;
              case '5years': retentionText = "five (5) years"; break;
              case '7years': retentionText = "seven (7) years"; break;
            }
            this.findAndHighlightText(retentionText);
            break;
          case 'riskAllocationMechanism':
            const allocValue = document.getElementById('riskAllocationMechanism').value;
            if (allocValue === 'full') {
              this.findAndHighlightText("party responsible for causing any tariff-related liability shall bear the full cost");
            } else if (allocValue === '50-50') {
              this.findAndHighlightText("shared equally (50/50) between the parties");
            } else if (allocValue === 'proportional') {
              this.findAndHighlightText("share tariff-related liabilities in proportion to their respective fault");
            } else {
              this.findAndHighlightText("indemnified party shall bear the first");
            }
            break;
          case 'faultDetermination':
            const faultValue = document.querySelector('input[name="faultDetermination"]:checked').value;
            if (faultValue === 'yes') {
              this.findAndHighlightText("Fault Determination");
            }
            break;
        }
        
        // Remove highlights after 3 seconds
        setTimeout(function() {
          self.clearHighlights();
        }, 3000);
      },
      
      // Handle liability cap type change
      handleLiabilityCapTypeChange: function() {
        let capType = '';
        const liabilityCapRadios = document.querySelectorAll('input[name="liabilityCapType"]');
        for (let i = 0; i < liabilityCapRadios.length; i++) {
          if (liabilityCapRadios[i].checked) {
            capType = liabilityCapRadios[i].value;
            break;
          }
        }
        
        document.getElementById('fixedCapGroup').style.display = capType === 'fixed' ? 'block' : 'none';
        document.getElementById('percentageCapGroup').style.display = capType === 'percentage' ? 'block' : 'none';
        this.updatePreview('liabilityCapType');
      },
      
      // Adjust spinner input value by a change (in percentage points)
      adjustSpinnerValue: function(inputId, change) {
        const input = document.getElementById(inputId);
        let currentValue = input.value.replace('%','').replace('$','').replace(',','').trim();
        let num = parseFloat(currentValue);
        if (isNaN(num)) { num = 0; }
        num = num + change;
        if (inputId === 'percentageCap') {
          input.value = num + '%';
        } else {
          input.value = '$' + num.toLocaleString();
        }
        this.updatePreview(inputId);
      },
      
      // Generate MS Word document
      generateWordDoc: function() {
        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' " +
                     "xmlns:w='urn:schemas-microsoft-com:office:word' " +
                     "xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Word Document</title></head><body>";
        const footer = "</body></html>";
        const content = document.getElementById('preview').innerHTML;
        const sourceHTML = header + content + footer;
        const source = 'data:application/vnd.ms-word;charset=utf-8,' + encodeURIComponent(sourceHTML);
        
        // Create a download link and trigger it
        const fileDownload = document.createElement("a");
        document.body.appendChild(fileDownload);
        fileDownload.href = source;
        fileDownload.download = 'TariffIndemnityClause.doc';
        fileDownload.click();
        document.body.removeChild(fileDownload);
      },
      
      // Handle copy button click
      handleCopyClick: function() {
        const text = document.getElementById('preview').innerText;
        const copyBtn = document.getElementById('copyBtn');
        const originalText = copyBtn.innerHTML;
        
        try {
          // Modern approach
          if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(function() {
              copyBtn.innerHTML = 'COPIED!';
              setTimeout(function() {
                copyBtn.innerHTML = originalText;
              }, 2000);
            });
          } 
          // Fallback approach
          else {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            copyBtn.innerHTML = 'COPIED!';
            setTimeout(function() {
              copyBtn.innerHTML = originalText;
            }, 2000);
          }
        } catch(err) {
          alert('Please select and copy the text manually.');
        }
      }
    };
    
    // Start the generator when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      tariffIndemnityGenerator.init();
    });
    
    // Initialize immediately as well (for WordPress)
    tariffIndemnityGenerator.init();
  </script>
</body>
</html>

    <div class="preview-fade" id="indemnity-fade"></div>
  </div>
  
    <div id="price-adjustment-tab" class="tools-tab-content">
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Price Adjustment Clause Generator for Tariff Fluctuations</title>
  <style>
    /* Base Styles already included in parent container */
    
    /* Tooltip styles */
    .help-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: #4a6da7;
      color: white;
      font-size: 10px;
      font-weight: bold;
      margin-left: 5px;
      cursor: pointer;
      vertical-align: middle;
      transition: background-color 0.2s;
    }
    
    .help-icon:hover {
      background-color: #2c3e50;
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip-text {
      visibility: hidden;
      width: 250px;
      background-color: #2c3e50;
      color: #fff;
      text-align: left;
      border-radius: 6px;
      padding: 8px 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 12px;
      line-height: 1.4;
      pointer-events: none;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    
    .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #2c3e50 transparent transparent transparent;
    }
    
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="clause-generator" id="price-adjustment-generator">
    <div class="generator-container">
      <!-- Form Column -->
      <div class="form-column">
        <!-- Agreement Information -->
        <div class="section-header">Agreement Information</div>
        
        <div class="form-group">
          <label class="form-label" for="pa_agreementType">
            Agreement Type
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Select the type of agreement you're drafting. This affects the terminology and specific provisions in the price adjustment clause.</span>
            </span>
          </label>
          <select id="pa_agreementType" class="form-select" onchange="priceAdjustmentGenerator.updatePreview('agreementType')">
            <option value="supply" selected>Supply Agreement</option>
            <option value="purchase">Purchase Agreement</option>
            <option value="manufacturing">Manufacturing Agreement</option>
            <option value="distribution">Distribution Agreement</option>
            <option value="services">Services Agreement</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="pa_sellerName">
            Seller/Supplier Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the legal name of the party providing goods or services. This party typically has the right to adjust prices based on tariff changes.</span>
            </span>
          </label>
          <input type="text" id="pa_sellerName" class="form-input" value="ABC Manufacturing, Inc." placeholder="Enter name of seller/supplier" onkeyup="priceAdjustmentGenerator.updatePreview('sellerName')">
        </div>
        
        <div class="form-group">
          <label class="form-label" for="pa_buyerName">
            Buyer/Customer Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the legal name of the party receiving goods or services. This party typically receives notice of any price adjustments.</span>
            </span>
          </label>
          <input type="text" id="pa_buyerName" class="form-input" value="XYZ Products, LLC" placeholder="Enter name of buyer/customer" onkeyup="priceAdjustmentGenerator.updatePreview('buyerName')">
        </div>
        
        <!-- Adjustment Trigger -->
        <div class="section-header">Adjustment Trigger</div>
        
        <div class="form-group">
          <label class="form-label">
            Tariff Change Type
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Determines what types of tariff changes will trigger price adjustments. You can choose to address increases only, decreases only, or both.</span>
            </span>
          </label>
          <select id="pa_tariffChangeType" class="form-select" onchange="priceAdjustmentGenerator.handleTariffChangeTypeChange()">
            <option value="any" selected>Any Change</option>
            <option value="increase">Increase Only</option>
            <option value="decrease">Decrease Only</option>
            <option value="threshold">Threshold-Based</option>
          </select>
        </div>
        
        <div id="pa_thresholdGroup" style="display: none;">
          <div class="form-group">
            <label class="form-label" for="pa_thresholdPercentage">
              Threshold Percentage
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Sets a minimum percentage change in tariffs required to trigger a price adjustment. Common thresholds range from 3-10%.</span>
              </span>
            </label>
            <div class="input-spinner">
              <input type="text" id="pa_thresholdPercentage" class="form-input" value="5%" placeholder="Enter threshold percentage" onkeyup="priceAdjustmentGenerator.updatePreview('thresholdPercentage')">
              <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_thresholdPercentage', 1)">â–²</button>
              <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_thresholdPercentage', -1)">â–¼</button>
            </div>
            <div class="form-hint">Minimum tariff change to trigger adjustment</div>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label">
            Adjustment Calculation
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines how price adjustments will be calculated when tariffs change. Direct pass-through applies the full change, while other options provide more flexibility.</span>
            </span>
          </label>
          <select id="pa_adjustmentCalculation" class="form-select" onchange="priceAdjustmentGenerator.handleAdjustmentCalculationChange()">
            <option value="direct" selected>Direct Pass-Through</option>
            <option value="percentage">Percentage of Change</option>
            <option value="formula">Custom Formula</option>
          </select>
        </div>
        
        <div id="pa_percentageGroup" style="display: none;">
          <div class="form-group">
            <label class="form-label" for="pa_adjustmentPercentage">
              Adjustment Percentage
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Determines what percentage of the tariff change is passed on as a price adjustment. Less than 100% means the seller absorbs some of the cost.</span>
              </span>
            </label>
            <div class="input-spinner">
              <input type="text" id="pa_adjustmentPercentage" class="form-input" value="100%" placeholder="Enter adjustment percentage" onkeyup="priceAdjustmentGenerator.updatePreview('adjustmentPercentage')">
              <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_adjustmentPercentage', 1)">â–²</button>
              <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_adjustmentPercentage', -1)">â–¼</button>
            </div>
            <div class="form-hint">Percentage of tariff change passed through</div>
          </div>
        </div>
        
        <div id="pa_formulaGroup" style="display: none;">
          <div class="form-group">
            <label class="form-label" for="pa_customFormula">
              Custom Formula
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Specify a custom calculation method for price adjustments. Use this for complex situations where components are partially affected by tariffs.</span>
              </span>
            </label>
            <textarea id="pa_customFormula" class="form-textarea" placeholder="Describe formula calculation" onkeyup="priceAdjustmentGenerator.updatePreview('customFormula')">Price adjustment = Base price Ã— (New tariff rate &#8211; Original tariff rate) Ã— Affected component percentage</textarea>
          </div>
        </div>
        
        <!-- Notice and Documentation -->
        <div class="section-header">Notice &#038; Documentation</div>
        
        <div class="form-group">
          <label class="form-label" for="pa_noticePeriod">
            Notice Period
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Specifies how much advance notice must be given before price changes take effect. Longer periods give the buyer more time to prepare but delay seller's recovery of costs.</span>
            </span>
          </label>
          <select id="pa_noticePeriod" class="form-select" onchange="priceAdjustmentGenerator.updatePreview('noticePeriod')">
            <option value="immediate">Immediate</option>
            <option value="5days">5 Business Days</option>
            <option value="10days" selected>10 Business Days</option>
            <option value="15days">15 Business Days</option>
            <option value="30days">30 Business Days</option>
          </select>
          <div class="form-hint">How much notice before price changes take effect</div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="pa_documentationRequired">
            Documentation Required
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Specifies what evidence must be provided to justify price adjustments. More documentation increases transparency but adds administrative burden.</span>
            </span>
          </label>
          <select id="pa_documentationRequired" class="form-select" onchange="priceAdjustmentGenerator.updatePreview('documentationRequired')">
            <option value="minimal">Minimal (Basic Notice)</option>
            <option value="standard" selected>Standard (Customs Docs)</option>
            <option value="comprehensive">Comprehensive (Full Evidence)</option>
          </select>
        </div>
        
        <!-- Additional Options -->
        <div class="section-header">Additional Options</div>
        
        <div class="form-group">
          <label class="form-label">
            Limitations
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Sets boundaries on how much prices can be adjusted. Limits protect buyers from extreme fluctuations while ensuring sellers can recover significant cost increases.</span>
            </span>
          </label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="pa_limitations" id="pa_limitationsNone" value="none" onclick="priceAdjustmentGenerator.handleLimitationsChange()">
              <span class="radio-label">
                No Limits
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Allows unlimited price adjustments based on tariff changes. Provides maximum flexibility but potentially higher risk for buyers.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="pa_limitations" id="pa_limitationsCap" value="cap" checked onclick="priceAdjustmentGenerator.handleLimitationsChange()">
              <span class="radio-label">
                Maximum Cap
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Sets an upper limit on price increases. Protects buyers from extreme tariff fluctuations but may leave sellers exposed to large cost increases.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="pa_limitations" id="pa_limitationsRange" value="range" onclick="priceAdjustmentGenerator.handleLimitationsChange()">
              <span class="radio-label">
                Min/Max Range
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Sets both minimum and maximum adjustment limits. Creates price stability while allowing reasonable adjustments.</span>
                </span>
              </span>
            </label>
          </div>
        </div>
        
        <div id="pa_capGroup">
          <div class="form-group">
            <label class="form-label" for="pa_maximumAdjustment">
              Maximum Adjustment
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">The highest percentage that prices can be increased due to tariff changes. Common caps range from 10-20% above original prices.</span>
              </span>
            </label>
            <div class="input-spinner">
              <input type="text" id="pa_maximumAdjustment" class="form-input" value="15%" placeholder="Enter maximum percentage" onkeyup="priceAdjustmentGenerator.updatePreview('maximumAdjustment')">
              <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_maximumAdjustment', 1)">â–²</button>
              <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_maximumAdjustment', -1)">â–¼</button>
            </div>
            <div class="form-hint">Maximum price adjustment percentage</div>
          </div>
        </div>
        
        <!-- When Min/Max Range is selected, display both fields in the same row -->
        <div id="pa_rangeGroup" style="display: none;">
          <div class="range-group-container">
            <div style="flex: 1;">
              <label class="form-label" for="pa_minimumAdjustment">
                Minimum Adjustment
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">The lowest percentage prices must be adjusted when tariffs decrease. Prevents minor tariff reductions from being ignored.</span>
                </span>
              </label>
              <div class="input-spinner">
                <input type="text" id="pa_minimumAdjustment" class="form-input" value="5%" placeholder="Enter minimum percentage" onkeyup="priceAdjustmentGenerator.updatePreview('minimumAdjustment')">
                <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_minimumAdjustment', 1)">â–²</button>
                <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_minimumAdjustment', -1)">â–¼</button>
              </div>
            </div>
            <div style="flex: 1;">
              <label class="form-label" for="pa_maximumRangeAdjustment">
                Maximum Adjustment
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">The highest percentage prices can be increased when tariffs rise. Sets an upper limit on price volatility.</span>
                </span>
              </label>
              <div class="input-spinner">
                <input type="text" id="pa_maximumRangeAdjustment" class="form-input" value="20%" placeholder="Enter maximum percentage" onkeyup="priceAdjustmentGenerator.updatePreview('maximumRangeAdjustment')">
                <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_maximumRangeAdjustment', 1)">â–²</button>
                <button type="button" class="spinner-button" onclick="priceAdjustmentGenerator.adjustSpinnerValue('pa_maximumRangeAdjustment', -1)">â–¼</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="pa_reviewPeriod">
            Review Period
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">How often parties will formally review prices and tariff impacts. Regular reviews ensure adjustments remain fair as conditions evolve.</span>
            </span>
          </label>
          <select id="pa_reviewPeriod" class="form-select" onchange="priceAdjustmentGenerator.updatePreview('reviewPeriod')">
            <option value="monthly">Monthly</option>
            <option value="quarterly" selected>Quarterly</option>
            <option value="biannual">Bi-Annually</option>
            <option value="annual">Annually</option>
            <option value="none">No Regular Review</option>
          </select>
          <div class="form-hint">How often prices are reviewed</div>
        </div>
      </div>
      
      <!-- Preview Column -->
      <div class="preview-column">
        <div class="preview-header">
          <div class="preview-title">Price Adjustment Clause Preview</div>
          <div class="preview-note">Updates as you complete the form</div>
        </div>
        
        <div class="preview-content" id="pa_preview">
          <!-- Preview content will be populated by JavaScript -->
        </div>
        
        <div class="button-container">
          <button id="pa_copyBtn" class="copy-btn" onclick="priceAdjustmentGenerator.handleCopyClick()">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="copy-icon">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            COPY CLAUSE
          </button>
          <button id="pa_msWordBtn" class="copy-btn" onclick="priceAdjustmentGenerator.generateWordDoc()">MS WORD DOC</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Create a namespace to avoid global scope pollution in WordPress
    var priceAdjustmentGenerator = {
      // Initialize the generator
      init: function() {
        this.handleTariffChangeTypeChange();
        this.handleAdjustmentCalculationChange();
        this.handleLimitationsChange();
        this.updatePreview();
      },
      
      // Generate clause text
      generateClause: function() {
        const agreementType = document.getElementById('pa_agreementType').value;
        const agreementTypeText = document.getElementById('pa_agreementType').options[document.getElementById('pa_agreementType').selectedIndex].text;
        const sellerName = document.getElementById('pa_sellerName').value;
        const buyerName = document.getElementById('pa_buyerName').value;
        const tariffChangeType = document.getElementById('pa_tariffChangeType').value;
        const thresholdPercentage = document.getElementById('pa_thresholdPercentage').value;
        const adjustmentCalculation = document.getElementById('pa_adjustmentCalculation').value;
        const adjustmentPercentage = document.getElementById('pa_adjustmentPercentage').value;
        const customFormula = document.getElementById('pa_customFormula').value;
        const noticePeriod = document.getElementById('pa_noticePeriod').value;
        const documentationRequired = document.getElementById('pa_documentationRequired').value;
        
        // Get selected limitations option
        let limitationsType = '';
        const limitationsRadios = document.getElementsByName('pa_limitations');
        for (let i = 0; i < limitationsRadios.length; i++) {
          if (limitationsRadios[i].checked) {
            limitationsType = limitationsRadios[i].value;
            break;
          }
        }
        
        const maximumAdjustment = document.getElementById('pa_maximumAdjustment').value;
        const minimumAdjustment = document.getElementById('pa_minimumAdjustment').value;
        const maximumRangeAdjustment = document.getElementById('pa_maximumRangeAdjustment').value;
        const reviewPeriod = document.getElementById('pa_reviewPeriod').value;
        
        // Build clause number and title
        let clauseTitle = '';
        
        switch (agreementType) {
          case 'supply':
          case 'purchase':
          case 'manufacturing':
          case 'distribution':
            clauseTitle = 'PRICE ADJUSTMENTS DUE TO TARIFF CHANGES';
            break;
          case 'services':
            clauseTitle = 'FEE ADJUSTMENTS DUE TO TARIFF CHANGES';
            break;
        }
        
        // Build tariff change trigger language
        let triggerLanguage = '';
        switch (tariffChangeType) {
          case 'any':
            triggerLanguage = 'In the event of any change in applicable tariffs, duties, or similar government-imposed charges';
            break;
          case 'increase':
            triggerLanguage = 'In the event of any increase in applicable tariffs, duties, or similar government-imposed charges';
            break;
          case 'decrease':
            triggerLanguage = 'In the event of any decrease in applicable tariffs, duties, or similar government-imposed charges';
            break;
          case 'threshold':
            triggerLanguage = `In the event of a change of ${thresholdPercentage} or more in applicable tariffs, duties, or similar government-imposed charges`;
            break;
        }
        
        // Build adjustment calculation language
        let calculationLanguage = '';
        switch (adjustmentCalculation) {
          case 'direct':
            calculationLanguage = 'the price of affected products or components shall be adjusted by an amount equal to the change in such tariffs, duties, or charges';
            break;
          case 'percentage':
            calculationLanguage = `the price of affected products or components shall be adjusted by ${adjustmentPercentage} of the change in such tariffs, duties, or charges`;
            break;
          case 'formula':
            calculationLanguage = `the price of affected products or components shall be adjusted according to the following formula: ${customFormula}`;
            break;
        }
        
        // Build notice period language
        let noticeLanguage = '';
        switch (noticePeriod) {
          case 'immediate':
            noticeLanguage = 'immediately upon becoming aware of such change';
            break;
          case '5days':
            noticeLanguage = 'within five (5) business days of becoming aware of such change';
            break;
          case '10days':
            noticeLanguage = 'within ten (10) business days of becoming aware of such change';
            break;
          case '15days':
            noticeLanguage = 'within fifteen (15) business days of becoming aware of such change';
            break;
          case '30days':
            noticeLanguage = 'within thirty (30) business days of becoming aware of such change';
            break;
        }
        
        // Build documentation language
        let documentationLanguage = '';
        switch (documentationRequired) {
          case 'minimal':
            documentationLanguage = 'a written notice specifying the nature and amount of the tariff change';
            break;
          case 'standard':
            documentationLanguage = 'copies of relevant customs documentation, government announcements, or other official notices demonstrating the tariff change';
            break;
          case 'comprehensive':
            documentationLanguage = 'comprehensive documentation including: (i) copies of relevant customs documentation, government announcements, or other official notices demonstrating the tariff change; (ii) a detailed calculation of how the price adjustment was determined; and (iii) a certification by an officer of the Seller confirming the accuracy of the information provided';
            break;
        }
        
        // Build limitations language
        let limitationsLanguage = '';
        switch (limitationsType) {
          case 'none':
            limitationsLanguage = 'There shall be no limit on the amount of price adjustment that may be made pursuant to this section.';
            break;
          case 'cap':
            limitationsLanguage = `Notwithstanding the foregoing, in no event shall any price adjustment result in a price increase of more than ${maximumAdjustment} from the prices in effect immediately prior to such adjustment.`;
            break;
          case 'range':
            limitationsLanguage = `Notwithstanding the foregoing, in no event shall any price adjustment result in a price increase of less than ${minimumAdjustment} or more than ${maximumRangeAdjustment} from the prices in effect immediately prior to such adjustment.`;
            break;
        }
        
        // Build review period language
        let reviewLanguage = '';
        switch (reviewPeriod) {
          case 'monthly':
            reviewLanguage = `${sellerName} and ${buyerName} shall review the prices and any tariff-related adjustments on a monthly basis.`;
            break;
          case 'quarterly':
            reviewLanguage = `${sellerName} and ${buyerName} shall review the prices and any tariff-related adjustments on a quarterly basis.`;
            break;
          case 'biannual':
            reviewLanguage = `${sellerName} and ${buyerName} shall review the prices and any tariff-related adjustments on a bi-annual basis.`;
            break;
          case 'annual':
            reviewLanguage = `${sellerName} and ${buyerName} shall review the prices and any tariff-related adjustments on an annual basis.`;
            break;
          case 'none':
            reviewLanguage = '';
            break;
        }
        
        // Build the complete clause
        let clause = `
<p><strong>${clauseTitle}</strong></p>

<p>a) <u>Adjustment Due to Tariff Changes</u>. ${triggerLanguage} affecting the products or components supplied under this ${agreementTypeText}, ${calculationLanguage}.</p>

<p>b) <u>Notice of Adjustment</u>. ${sellerName} shall provide ${buyerName} with written notice of any price adjustment pursuant to this section ${noticeLanguage}. Such notice shall include ${documentationLanguage}.</p>

<p>c) <u>Effective Date of Adjustment</u>. Price adjustments made pursuant to this section shall become effective for all orders placed after the date of ${buyerName}'s receipt of the notice described in subsection (b) of this Section, unless otherwise agreed by the parties in writing.</p>

<p>d) <u>Limitations on Adjustments</u>. ${limitationsLanguage}</p>
`;

        // Add review period paragraph if specified
        if (reviewPeriod !== 'none') {
          clause += `
<p>e) <u>Periodic Review</u>. ${reviewLanguage} During such reviews, the parties shall evaluate market conditions, tariff changes, and other relevant factors to determine whether any modifications to the prices or adjustment mechanisms are appropriate.</p>
`;
        }

        // Add final paragraph
        clause += `
<p>${reviewPeriod !== 'none' ? 'f)' : 'e)'} <u>Negotiation in Good Faith</u>. If either party believes that the adjustment mechanism described in this section does not fairly reflect the actual impact of tariff changes on the products or components supplied under this ${agreementTypeText}, the parties agree to negotiate in good faith to modify such mechanism in a manner that fairly allocates the economic impact of such tariff changes between the parties.</p>
`;

        return clause;
      },
      
      // Update the preview
      updatePreview: function(changedField) {
        // Clear previous highlights
        this.clearHighlights();
        
        // Generate new clause text
        const clauseText = this.generateClause();
        
        // Update preview
        document.getElementById('pa_preview').innerHTML = clauseText;
        
        // If a field was changed, highlight the relevant text
        if (changedField) {
          this.highlightChangedText(changedField);
        }
      },
      
      // Clear highlights
      clearHighlights: function() {
        const highlightElements = document.getElementsByClassName('highlight');
        while (highlightElements.length > 0) {
          const element = highlightElements[0];
          const text = element.textContent;
          const textNode = document.createTextNode(text);
          element.parentNode.replaceChild(textNode, element);
        }
      },
      
      // Find text in document and highlight it
      findAndHighlightText: function(searchText) {
        if (!searchText) return;
        
        const previewElement = document.getElementById('pa_preview');
        const previewHTML = previewElement.innerHTML;
        
        // A simpler approach for WordPress compatibility
        if (previewHTML.indexOf(searchText) >= 0) {
          const newHTML = previewHTML.replace(
            new RegExp(this.escapeRegExp(searchText), 'g'),
            '<span class="highlight">' + searchText + '</span>'
          );
          
          previewElement.innerHTML = newHTML;
          
          // Try to scroll to the highlighted element
          setTimeout(function() {
            const highlightElements = document.getElementsByClassName('highlight');
            if (highlightElements.length > 0) {
              const firstHighlight = highlightElements[0];
              if (firstHighlight) {
                firstHighlight.scrollIntoView({behavior: 'smooth', block: 'center'});
              }
            }
          }, 100);
        }
      },
      
      // Escape special regex characters
      escapeRegExp: function(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      },
      
      // Highlight changed text based on field
      highlightChangedText: function(changedField) {
        const self = this;
        
        switch (changedField) {
          case 'agreementType':
            // Highlight the agreement type text
            const agreementTypeElement = document.getElementById('pa_agreementType');
            const agreementTypeText = agreementTypeElement.options[agreementTypeElement.selectedIndex].text;
            this.findAndHighlightText(agreementTypeText);
            break;
          case 'sellerName':
            this.findAndHighlightText(document.getElementById('pa_sellerName').value);
            break;
          case 'buyerName':
            this.findAndHighlightText(document.getElementById('pa_buyerName').value);
            break;
          case 'tariffChangeType':
          case 'thresholdPercentage':
            // Highlight the trigger language
            if (document.getElementById('pa_tariffChangeType').value === 'threshold') {
              this.findAndHighlightText(document.getElementById('pa_thresholdPercentage').value);
            } else {
              const triggerText = document.getElementById('pa_tariffChangeType').value === 'any' ? 'any change' :
                                document.getElementById('pa_tariffChangeType').value === 'increase' ? 'any increase' :
                                'any decrease';
              this.findAndHighlightText(triggerText);
            }
            break;
          case 'adjustmentCalculation':
          case 'adjustmentPercentage':
          case 'customFormula':
            // Highlight calculation language
            if (document.getElementById('pa_adjustmentCalculation').value === 'direct') {
              this.findAndHighlightText('equal to the change');
            } else if (document.getElementById('pa_adjustmentCalculation').value === 'percentage') {
              this.findAndHighlightText(document.getElementById('pa_adjustmentPercentage').value);
            } else if (document.getElementById('pa_adjustmentCalculation').value === 'formula') {
              this.findAndHighlightText(document.getElementById('pa_customFormula').value);
            }
            break;
          case 'noticePeriod':
            // Highlight notice period
            const noticeValue = document.getElementById('pa_noticePeriod').value;
            const noticeText = noticeValue === 'immediate' ? 'immediately' :
                              noticeValue === '5days' ? 'five (5) business days' :
                              noticeValue === '10days' ? 'ten (10) business days' :
                              noticeValue === '15days' ? 'fifteen (15) business days' :
                              'thirty (30) business days';
            this.findAndHighlightText(noticeText);
            break;
          case 'documentationRequired':
            // Highlight documentation language
            const docValue = document.getElementById('pa_documentationRequired').value;
            const docText = docValue === 'minimal' ? 'a written notice' :
                           docValue === 'standard' ? 'copies of relevant customs documentation' :
                           'comprehensive documentation';
            this.findAndHighlightText(docText);
            break;
          case 'limitations':
          case 'maximumAdjustment':
          case 'minimumAdjustment':
          case 'maximumRangeAdjustment':
            // Highlight limitations language
            let limitationsType = '';
            const limitationsRadios = document.getElementsByName('pa_limitations');
            for (let i = 0; i < limitationsRadios.length; i++) {
              if (limitationsRadios[i].checked) {
                limitationsType = limitationsRadios[i].value;
                break;
              }
            }
            
            if (limitationsType === 'none') {
              this.findAndHighlightText('no limit');
            } else if (limitationsType === 'cap') {
              this.findAndHighlightText(document.getElementById('pa_maximumAdjustment').value);
            } else if (limitationsType === 'range') {
              this.findAndHighlightText(document.getElementById('pa_minimumAdjustment').value);
              // Also highlight max value
              setTimeout(() => {
                this.findAndHighlightText(document.getElementById('pa_maximumRangeAdjustment').value);
              }, 10);
            }
            break;
          case 'reviewPeriod':
            // Highlight review period language
            if (document.getElementById('pa_reviewPeriod').value !== 'none') {
              const reviewValue = document.getElementById('pa_reviewPeriod').value;
              const reviewText = reviewValue === 'monthly' ? 'monthly' :
                                reviewValue === 'quarterly' ? 'quarterly' :
                                reviewValue === 'biannual' ? 'bi-annual' :
                                'annual';
              this.findAndHighlightText(reviewText);
            }
            break;
        }
        
        // Remove highlights after 3 seconds
        setTimeout(function() {
          self.clearHighlights();
        }, 3000);
      },
      
      // Handle tariff change type change
      handleTariffChangeTypeChange: function() {
        const tariffChangeType = document.getElementById('pa_tariffChangeType').value;
        document.getElementById('pa_thresholdGroup').style.display = tariffChangeType === 'threshold' ? 'block' : 'none';
        this.updatePreview('tariffChangeType');
      },
      
      // Handle adjustment calculation change
      handleAdjustmentCalculationChange: function() {
        const adjustmentCalculation = document.getElementById('pa_adjustmentCalculation').value;
        document.getElementById('pa_percentageGroup').style.display = adjustmentCalculation === 'percentage' ? 'block' : 'none';
        document.getElementById('pa_formulaGroup').style.display = adjustmentCalculation === 'formula' ? 'block' : 'none';
        this.updatePreview('adjustmentCalculation');
      },
      
      // Handle limitations change
      handleLimitationsChange: function() {
        let limitationsType = '';
        const limitationsRadios = document.getElementsByName('pa_limitations');
        for (let i = 0; i < limitationsRadios.length; i++) {
          if (limitationsRadios[i].checked) {
            limitationsType = limitationsRadios[i].value;
            break;
          }
        }
        
        document.getElementById('pa_capGroup').style.display = limitationsType === 'cap' ? 'block' : 'none';
        document.getElementById('pa_rangeGroup').style.display = limitationsType === 'range' ? 'block' : 'none';
        this.updatePreview('limitations');
      },
      
      // Adjust spinner input value by a change (in 1% increments)
      adjustSpinnerValue: function(inputId, change) {
        const input = document.getElementById(inputId);
        let currentValue = input.value.replace('%','').trim();
        let num = parseFloat(currentValue);
        if (isNaN(num)) { num = 0; }
        num = num + change;
        input.value = num + '%';
        
        // Map input ID to field name for highlight
        const fieldMap = {
          'pa_thresholdPercentage': 'thresholdPercentage',
          'pa_adjustmentPercentage': 'adjustmentPercentage',
          'pa_maximumAdjustment': 'maximumAdjustment',
          'pa_minimumAdjustment': 'minimumAdjustment',
          'pa_maximumRangeAdjustment': 'maximumRangeAdjustment'
        };
        
        this.updatePreview(fieldMap[inputId]);
      },
      
      // Generate MS Word document
      generateWordDoc: function() {
        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' " +
                     "xmlns:w='urn:schemas-microsoft-com:office:word' " +
                     "xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Word Document</title></head><body>";
        const footer = "</body></html>";
        const content = document.getElementById('pa_preview').innerHTML;
        const sourceHTML = header + content + footer;
        const source = 'data:application/vnd.ms-word;charset=utf-8,' + encodeURIComponent(sourceHTML);
        
        // Create a download link and trigger it
        const fileDownload = document.createElement("a");
        document.body.appendChild(fileDownload);
        fileDownload.href = source;
        fileDownload.download = 'PriceAdjustmentClause.doc';
        fileDownload.click();
        document.body.removeChild(fileDownload);
      },
      
      // Handle copy button click
      handleCopyClick: function() {
        const text = document.getElementById('pa_preview').innerText;
        const copyBtn = document.getElementById('pa_copyBtn');
        const originalText = copyBtn.innerHTML;
        
        try {
          // Modern approach
          if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(function() {
              copyBtn.innerHTML = 'COPIED!';
              setTimeout(function() {
                copyBtn.innerHTML = originalText;
              }, 2000);
            });
          } 
          // Fallback approach
          else {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            copyBtn.innerHTML = 'COPIED!';
            setTimeout(function() {
              copyBtn.innerHTML = originalText;
            }, 2000);
          }
        } catch(err) {
          alert('Please select and copy the text manually.');
        }
      }
    };
    
    // Start the generator when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      priceAdjustmentGenerator.init();
    });
    
    // Initialize immediately as well (for WordPress)
    priceAdjustmentGenerator.init();
  </script>
</body>
</html>


 
      <div class="preview-fade" id="price-adjustment-fade"></div>
  </div>
  
  <div id="force-majeure-tab" class="tools-tab-content">
  
  <!-- Force Majeure Generator Will Be Here -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Force Majeure Clause Generator for Tariff Disruptions</title>
  <style>
    /* Help tooltip styles */
    .help-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: #4a6da7;
      color: white;
      font-size: 10px;
      font-weight: bold;
      margin-left: 5px;
      cursor: pointer;
      vertical-align: middle;
      transition: background-color 0.2s;
    }
    
    .help-icon:hover {
      background-color: #2c3e50;
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip-text {
      visibility: hidden;
      width: 250px;
      background-color: #2c3e50;
      color: #fff;
      text-align: left;
      border-radius: 6px;
      padding: 8px 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 12px;
      line-height: 1.4;
      pointer-events: none;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    
    .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #2c3e50 transparent transparent transparent;
    }
    
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="clause-generator" id="force-majeure-generator">
    <div class="generator-container">
      <!-- Form Column -->
      <div class="form-column">
        <!-- Agreement Information -->
        <div class="section-header">Agreement Information</div>
        
        <div class="form-group">
          <label class="form-label" for="fm_agreementType">
            Agreement Type
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Select the type of agreement you're drafting. This affects the terminology used in the force majeure clause and how disruptions are treated.</span>
            </span>
          </label>
          <select id="fm_agreementType" class="form-select" onchange="forceMajeureGenerator.updatePreview('agreementType')">
            <option value="supply" selected>Supply Agreement</option>
            <option value="purchase">Purchase Agreement</option>
            <option value="manufacturing">Manufacturing Agreement</option>
            <option value="distribution">Distribution Agreement</option>
            <option value="services">Services Agreement</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="fm_sellerName">
            Seller/Supplier Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the legal name of the party providing goods or services. This party often bears the initial burden of tariff-related disruptions.</span>
            </span>
          </label>
          <input type="text" id="fm_sellerName" class="form-input" value="ABC Manufacturing, Inc." placeholder="Enter name of seller/supplier" onkeyup="forceMajeureGenerator.updatePreview('sellerName')">
        </div>
        
        <div class="form-group">
          <label class="form-label" for="fm_buyerName">
            Buyer/Customer Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the legal name of the party receiving goods or services. This party may have the right to source from alternative suppliers during force majeure events.</span>
            </span>
          </label>
          <input type="text" id="fm_buyerName" class="form-input" value="XYZ Products, LLC" placeholder="Enter name of buyer/customer" onkeyup="forceMajeureGenerator.updatePreview('buyerName')">
        </div>
        
        <!-- Force Majeure Triggers -->
        <div class="section-header">Force Majeure Triggers</div>
        
        <div class="form-group">
          <label class="form-label">
            Tariff-Related Events
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Select which tariff-related disruptions can excuse performance. Including more triggers provides broader protection for the affected party but creates more uncertainty.</span>
            </span>
          </label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerTariffIncrease" checked onclick="forceMajeureGenerator.updatePreview('triggerTariffIncrease')">
              <span class="checkbox-label">
                Substantial Tariff Increases
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Allows significant tariff increases to qualify as force majeure events. The threshold percentage defines what counts as "substantial."</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerImportBan" checked onclick="forceMajeureGenerator.updatePreview('triggerImportBan')">
              <span class="checkbox-label">
                Import/Export Bans
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers complete prohibitions on importing or exporting specific goods, which may make performance impossible.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerTradeRestrictions" checked onclick="forceMajeureGenerator.updatePreview('triggerTradeRestrictions')">
              <span class="checkbox-label">
                New Trade Restrictions
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Includes new regulations, licensing requirements, or other restrictions that significantly impede trade.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerTradeSanctions" checked onclick="forceMajeureGenerator.updatePreview('triggerTradeSanctions')">
              <span class="checkbox-label">
                Trade Sanctions
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers sanctions targeting specific countries, entities, or individuals that disrupt the supply chain.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerQuotas" onclick="forceMajeureGenerator.updatePreview('triggerQuotas')">
              <span class="checkbox-label">
                Import/Export Quotas
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Addresses numerical limits on imports or exports that may restrict capacity to perform contractual obligations.</span>
                </span>
              </span>
            </label>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="fm_tariffThreshold">
            Tariff Increase Threshold
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines what percentage increase in tariffs qualifies as a force majeure event. Higher thresholds favor buyers; lower thresholds favor sellers/suppliers.</span>
            </span>
          </label>
          <div class="input-spinner">
            <input type="text" id="fm_tariffThreshold" class="form-input" value="25%" placeholder="Enter threshold percentage" onkeyup="forceMajeureGenerator.updatePreview('tariffThreshold')">
            <button type="button" class="spinner-button" onclick="forceMajeureGenerator.adjustSpinnerValue('fm_tariffThreshold', 5)">â–²</button>
            <button type="button" class="spinner-button" onclick="forceMajeureGenerator.adjustSpinnerValue('fm_tariffThreshold', -5)">â–¼</button>
          </div>
          <div class="form-hint">Minimum tariff increase to trigger force majeure</div>
        </div>
        
        <div class="form-group">
          <label class="form-label">
            Standard Force Majeure Events
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Select traditional force majeure events to include alongside tariff-related triggers. These are widely recognized grounds for excusing performance.</span>
            </span>
          </label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerNaturalDisaster" checked onclick="forceMajeureGenerator.updatePreview('triggerNaturalDisaster')">
              <span class="checkbox-label">
                Natural Disasters
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Includes events like earthquakes, floods, hurricanes, and other acts of nature that disrupt operations.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerWar" checked onclick="forceMajeureGenerator.updatePreview('triggerWar')">
              <span class="checkbox-label">
                War or Military Action
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers armed conflicts, invasions, civil unrest, and military operations that may disrupt supply chains.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerPandemic" checked onclick="forceMajeureGenerator.updatePreview('triggerPandemic')">
              <span class="checkbox-label">
                Pandemics/Epidemics
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Includes widespread disease outbreaks that lead to quarantines, travel restrictions, or workforce disruptions.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerGovernmentAction" checked onclick="forceMajeureGenerator.updatePreview('triggerGovernmentAction')">
              <span class="checkbox-label">
                Government Actions
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Covers regulatory changes, shutdowns, seizures, or other governmental acts that impede performance.</span>
                </span>
              </span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="fm_triggerLabor" onclick="forceMajeureGenerator.updatePreview('triggerLabor')">
              <span class="checkbox-label">
                Labor Disputes
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Includes strikes, lockouts, and other labor actions that disrupt operations. Often controversial as these may be within a party's control.</span>
                </span>
              </span>
            </label>
          </div>
        </div>
        
        <!-- Notice and Mitigation -->
        <div class="section-header">Notice &#038; Mitigation</div>
        
        <div class="form-group">
          <label class="form-label" for="fm_noticePeriod">
            Notice Period
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Specifies how quickly the affected party must notify the other party after becoming aware of a force majeure event. Shorter periods increase transparency but create higher compliance burdens.</span>
            </span>
          </label>
          <select id="fm_noticePeriod" class="form-select" onchange="forceMajeureGenerator.updatePreview('noticePeriod')">
            <option value="immediate">Immediate Notice</option>
            <option value="24hours">Within 24 Hours</option>
            <option value="48hours">Within 48 Hours</option>
            <option value="3days">Within 3 Business Days</option>
            <option value="5days" selected>Within 5 Business Days</option>
            <option value="10days">Within 10 Business Days</option>
          </select>
          <div class="form-hint">When affected party must notify the other party</div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="fm_documentationRequired">
            Documentation Required
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines the level of evidence needed to support a force majeure claim. More documentation provides clarity but increases administrative burden.</span>
            </span>
          </label>
          <select id="fm_documentationRequired" class="form-select" onchange="forceMajeureGenerator.updatePreview('documentationRequired')">
            <option value="minimal">Minimal (Basic Notice)</option>
            <option value="standard" selected>Standard (Written Explanation)</option>
            <option value="comprehensive">Comprehensive (Detailed Evidence)</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label">
            Mitigation Requirements
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines how hard the affected party must work to overcome the force majeure event. Stronger requirements favor the unaffected party.</span>
            </span>
          </label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="fm_mitigationLevel" id="fm_mitigationStandard" value="standard" checked onclick="forceMajeureGenerator.updatePreview('mitigationLevel')">
              <span class="radio-label">
                Standard Efforts
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Requires reasonable steps to address the event's impact, a moderate standard that balances interests.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="fm_mitigationLevel" id="fm_mitigationReasonable" value="reasonable" onclick="forceMajeureGenerator.updatePreview('mitigationLevel')">
              <span class="radio-label">
                Reasonable Efforts
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Requires diligent attempts to overcome obstacles, but not extraordinary measures.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="fm_mitigationLevel" id="fm_mitigationBest" value="best" onclick="forceMajeureGenerator.updatePreview('mitigationLevel')">
              <span class="radio-label">
                Best Efforts
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">The highest standard, requiring all possible measures to overcome the event, even if costly.</span>
                </span>
              </span>
            </label>
          </div>
        </div>
        
        <!-- Suspension and Termination -->
        <div class="section-header">Suspension &#038; Termination</div>
        
        <div class="form-group">
          <label class="form-label" for="fm_suspensionPeriod">
            Maximum Suspension Period
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines how long performance can be suspended before termination rights arise. Longer periods favor the affected party; shorter periods favor the unaffected party.</span>
            </span>
          </label>
          <select id="fm_suspensionPeriod" class="form-select" onchange="forceMajeureGenerator.updatePreview('suspensionPeriod')">
            <option value="30days">30 Days</option>
            <option value="60days" selected>60 Days</option>
            <option value="90days">90 Days</option>
            <option value="120days">120 Days</option>
            <option value="180days">180 Days</option>
            <option value="indefinite">No Limit</option>
          </select>
          <div class="form-hint">Maximum period before termination rights arise</div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="fm_terminationRights">
            Termination Rights
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Specifies who can terminate the agreement if force majeure continues beyond the suspension period. This allocation of rights significantly impacts business risk.</span>
            </span>
          </label>
          <select id="fm_terminationRights" class="form-select" onchange="forceMajeureGenerator.updatePreview('terminationRights')">
            <option value="either">Either Party</option>
            <option value="affected">Affected Party Only</option>
            <option value="unaffected" selected>Unaffected Party Only</option>
            <option value="mutual">Mutual Agreement Only</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="fm_terminationNotice">
            Termination Notice Period
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Defines how much notice must be given before termination takes effect. Provides time for final attempts to resolve the situation.</span>
            </span>
          </label>
          <select id="fm_terminationNotice" class="form-select" onchange="forceMajeureGenerator.updatePreview('terminationNotice')">
            <option value="immediate">Immediate</option>
            <option value="5days">5 Business Days</option>
            <option value="10days" selected>10 Business Days</option>
            <option value="15days">15 Business Days</option>
            <option value="30days">30 Days</option>
          </select>
        </div>
        
        <!-- Additional Options -->
        <div class="section-header">Additional Options</div>
        
        <div class="form-group">
          <label class="form-label" for="fm_alternativeSupplier">
            Alternative Supplier Provision
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Determines whether and how the buyer can source from alternative suppliers during force majeure. This is critical for maintaining supply chain continuity.</span>
            </span>
          </label>
          <select id="fm_alternativeSupplier" class="form-select" onchange="forceMajeureGenerator.updatePreview('alternativeSupplier')">
            <option value="none">No Provision</option>
            <option value="temporary" selected>Temporary Alternative Sourcing</option>
            <option value="permanent">Permanent Alternative Sourcing</option>
          </select>
          <div class="form-hint">Rights to source from alternative suppliers</div>
        </div>
        
        <div class="form-group">
          <label class="form-label" for="fm_resumptionClause">
            Resumption of Performance
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Specifies how quickly performance must resume once the force majeure event ends. Balances operational flexibility with certainty of supply.</span>
            </span>
          </label>
          <select id="fm_resumptionClause" class="form-select" onchange="forceMajeureGenerator.updatePreview('resumptionClause')">
            <option value="immediate" selected>Immediate upon Event End</option>
            <option value="reasonable">Within Reasonable Time</option>
            <option value="specified">Within Specified Period</option>
            <option value="negotiated">Subject to Negotiation</option>
          </select>
        </div>
        
        <div class="form-group">
          <label class="form-label">
            Payment Obligations During Force Majeure
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Determines whether payment obligations continue during force majeure events. This is a critical financial risk allocation provision.</span>
            </span>
          </label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="fm_paymentObligations" id="fm_paymentSuspended" value="suspended" checked onclick="forceMajeureGenerator.updatePreview('paymentObligations')">
              <span class="radio-label">
                Suspended
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">All payment obligations are paused during the force majeure event. Favors buyers.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="fm_paymentObligations" id="fm_paymentPartial" value="partial" onclick="forceMajeureGenerator.updatePreview('paymentObligations')">
              <span class="radio-label">
                Partially Suspended
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Payments are reduced proportionally to the level of performance that remains possible. A balanced approach.</span>
                </span>
              </span>
            </label>
            <label class="radio-item">
              <input type="radio" name="fm_paymentObligations" id="fm_paymentContinue" value="continue" onclick="forceMajeureGenerator.updatePreview('paymentObligations')">
              <span class="radio-label">
                Continue
                <span class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Payment obligations remain in effect for goods/services actually delivered. Favors sellers/suppliers.</span>
                </span>
              </span>
            </label>
          </div>
        </div>
      </div>
      
      <!-- Preview Column -->
      <div class="preview-column">
        <div class="preview-header">
          <div class="preview-title">Force Majeure Clause Preview</div>
          <div class="preview-note">Updates as you complete the form</div>
        </div>
        
        <div class="preview-content" id="fm_preview">
          <!-- Preview content will be populated by JavaScript -->
        </div>
        
        <div class="button-container">
          <button id="fm_copyBtn" class="copy-btn" onclick="forceMajeureGenerator.handleCopyClick()">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="copy-icon">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            COPY CLAUSE
          </button>
          <button id="fm_msWordBtn" class="copy-btn" onclick="forceMajeureGenerator.generateWordDoc()">MS WORD DOC</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Create a namespace to avoid global scope pollution in WordPress
    var forceMajeureGenerator = {
      // Initialize the generator
      init: function() {
        this.updatePreview();
      },
      
      // Generate clause text
      generateClause: function() {
        const agreementType = document.getElementById('fm_agreementType').value;
        const agreementTypeText = document.getElementById('fm_agreementType').options[document.getElementById('fm_agreementType').selectedIndex].text;
        const sellerName = document.getElementById('fm_sellerName').value;
        const buyerName = document.getElementById('fm_buyerName').value;
        
        // Get tariff-related triggers
        const triggerTariffIncrease = document.getElementById('fm_triggerTariffIncrease').checked;
        const triggerImportBan = document.getElementById('fm_triggerImportBan').checked;
        const triggerTradeRestrictions = document.getElementById('fm_triggerTradeRestrictions').checked;
        const triggerTradeSanctions = document.getElementById('fm_triggerTradeSanctions').checked;
        const triggerQuotas = document.getElementById('fm_triggerQuotas').checked;
        const tariffThreshold = document.getElementById('fm_tariffThreshold').value;
        
        // Get standard force majeure triggers
        const triggerNaturalDisaster = document.getElementById('fm_triggerNaturalDisaster').checked;
        const triggerWar = document.getElementById('fm_triggerWar').checked;
        const triggerPandemic = document.getElementById('fm_triggerPandemic').checked;
        const triggerGovernmentAction = document.getElementById('fm_triggerGovernmentAction').checked;
        const triggerLabor = document.getElementById('fm_triggerLabor').checked;
        
        // Get notice and mitigation settings
        const noticePeriod = document.getElementById('fm_noticePeriod').value;
        const documentationRequired = document.getElementById('fm_documentationRequired').value;
        
        // Get selected mitigation level
        let mitigationLevel = '';
        const mitigationRadios = document.getElementsByName('fm_mitigationLevel');
        for (let i = 0; i < mitigationRadios.length; i++) {
          if (mitigationRadios[i].checked) {
            mitigationLevel = mitigationRadios[i].value;
            break;
          }
        }
        
        // Get suspension and termination settings
        const suspensionPeriod = document.getElementById('fm_suspensionPeriod').value;
        const terminationRights = document.getElementById('fm_terminationRights').value;
        const terminationNotice = document.getElementById('fm_terminationNotice').value;
        
        // Get additional options
        const alternativeSupplier = document.getElementById('fm_alternativeSupplier').value;
        const resumptionClause = document.getElementById('fm_resumptionClause').value;
        
        // Get payment obligations
        let paymentObligations = '';
        const paymentRadios = document.getElementsByName('fm_paymentObligations');
        for (let i = 0; i < paymentRadios.length; i++) {
          if (paymentRadios[i].checked) {
            paymentObligations = paymentRadios[i].value;
            break;
          }
        }
        
        // Build clause title
        let clauseTitle = 'FORCE MAJEURE - TARIFF AND TRADE DISRUPTIONS';
        
        // Build force majeure events language
        const tariffEvents = [];
        const standardEvents = [];
        
        if (triggerTariffIncrease) tariffEvents.push(`a substantial increase (defined as ${tariffThreshold} or more) in applicable tariffs, duties, or similar charges`);
        if (triggerImportBan) tariffEvents.push("import or export bans affecting the products or materials necessary for performance");
        if (triggerTradeRestrictions) tariffEvents.push("new trade restrictions imposed by governmental authorities");
        if (triggerTradeSanctions) tariffEvents.push("trade sanctions affecting the supply chain");
        if (triggerQuotas) tariffEvents.push("new or reduced import or export quotas");
        
        if (triggerNaturalDisaster) standardEvents.push("natural disasters");
        if (triggerWar) standardEvents.push("war, invasion, civil unrest, or military actions");
        if (triggerPandemic) standardEvents.push("epidemics, pandemics, or quarantines");
        if (triggerGovernmentAction) standardEvents.push("acts of government or public authorities");
        if (triggerLabor) standardEvents.push("labor disputes, strikes, or lockouts");
        
        // Format tariff events
        let tariffEventsLanguage = '';
        if (tariffEvents.length === 1) {
          tariffEventsLanguage = tariffEvents[0];
        } else if (tariffEvents.length === 2) {
          tariffEventsLanguage = tariffEvents.join(" or ");
        } else if (tariffEvents.length > 2) {
          const lastEvent = tariffEvents.pop();
          tariffEventsLanguage = tariffEvents.join(", ") + ", or " + lastEvent;
        }
        
        // Format standard events
        let standardEventsLanguage = '';
        if (standardEvents.length === 1) {
          standardEventsLanguage = standardEvents[0];
        } else if (standardEvents.length === 2) {
          standardEventsLanguage = standardEvents.join(" or ");
        } else if (standardEvents.length > 2) {
          const lastEvent = standardEvents.pop();
          standardEventsLanguage = standardEvents.join(", ") + ", or " + lastEvent;
        }
        
        // Build force majeure events combined language
        let eventsLanguage = '';
        if (tariffEvents.length > 0 && standardEvents.length > 0) {
          eventsLanguage = tariffEventsLanguage + ", as well as " + standardEventsLanguage;
        } else if (tariffEvents.length > 0) {
          eventsLanguage = tariffEventsLanguage;
        } else if (standardEvents.length > 0) {
          eventsLanguage = standardEventsLanguage;
        } else {
          eventsLanguage = "any event beyond the reasonable control of the affected party";
        }
        
        // Build notice period language
        let noticeLanguage = '';
        switch (noticePeriod) {
          case 'immediate':
            noticeLanguage = "immediately";
            break;
          case '24hours':
            noticeLanguage = "within twenty-four (24) hours";
            break;
          case '48hours':
            noticeLanguage = "within forty-eight (48) hours";
            break;
          case '3days':
            noticeLanguage = "within three (3) business days";
            break;
          case '5days':
            noticeLanguage = "within five (5) business days";
            break;
          case '10days':
            noticeLanguage = "within ten (10) business days";
            break;
        }
        
        // Build documentation language
        let documentationLanguage = '';
        switch (documentationRequired) {
          case 'minimal':
            documentationLanguage = "provide basic written notification of the nature of the force majeure event";
            break;
          case 'standard':
            documentationLanguage = "provide written explanation of the nature, expected duration, and anticipated impact of the force majeure event";
            break;
          case 'comprehensive':
            documentationLanguage = "provide comprehensive documentation including: (i) detailed description of the force majeure event; (ii) evidence supporting the occurrence of such event; (iii) explanation of why performance is prevented or delayed; (iv) estimated duration of the event; and (v) mitigation measures being implemented";
            break;
        }
        
        // Build mitigation language
        let mitigationLanguage = '';
        switch (mitigationLevel) {
          case 'standard':
            mitigationLanguage = "take reasonable steps to mitigate the effects of the force majeure event and resume performance";
            break;
          case 'reasonable':
            mitigationLanguage = "use reasonable efforts to mitigate the effects of the force majeure event and resume performance";
            break;
          case 'best':
            mitigationLanguage = "use best efforts to mitigate the effects of the force majeure event and resume performance";
            break;
        }
        
        // Build suspension period language
        let suspensionLanguage = '';
        switch (suspensionPeriod) {
          case '30days':
            suspensionLanguage = "thirty (30) days";
            break;
          case '60days':
            suspensionLanguage = "sixty (60) days";
            break;
          case '90days':
            suspensionLanguage = "ninety (90) days";
            break;
          case '120days':
            suspensionLanguage = "one hundred twenty (120) days";
            break;
          case '180days':
            suspensionLanguage = "one hundred eighty (180) days";
            break;
          case 'indefinite':
            suspensionLanguage = "the duration of the force majeure event";
            break;
        }
        
        // Build termination rights language
        let terminationRightsLanguage = '';
        switch (terminationRights) {
          case 'either':
            terminationRightsLanguage = "either party";
            break;
          case 'affected':
            terminationRightsLanguage = "the affected party";
            break;
          case 'unaffected':
            terminationRightsLanguage = "the unaffected party";
            break;
          case 'mutual':
            terminationRightsLanguage = "both parties upon mutual written agreement";
            break;
        }
        
        // Build termination notice language
        let terminationNoticeLanguage = '';
        switch (terminationNotice) {
          case 'immediate':
            terminationNoticeLanguage = "immediately";
            break;
          case '5days':
            terminationNoticeLanguage = "five (5) business days'";
            break;
          case '10days':
            terminationNoticeLanguage = "ten (10) business days'";
            break;
          case '15days':
            terminationNoticeLanguage = "fifteen (15) business days'";
            break;
          case '30days':
            terminationNoticeLanguage = "thirty (30) days'";
            break;
        }
        
        // Build alternative supplier language
        let alternativeSupplierLanguage = '';
        switch (alternativeSupplier) {
          case 'none':
            alternativeSupplierLanguage = "";
            break;
          case 'temporary':
            alternativeSupplierLanguage = `<p>f) <u>Alternative Sourcing</u>. If ${sellerName}'s performance is prevented or delayed by a force majeure event for more than fifteen (15) consecutive days, ${buyerName} may temporarily source the affected products or materials from alternative suppliers. Once ${sellerName} resumes performance, ${buyerName} shall resume purchasing from ${sellerName} within a commercially reasonable transition period.</p>`;
            break;
          case 'permanent':
            alternativeSupplierLanguage = `<p>f) <u>Alternative Sourcing</u>. If ${sellerName}'s performance is prevented or delayed by a force majeure event for more than thirty (30) consecutive days, ${buyerName} may permanently source the affected products or materials from alternative suppliers without liability to ${sellerName}.</p>`;
            break;
        }
        
        // Build resumption language
        let resumptionLanguage = '';
        switch (resumptionClause) {
          case 'immediate':
            resumptionLanguage = "immediately upon cessation of the force majeure event";
            break;
          case 'reasonable':
            resumptionLanguage = "within a reasonable time after cessation of the force majeure event";
            break;
          case 'specified':
            resumptionLanguage = "within ten (10) business days after cessation of the force majeure event";
            break;
          case 'negotiated':
            resumptionLanguage = "as soon as possible after cessation of the force majeure event, with the specific timing to be negotiated by the parties in good faith";
            break;
        }
        
        // Build payment obligations language
        let paymentLanguage = '';
        switch (paymentObligations) {
          case 'suspended':
            paymentLanguage = `<p>${alternativeSupplier === 'none' ? 'f' : 'g'}) <u>Payment Obligations</u>. During a force majeure event, all payment obligations related to the affected performance shall be suspended until performance resumes.</p>`;
            break;
          case 'partial':
            paymentLanguage = `<p>${alternativeSupplier === 'none' ? 'f' : 'g'}) <u>Payment Obligations</u>. During a force majeure event, payment obligations shall be partially suspended in proportion to the degree of non-performance. The parties shall negotiate in good faith to determine the appropriate payment adjustment.</p>`;
            break;
          case 'continue':
            paymentLanguage = `<p>${alternativeSupplier === 'none' ? 'f' : 'g'}) <u>Payment Obligations</u>. Payment obligations for services or goods actually delivered shall continue notwithstanding any force majeure event.</p>`;
            break;
        }
        
        // Build the complete clause
        let clause = `
<p><strong>${clauseTitle}</strong></p>

<p>a) <u>Definition of Force Majeure</u>. Neither party shall be considered in breach of this ${agreementTypeText} or liable for any delay or failure to perform its obligations, if and to the extent that such delay or failure is caused by or results from acts beyond the reasonable control of the affected party, including ${eventsLanguage} (each, a "Force Majeure Event").</p>

<p>b) <u>Notice</u>. The party affected by a Force Majeure Event shall notify the other party ${noticeLanguage} after becoming aware of the Force Majeure Event. The affected party shall ${documentationLanguage}.</p>

<p>c) <u>Mitigation</u>. The party affected by a Force Majeure Event shall ${mitigationLanguage}. The affected party shall provide regular updates to the other party regarding the status of the Force Majeure Event and efforts to resume performance.</p>

<p>d) <u>Suspension of Performance</u>. Performance obligations under this ${agreementTypeText} (other than payment obligations for performance already rendered) shall be suspended during the Force Majeure Event. If the Force Majeure Event continues for more than ${suspensionLanguage}, then ${terminationRightsLanguage} may terminate this ${agreementTypeText} with respect to the affected obligations by providing ${terminationNoticeLanguage} written notice to the other party.</p>

<p>e) <u>Resumption of Performance</u>. The affected party shall resume performance of its obligations ${resumptionLanguage}. The affected party shall notify the other party promptly when the Force Majeure Event has ended and when performance will resume.</p>
`;

        // Add alternative supplier paragraph if included
        if (alternativeSupplier !== 'none') {
          clause += alternativeSupplierLanguage;
        }

        // Add payment obligations paragraph
        clause += paymentLanguage;

        return clause;
      },
      
      // Update the preview
      updatePreview: function(changedField) {
        // Clear previous highlights
        this.clearHighlights();
        
        // Generate new clause text
        const clauseText = this.generateClause();
        
        // Update preview
        document.getElementById('fm_preview').innerHTML = clauseText;
        
        // If a field was changed, highlight the relevant text
        if (changedField) {
          this.highlightChangedText(changedField);
        }
      },
      
      // Clear highlights
      clearHighlights: function() {
        const highlightElements = document.getElementsByClassName('highlight');
        while (highlightElements.length > 0) {
          const element = highlightElements[0];
          const text = element.textContent;
          const textNode = document.createTextNode(text);
          element.parentNode.replaceChild(textNode, element);
        }
      },
      
      // Find text in document and highlight it
      findAndHighlightText: function(searchText) {
        if (!searchText) return;
        
        const previewElement = document.getElementById('fm_preview');
        const previewHTML = previewElement.innerHTML;
        
        // A simpler approach for WordPress compatibility
        if (previewHTML.indexOf(searchText) >= 0) {
          const newHTML = previewHTML.replace(
            new RegExp(this.escapeRegExp(searchText), 'g'),
            '<span class="highlight">' + searchText + '</span>'
          );
          
          previewElement.innerHTML = newHTML;
          
          // Try to scroll to the highlighted element
          setTimeout(function() {
            const highlightElements = document.getElementsByClassName('highlight');
            if (highlightElements.length > 0) {
              const firstHighlight = highlightElements[0];
              if (firstHighlight) {
                firstHighlight.scrollIntoView({behavior: 'smooth', block: 'center'});
              }
            }
          }, 100);
        }
      },
      
      // Escape special regex characters
      escapeRegExp: function(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      },
      
      // Highlight changed text based on field
      highlightChangedText: function(changedField) {
        const self = this;
        
        switch (changedField) {
          case 'agreementType':
            // Highlight the agreement type text
            const agreementTypeElement = document.getElementById('fm_agreementType');
            const agreementTypeText = agreementTypeElement.options[agreementTypeElement.selectedIndex].text;
            this.findAndHighlightText(agreementTypeText);
            break;
          case 'sellerName':
            this.findAndHighlightText(document.getElementById('fm_sellerName').value);
            break;
          case 'buyerName':
            this.findAndHighlightText(document.getElementById('fm_buyerName').value);
            break;
          case 'triggerTariffIncrease':
            if (document.getElementById('fm_triggerTariffIncrease').checked) {
              this.findAndHighlightText(`a substantial increase (defined as ${document.getElementById('fm_tariffThreshold').value} or more) in applicable tariffs`);
            }
            break;
          case 'tariffThreshold':
            this.findAndHighlightText(document.getElementById('fm_tariffThreshold').value);
            break;
          case 'triggerImportBan':
            if (document.getElementById('fm_triggerImportBan').checked) {
              this.findAndHighlightText("import or export bans");
            }
            break;
          case 'triggerTradeRestrictions':
            if (document.getElementById('fm_triggerTradeRestrictions').checked) {
              this.findAndHighlightText("new trade restrictions");
            }
            break;
          case 'triggerTradeSanctions':
            if (document.getElementById('fm_triggerTradeSanctions').checked) {
              this.findAndHighlightText("trade sanctions");
            }
            break;
          case 'triggerQuotas':
            if (document.getElementById('fm_triggerQuotas').checked) {
              this.findAndHighlightText("import or export quotas");
            }
            break;
          case 'triggerNaturalDisaster':
            if (document.getElementById('fm_triggerNaturalDisaster').checked) {
              this.findAndHighlightText("natural disasters");
            }
            break;
          case 'triggerWar':
            if (document.getElementById('fm_triggerWar').checked) {
              this.findAndHighlightText("war, invasion, civil unrest, or military actions");
            }
            break;
          case 'triggerPandemic':
            if (document.getElementById('fm_triggerPandemic').checked) {
              this.findAndHighlightText("epidemics, pandemics, or quarantines");
            }
            break;
          case 'triggerGovernmentAction':
            if (document.getElementById('fm_triggerGovernmentAction').checked) {
              this.findAndHighlightText("acts of government or public authorities");
            }
            break;
          case 'triggerLabor':
            if (document.getElementById('fm_triggerLabor').checked) {
              this.findAndHighlightText("labor disputes, strikes, or lockouts");
            }
            break;
          case 'noticePeriod':
            const noticePeriodValue = document.getElementById('fm_noticePeriod').value;
            if (noticePeriodValue === 'immediate') {
              this.findAndHighlightText("immediately");
            } else if (noticePeriodValue === '24hours') {
              this.findAndHighlightText("twenty-four (24) hours");
            } else if (noticePeriodValue === '48hours') {
              this.findAndHighlightText("forty-eight (48) hours");
            } else if (noticePeriodValue === '3days') {
              this.findAndHighlightText("three (3) business days");
            } else if (noticePeriodValue === '5days') {
              this.findAndHighlightText("five (5) business days");
            } else if (noticePeriodValue === '10days') {
              this.findAndHighlightText("ten (10) business days");
            }
            break;
          case 'documentationRequired':
            const docRequired = document.getElementById('fm_documentationRequired').value;
            if (docRequired === 'minimal') {
              this.findAndHighlightText("basic written notification");
            } else if (docRequired === 'standard') {
              this.findAndHighlightText("written explanation");
            } else if (docRequired === 'comprehensive') {
              this.findAndHighlightText("comprehensive documentation");
            }
            break;
          case 'mitigationLevel':
            const mitigationLevelValue = document.querySelector('input[name="fm_mitigationLevel"]:checked').value;
            if (mitigationLevelValue === 'standard') {
              this.findAndHighlightText("take reasonable steps");
            } else if (mitigationLevelValue === 'reasonable') {
              this.findAndHighlightText("use reasonable efforts");
            } else if (mitigationLevelValue === 'best') {
              this.findAndHighlightText("use best efforts");
            }
            break;
          case 'suspensionPeriod':
            const suspensionValue = document.getElementById('fm_suspensionPeriod').value;
            if (suspensionValue === '30days') {
              this.findAndHighlightText("thirty (30) days");
            } else if (suspensionValue === '60days') {
              this.findAndHighlightText("sixty (60) days");
            } else if (suspensionValue === '90days') {
              this.findAndHighlightText("ninety (90) days");
            } else if (suspensionValue === '120days') {
              this.findAndHighlightText("one hundred twenty (120) days");
            } else if (suspensionValue === '180days') {
              this.findAndHighlightText("one hundred eighty (180) days");
            } else if (suspensionValue === 'indefinite') {
              this.findAndHighlightText("the duration of the force majeure event");
            }
            break;
          case 'terminationRights':
            const terminationRightsValue = document.getElementById('fm_terminationRights').value;
            if (terminationRightsValue === 'either') {
              this.findAndHighlightText("either party");
            } else if (terminationRightsValue === 'affected') {
              this.findAndHighlightText("the affected party");
            } else if (terminationRightsValue === 'unaffected') {
              this.findAndHighlightText("the unaffected party");
            } else if (terminationRightsValue === 'mutual') {
              this.findAndHighlightText("both parties upon mutual written agreement");
            }
            break;
          case 'terminationNotice':
            const terminationNoticeValue = document.getElementById('fm_terminationNotice').value;
            if (terminationNoticeValue === 'immediate') {
              this.findAndHighlightText("immediately");
            } else if (terminationNoticeValue === '5days') {
              this.findAndHighlightText("five (5) business days'");
            } else if (terminationNoticeValue === '10days') {
              this.findAndHighlightText("ten (10) business days'");
            } else if (terminationNoticeValue === '15days') {
              this.findAndHighlightText("fifteen (15) business days'");
            } else if (terminationNoticeValue === '30days') {
              this.findAndHighlightText("thirty (30) days'");
            }
            break;
          case 'alternativeSupplier':
            const alternativeSupplierValue = document.getElementById('fm_alternativeSupplier').value;
            if (alternativeSupplierValue === 'temporary') {
              this.findAndHighlightText("temporarily source the affected products");
            } else if (alternativeSupplierValue === 'permanent') {
              this.findAndHighlightText("permanently source the affected products");
            }
            break;
          case 'resumptionClause':
            const resumptionValue = document.getElementById('fm_resumptionClause').value;
            if (resumptionValue === 'immediate') {
              this.findAndHighlightText("immediately upon cessation");
            } else if (resumptionValue === 'reasonable') {
              this.findAndHighlightText("within a reasonable time");
            } else if (resumptionValue === 'specified') {
              this.findAndHighlightText("within ten (10) business days");
            } else if (resumptionValue === 'negotiated') {
              this.findAndHighlightText("as soon as possible");
            }
            break;
          case 'paymentObligations':
            const paymentValue = document.querySelector('input[name="fm_paymentObligations"]:checked').value;
            if (paymentValue === 'suspended') {
              this.findAndHighlightText("all payment obligations related to the affected performance shall be suspended");
            } else if (paymentValue === 'partial') {
              this.findAndHighlightText("payment obligations shall be partially suspended");
            } else if (paymentValue === 'continue') {
              this.findAndHighlightText("Payment obligations for services or goods actually delivered shall continue");
            }
            break;
        }
        
        // Remove highlights after 3 seconds
        setTimeout(function() {
          self.clearHighlights();
        }, 3000);
      },
      
      // Adjust spinner input value
      adjustSpinnerValue: function(inputId, change) {
        const input = document.getElementById(inputId);
        let currentValue = input.value.replace('%','').trim();
        let num = parseFloat(currentValue);
        if (isNaN(num)) { num = 0; }
        num = num + change;
        input.value = num + '%';
        
        // Extract field name for highlight
        const fieldName = inputId.split('_')[1];
        this.updatePreview(fieldName);
      },
      
      // Generate MS Word document
      generateWordDoc: function() {
        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' " +
                     "xmlns:w='urn:schemas-microsoft-com:office:word' " +
                     "xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Word Document</title></head><body>";
        const footer = "</body></html>";
        const content = document.getElementById('fm_preview').innerHTML;
        const sourceHTML = header + content + footer;
        const source = 'data:application/vnd.ms-word;charset=utf-8,' + encodeURIComponent(sourceHTML);
        
        // Create a download link and trigger it
        const fileDownload = document.createElement("a");
        document.body.appendChild(fileDownload);
        fileDownload.href = source;
        fileDownload.download = 'ForceMajeureClause.doc';
        fileDownload.click();
        document.body.removeChild(fileDownload);
      },
      
      // Handle copy button click
      handleCopyClick: function() {
        const text = document.getElementById('fm_preview').innerText;
        const copyBtn = document.getElementById('fm_copyBtn');
        const originalText = copyBtn.innerHTML;
        
        try {
          // Modern approach
          if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(function() {
              copyBtn.innerHTML = 'COPIED!';
              setTimeout(function() {
                copyBtn.innerHTML = originalText;
              }, 2000);
            });
          } 
          // Fallback approach
          else {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            copyBtn.innerHTML = 'COPIED!';
            setTimeout(function() {
              copyBtn.innerHTML = originalText;
            }, 2000);
          }
        } catch(err) {
          alert('Please select and copy the text manually.');
        }
      }
    };
    
    // Start the generator when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      forceMajeureGenerator.init();
    });
    
    // Initialize immediately as well (for WordPress)
    forceMajeureGenerator.init();
  </script>
</body>
</html>

<div class="preview-fade" id="force-majeure-fade"></div>


    </div>
    


<div id="addendum-tab" class="tools-tab-content">
  <!-- Addendum Generator Will Be Here -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Agreement Addendum Generator for Tariff Clauses</title>
  <style>
    /* Help tooltip styles */
    .help-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: #4a6da7;
      color: white;
      font-size: 10px;
      font-weight: bold;
      margin-left: 5px;
      cursor: pointer;
      vertical-align: middle;
      transition: background-color 0.2s;
    }
      
    .help-icon:hover {
      background-color: #2c3e50;
    }
      
    .tooltip {
      position: relative;
      display: inline-block;
    }
      
    .tooltip-text {
      visibility: hidden;
      width: 250px;
      background-color: #2c3e50;
      color: #fff;
      text-align: left;
      border-radius: 6px;
      padding: 8px 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 12px;
      line-height: 1.4;
      pointer-events: none;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
      
    .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #2c3e50 transparent transparent transparent;
    }
      
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="clause-generator" id="addendum-generator">
    <div class="generator-container">
      <!-- Form Column -->
      <div class="form-column">
        <!-- Addendum Information -->
        <div class="section-header">Addendum Information</div>
            
        <div class="form-group">
          <label class="form-label" for="add_effectiveDate">
            Effective Date
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">The date when this addendum will take effect. Usually the same date as when the addendum is signed.</span>
            </span>
          </label>
          <input type="date" id="add_effectiveDate" class="form-input" onchange="addendumGenerator.updatePreview('effectiveDate')">
        </div>
            
        <div class="form-group">
          <label class="form-label" for="add_originalAgreementName">
            Original Agreement Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the exact name of the original agreement that's being amended, e.g., "Supply Agreement" or "Master Services Agreement".</span>
            </span>
          </label>
          <input type="text" id="add_originalAgreementName" class="form-input" value="Supply Agreement" placeholder="Enter name of original agreement" onkeyup="addendumGenerator.updatePreview('originalAgreementName')">
        </div>
            
        <div class="form-group">
          <label class="form-label" for="add_originalAgreementDate">
            Original Agreement Date
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter the effective date of the original agreement being amended.</span>
            </span>
          </label>
          <input type="date" id="add_originalAgreementDate" class="form-input" onchange="addendumGenerator.updatePreview('originalAgreementDate')">
        </div>
            
        <div class="form-group">
          <label class="form-label" for="add_sellerName">
            Seller/Supplier Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">The legal name of the party providing goods or services.</span>
            </span>
          </label>
          <input type="text" id="add_sellerName" class="form-input" value="ABC Manufacturing, Inc." placeholder="Enter name of seller/supplier" onkeyup="addendumGenerator.updatePreview('sellerName')">
        </div>
            
        <div class="form-group">
          <label class="form-label" for="add_buyerName">
            Buyer/Customer Name
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">The legal name of the party receiving goods or services.</span>
            </span>
          </label>
          <input type="text" id="add_buyerName" class="form-input" value="XYZ Products, LLC" placeholder="Enter name of buyer/customer" onkeyup="addendumGenerator.updatePreview('buyerName')">
        </div>
            
        <!-- Clauses to Include -->
        <div class="section-header">Clauses to Include</div>
            
        <div class="form-group">
          <label class="checkbox-item">
            <input type="checkbox" id="add_includeIndemnity" checked onclick="addendumGenerator.updatePreview('includeIndemnity')">
            <span class="checkbox-label">
              Include Tariff Indemnity Clause
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Include the tariff indemnity clause as configured in the Indemnity tab.</span>
              </span>
            </span>
          </label>
        </div>
            
        <div class="form-group">
          <label class="checkbox-item">
            <input type="checkbox" id="add_includePriceAdj" checked onclick="addendumGenerator.updatePreview('includePriceAdj')">
            <span class="checkbox-label">
              Include Price Adjustment Clause
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Include the price adjustment clause as configured in the Price Adjustment tab.</span>
              </span>
            </span>
          </label>
        </div>
            
        <div class="form-group">
          <label class="checkbox-item">
            <input type="checkbox" id="add_includeForceMajeure" checked onclick="addendumGenerator.updatePreview('includeForceMajeure')">
            <span class="checkbox-label">
              Include Force Majeure Clause
              <span class="tooltip">
                <span class="help-icon">?</span>
                <span class="tooltip-text">Include the force majeure clause as configured in the Force Majeure tab.</span>
              </span>
            </span>
          </label>
        </div>
          
        <!-- Additional Options -->
        <div class="section-header">Additional Options</div>
            
        <div class="form-group">
          <label class="form-label" for="add_addendumNumber">
            Addendum Number
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Optional sequential number if this is one of multiple addenda to the original agreement.</span>
            </span>
          </label>
          <input type="text" id="add_addendumNumber" class="form-input" value="1" placeholder="Enter addendum number (optional)" onkeyup="addendumGenerator.updatePreview('addendumNumber')">
        </div>
          
        <div class="form-group">
          <label class="form-label" for="add_counterpartsClause">
            Counterparts Clause
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Include language allowing this addendum to be signed in multiple copies or electronically.</span>
            </span>
          </label>
          <select id="add_counterpartsClause" class="form-select" onchange="addendumGenerator.updatePreview('counterpartsClause')">
            <option value="none">None</option>
            <option value="basic" selected>Basic Counterparts</option>
            <option value="electronic">Electronic Signatures</option>
          </select>
        </div>
          
        <div class="form-group">
          <label class="form-label" for="add_governingLaw">
            Include Governing Law
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Include a statement confirming the governing law from the original agreement.</span>
            </span>
          </label>
          <select id="add_governingLaw" class="form-select" onchange="addendumGenerator.updatePreview('governingLaw')">
            <option value="no">No</option>
            <option value="yes" selected>Yes</option>
          </select>
        </div>
          
        <div class="form-group" id="add_governingLawStateGroup">
          <label class="form-label" for="add_governingLawState">
            Governing Law State
            <span class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">The state whose law governs the agreement.</span>
            </span>
          </label>
          <input type="text" id="add_governingLawState" class="form-input" value="California" placeholder="Enter state" onkeyup="addendumGenerator.updatePreview('governingLawState')">
        </div>
      </div>
          
      <!-- Preview Column -->
      <div class="preview-column">
        <div class="preview-header">
          <div class="preview-title">Addendum Preview</div>
          <div class="preview-note">Updates as you complete the form</div>
        </div>
            
        <div class="preview-content" id="add_preview">
          <!-- Preview content will be populated by JavaScript -->
        </div>
            
        <div class="button-container">
          <button id="add_copyBtn" class="copy-btn" onclick="addendumGenerator.handleCopyClick()">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="copy-icon">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            COPY ADDENDUM
          </button>
          <button id="add_msWordBtn" class="copy-btn" onclick="addendumGenerator.generateWordDoc()">MS WORD DOC</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Create a namespace to avoid global scope pollution in WordPress
    var addendumGenerator = {
      // Initialize the generator
      init: function() {
        // Set current date as default for effective date
        const today = new Date();
        const formattedDate = today.toISOString().substring(0, 10);
        document.getElementById('add_effectiveDate').value = formattedDate;
          
        // Set a default date for original agreement (1 year ago)
        const lastYear = new Date();
        lastYear.setFullYear(lastYear.getFullYear() - 1);
        const formattedLastYear = lastYear.toISOString().substring(0, 10);
        document.getElementById('add_originalAgreementDate').value = formattedLastYear;
          
        // Handle governing law state visibility
        this.handleGoverningLawChange();
          
        // Import data from all tabs initially
        this.importFromAllTabs();
          
        // Generate the initial preview
        this.updatePreview();
      },
        
      // Import data from all three tabs
      importFromAllTabs: function() {
        try {
          // Import from Indemnity tab
          if (window.tariffIndemnityGenerator) {
            // Get seller name
            const sellerNameElement = document.getElementById('sellerName');
            if (sellerNameElement && sellerNameElement.value) {
              document.getElementById('add_sellerName').value = sellerNameElement.value;
            }
              
            // Get buyer name
            const buyerNameElement = document.getElementById('buyerName');
            if (buyerNameElement && buyerNameElement.value) {
              document.getElementById('add_buyerName').value = buyerNameElement.value;
            }
          }
            
          // Import from Price Adjustment tab
          if (window.priceAdjustmentGenerator) {
            // Get seller name (if not already set)
            const paSellerNameElement = document.getElementById('pa_sellerName');
            if (paSellerNameElement && paSellerNameElement.value && !document.getElementById('add_sellerName').value) {
              document.getElementById('add_sellerName').value = paSellerNameElement.value;
            }
              
            // Get buyer name (if not already set)
            const paBuyerNameElement = document.getElementById('pa_buyerName');
            if (paBuyerNameElement && paBuyerNameElement.value && !document.getElementById('add_buyerName').value) {
              document.getElementById('add_buyerName').value = paBuyerNameElement.value;
            }
          }
            
          // Import from Force Majeure tab
          if (window.forceMajeureGenerator) {
            // Get seller name (if not already set)
            const fmSellerNameElement = document.getElementById('fm_sellerName');
            if (fmSellerNameElement && fmSellerNameElement.value && !document.getElementById('add_sellerName').value) {
              document.getElementById('add_sellerName').value = fmSellerNameElement.value;
            }
              
            // Get buyer name (if not already set)
            const fmBuyerNameElement = document.getElementById('fm_buyerName');
            if (fmBuyerNameElement && fmBuyerNameElement.value && !document.getElementById('add_buyerName').value) {
              document.getElementById('add_buyerName').value = fmBuyerNameElement.value;
            }
          }
            
          console.log('Data imported from all tabs successfully');
        } catch (e) {
          console.error('Error importing settings from all tabs:', e);
        }
      },
        
      // Handle governing law selection change
      handleGoverningLawChange: function() {
        const governingLaw = document.getElementById('add_governingLaw').value;
        document.getElementById('add_governingLawStateGroup').style.display = 
          governingLaw === 'yes' ? 'block' : 'none';
        this.updatePreview('governingLaw');
      },
        
      // Get indemnity clause text
      getIndemnityClause: function() {
        if (window.tariffIndemnityGenerator && typeof window.tariffIndemnityGenerator.generateClause === 'function') {
          return window.tariffIndemnityGenerator.generateClause();
        }
        return '<p><em>Please configure the Tariff Indemnity clause in the Indemnity tab.</em></p>';
      },
        
      // Get price adjustment clause text
      getPriceAdjustmentClause: function() {
        if (window.priceAdjustmentGenerator && typeof window.priceAdjustmentGenerator.generateClause === 'function') {
          return window.priceAdjustmentGenerator.generateClause();
        }
        return '<p><em>Please configure the Price Adjustment clause in the Price Adjustment tab.</em></p>';
      },
        
      // Get force majeure clause text
      getForceMajeureClause: function() {
        if (window.forceMajeureGenerator && typeof window.forceMajeureGenerator.generateClause === 'function') {
          return window.forceMajeureGenerator.generateClause();
        }
        return '<p><em>Please configure the Force Majeure clause in the Force Majeure tab.</em></p>';
      },
        
      // Format date for display
      formatDate: function(dateStr) {
        if (!dateStr) return '';
        const date = new Date(dateStr);
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return date.toLocaleDateString('en-US', options);
      },
        
      // Generate addendum text
      generateAddendum: function() {
        // Import latest data from all tabs first
        this.importFromAllTabs();
          
        const addendumNumber = document.getElementById('add_addendumNumber').value.trim();
        const effectiveDate = this.formatDate(document.getElementById('add_effectiveDate').value);
        const originalAgreementName = document.getElementById('add_originalAgreementName').value;
        const originalAgreementDate = this.formatDate(document.getElementById('add_originalAgreementDate').value);
        const sellerName = document.getElementById('add_sellerName').value;
        const buyerName = document.getElementById('add_buyerName').value;
          
        const includeIndemnity = document.getElementById('add_includeIndemnity').checked;
        const includePriceAdj = document.getElementById('add_includePriceAdj').checked;
        const includeForceMajeure = document.getElementById('add_includeForceMajeure').checked;
          
        const counterpartsClause = document.getElementById('add_counterpartsClause').value;
        const governingLaw = document.getElementById('add_governingLaw').value;
        const governingLawState = document.getElementById('add_governingLawState').value;
          
        // Build addendum title
        let title = 'ADDENDUM';
        if (addendumNumber) {
          title += ` NO. ${addendumNumber}`;
        }
        title += ` TO ${originalAgreementName.toUpperCase()}`;
        
        // Build addendum text with 11pt font size
        let addendum = `
<div style="font-size: 11pt;">
<p style="text-align: center;"><strong>${title}</strong></p>

<p>This Addendum${addendumNumber ? ' No. ' + addendumNumber : ''} (this "Addendum") to the ${originalAgreementName} dated ${originalAgreementDate} (the "Agreement") is entered into as of ${effectiveDate} (the "Effective Date"), by and between ${sellerName} ("${sellerName === originalAgreementName.split(' ')[0] ? 'Seller' : sellerName}") and ${buyerName} ("${buyerName === originalAgreementName.split(' ')[0] ? 'Buyer' : buyerName}") (each a "Party" and collectively, the "Parties").</p>

<p><strong>RECITALS</strong></p>

<p>WHEREAS, the Parties entered into the Agreement on ${originalAgreementDate}; and</p>

<p>WHEREAS, the Parties desire to amend the Agreement to address certain tariff and trade-related matters;</p>

<p>NOW, THEREFORE, in consideration of the premises and mutual covenants contained herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the Parties agree as follows:</p>

<p><strong>1. AMENDMENTS</strong></p>

<p>The Agreement is hereby amended as follows:</p>
`;

        // Add clauses based on checkboxes
        let clauseCount = 0;
          
        if (includeIndemnity) {
          clauseCount++;
          addendum += `
<p><strong>1.${clauseCount} Tariff Indemnity & Risk-Sharing</strong></p>
<p>The following provision regarding Tariff Indemnity & Risk-Sharing is hereby added to the Agreement:</p>
${this.getIndemnityClause()}
`;
        }
          
        if (includePriceAdj) {
          clauseCount++;
          addendum += `
<p><strong>1.${clauseCount} Price Adjustments Due to Tariff Changes</strong></p>
<p>The following provision regarding Price Adjustments is hereby added to the Agreement:</p>
${this.getPriceAdjustmentClause()}
`;
        }
          
        if (includeForceMajeure) {
          clauseCount++;
          addendum += `
<p><strong>1.${clauseCount} Force Majeure - Tariff and Trade Disruptions</strong></p>
<p>The following provision regarding Force Majeure is hereby added to the Agreement:</p>
${this.getForceMajeureClause()}
`;
        }
          
        // If no clauses were selected, add a message
        if (!includeIndemnity && !includePriceAdj && !includeForceMajeure) {
          addendum += `
<p><em>No clauses have been selected. Please select at least one clause to include in the addendum.</em></p>
`;
        }
          
        // Add continuing validity clause
        addendum += `
<p><strong>2. CONTINUING VALIDITY</strong></p>

<p>Except as expressly amended by this Addendum, all terms and conditions of the Agreement shall remain in full force and effect. In the event of any conflict between the terms of this Addendum and the terms of the Agreement, the terms of this Addendum shall prevail.</p>
`;

        // Add governing law if selected
        if (governingLaw === 'yes') {
          addendum += `
<p><strong>3. GOVERNING LAW</strong></p>

<p>This Addendum shall be governed by and construed in accordance with the laws of the State of ${governingLawState}, without giving effect to any choice of law or conflict of law provisions.</p>
`;
        }

        // Add counterparts clause if selected
        if (counterpartsClause !== 'none') {
          const section = governingLaw === 'yes' ? '4' : '3';
          addendum += `
<p><strong>${section}. COUNTERPARTS</strong></p>
`;
            
          if (counterpartsClause === 'basic') {
            addendum += `
<p>This Addendum may be executed in counterparts, each of which shall be deemed an original, but all of which together shall constitute one and the same instrument.</p>
`;
          } else if (counterpartsClause === 'electronic') {
            addendum += `
<p>This Addendum may be executed in counterparts, each of which shall be deemed an original, but all of which together shall constitute one and the same instrument. Electronic signatures, including signatures transmitted by PDF or other digital format, shall be deemed original signatures for all purposes.</p>
`;
          }
        }

        // Add witness clause and signature blocks in a table layout
        addendum += `
<p><strong>IN WITNESS WHEREOF</strong>, the Parties have executed this Addendum as of the Effective Date.</p>

<table style="width: 100%; border-collapse: collapse; border: none;">
  <tr>
    <td style="width: 50%; vertical-align: top; padding-right: 10px;">
      <p><strong>${sellerName}</strong></p>
      <p>By: ____________________________</p>
      <p>Name: _________________________</p>
      <p>Title: __________________________</p>
      <p>Date: _________________________</p>
    </td>
    <td style="width: 50%; vertical-align: top; padding-left: 10px;">
      <p><strong>${buyerName}</strong></p>
      <p>By: ____________________________</p>
      <p>Name: _________________________</p>
      <p>Title: __________________________</p>
      <p>Date: _________________________</p>
    </td>
  </tr>
</table>
</div>
`;

        return addendum;
      },
        
      // Update the preview
      updatePreview: function(changedField) {
        // Handle governing law change
        if (changedField === 'governingLaw') {
          this.handleGoverningLawChange();
        }
          
        // Clear previous highlights
        this.clearHighlights();
          
        // Generate new addendum text
        const addendumText = this.generateAddendum();
          
        // Update preview
        document.getElementById('add_preview').innerHTML = addendumText;
          
        // If a field was changed, highlight the relevant text
        if (changedField) {
          this.highlightChangedText(changedField);
        }
      },
        
      // Clear highlights
      clearHighlights: function() {
        const highlightElements = document.getElementsByClassName('highlight');
        while (highlightElements.length > 0) {
          const element = highlightElements[0];
          const text = element.textContent;
          const textNode = document.createTextNode(text);
          element.parentNode.replaceChild(textNode, element);
        }
      },
        
      // Find text in document and highlight it
      findAndHighlightText: function(searchText) {
        if (!searchText) return;
          
        const previewElement = document.getElementById('add_preview');
        const previewHTML = previewElement.innerHTML;
          
        // A simpler approach for WordPress compatibility
        if (previewHTML.indexOf(searchText) >= 0) {
          const newHTML = previewHTML.replace(
            new RegExp(this.escapeRegExp(searchText), 'g'),
            '<span class="highlight">' + searchText + '</span>'
          );
            
          previewElement.innerHTML = newHTML;
            
          // Try to scroll to the highlighted element
          setTimeout(function() {
            const highlightElements = document.getElementsByClassName('highlight');
            if (highlightElements.length > 0) {
              const firstHighlight = highlightElements[0];
              if (firstHighlight) {
                firstHighlight.scrollIntoView({behavior: 'smooth', block: 'center'});
              }
            }
          }, 100);
        }
      },
        
      // Escape special regex characters
      escapeRegExp: function(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      },
        
      // Highlight changed text based on field
      highlightChangedText: function(changedField) {
        const self = this;
          
        switch (changedField) {
          case 'effectiveDate':
            this.findAndHighlightText(this.formatDate(document.getElementById('add_effectiveDate').value));
            break;
          case 'originalAgreementName':
            this.findAndHighlightText(document.getElementById('add_originalAgreementName').value);
            break;
          case 'originalAgreementDate':
            this.findAndHighlightText(this.formatDate(document.getElementById('add_originalAgreementDate').value));
            break;
          case 'sellerName':
            this.findAndHighlightText(document.getElementById('add_sellerName').value);
            break;
          case 'buyerName':
            this.findAndHighlightText(document.getElementById('add_buyerName').value);
            break;
          case 'addendumNumber':
            if (document.getElementById('add_addendumNumber').value.trim()) {
              this.findAndHighlightText('No. ' + document.getElementById('add_addendumNumber').value.trim());
            }
            break;
          case 'includeIndemnity':
            if (document.getElementById('add_includeIndemnity').checked) {
              this.findAndHighlightText('Tariff Indemnity & Risk-Sharing');
            }
            break;
          case 'includePriceAdj':
            if (document.getElementById('add_includePriceAdj').checked) {
              this.findAndHighlightText('Price Adjustments Due to Tariff Changes');
            }
            break;
          case 'includeForceMajeure':
            if (document.getElementById('add_includeForceMajeure').checked) {
              this.findAndHighlightText('Force Majeure - Tariff and Trade Disruptions');
            }
            break;
          case 'governingLaw':
          case 'governingLawState':
            if (document.getElementById('add_governingLaw').value === 'yes') {
              this.findAndHighlightText(document.getElementById('add_governingLawState').value);
            }
            break;
          case 'counterpartsClause':
            const counterpartsValue = document.getElementById('add_counterpartsClause').value;
            if (counterpartsValue !== 'none') {
              this.findAndHighlightText('COUNTERPARTS');
              if (counterpartsValue === 'electronic') {
                setTimeout(() => {
                  this.findAndHighlightText('Electronic signatures');
                }, 100);
              }
            }
            break;
        }
          
        // Remove highlights after 3 seconds
        setTimeout(function() {
          self.clearHighlights();
        }, 3000);
      },
        
      // Generate MS Word document
      generateWordDoc: function() {
        const header = "<html xmlns:o='urn:schemas-microsoft-com:office:office' " +
                     "xmlns:w='urn:schemas-microsoft-com:office:word' " +
                     "xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Word Document</title></head><body>";
        const footer = "</body></html>";
        const content = document.getElementById('add_preview').innerHTML;
        const sourceHTML = header + content + footer;
        const source = 'data:application/vnd.ms-word;charset=utf-8,' + encodeURIComponent(sourceHTML);
          
        // Create a download link and trigger it
        const fileDownload = document.createElement("a");
        document.body.appendChild(fileDownload);
        fileDownload.href = source;
        fileDownload.download = 'Agreement_Addendum.doc';
        fileDownload.click();
        document.body.removeChild(fileDownload);
      },
        
      // Handle copy button click
      handleCopyClick: function() {
        const text = document.getElementById('add_preview').innerText;
        const copyBtn = document.getElementById('add_copyBtn');
        const originalText = copyBtn.innerHTML;
          
        try {
          // Modern approach
          if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(function() {
              copyBtn.innerHTML = 'COPIED!';
              setTimeout(function() {
                copyBtn.innerHTML = originalText;
              }, 2000);
            });
          } 
          // Fallback approach
          else {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            copyBtn.innerHTML = 'COPIED!';
            setTimeout(function() {
              copyBtn.innerHTML = originalText;
            }, 2000);
          }
        } catch(err) {
          alert('Please select and copy the text manually.');
        }
      }
    };
      
    // Start the generator when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      addendumGenerator.init();
    });
      
    // Initialize immediately as well (for WordPress)
    addendumGenerator.init();
  </script>
</body>
</html>

<div class="preview-fade" id="addendum-fade"></div>
</div>


<script>
(function() {
  // State variables
  let isPaid = false;
  
  // UI Elements
  const paywallOverlay = document.getElementById('paywall-overlay');
  const paywallBackdrop = document.getElementById('paywall-backdrop');
  const paywallClose = document.getElementById('paywall-close');
  const premiumBadge = document.getElementById('premium-badge');
  const successOverlay = document.getElementById('success-overlay');
  const successButton = document.getElementById('success-button');
  const indemnityFade = document.getElementById('indemnity-fade');
  const priceAdjustmentFade = document.getElementById('price-adjustment-fade');
  const forceMajeureFade = document.getElementById('force-majeure-fade');
  const recoverAccessBtn = document.getElementById('recover-access-btn');
  const transactionIdInput = document.getElementById('transaction-id-input');
  
  // Constants
  const FORM_DATA_KEY = 'tariffGeneratorFormData';
  const PAYMENT_KEY = 'tariffGeneratorsPaid';
  const AUTO_RETURN_PARAM = 'payment';
  
  // Initialize the page
  function init() {
    // Check for payment in URL (auto-return)
    checkPaymentInUrl();
    
    // Check if already paid
    checkPaidStatus();
    
    // Initialize tabs
    initializeTabs();
    
    // Set up success overlay button
    setupSuccessButton();
    
    // Set up paywall close button
    setupPaywallClose();
    
    // Set up recovery button
    setupRecoveryFeatures();
    
    // Disable copy and MS Word buttons until paid
    disableButtonsUntilPaid();
    
    // Save form data before payment
    setupFormDataSaving();
  }
  
  // Check if user has already paid
  function checkPaidStatus() {
    if (localStorage.getItem(PAYMENT_KEY) === 'true') {
      isPaid = true;
      markAsPaid();
    }
  }
  
  // Check for payment in URL parameters (auto-return)
  function checkPaymentInUrl() {
    const urlParams = new URLSearchParams(window.location.search);
    const paymentParam = urlParams.get(AUTO_RETURN_PARAM);
    
    if (paymentParam === 'success' || urlParams.get('tx') || urlParams.get('token') || urlParams.get('paymentId')) {
      console.log('Payment detected in URL');
      isPaid = true;
      markAsPaid();
      showSuccess();
      
      // Store the transaction ID if available
      if (urlParams.get('tx')) {
        localStorage.setItem('tariffGeneratorTransactionId', urlParams.get('tx'));
      }
    }
  }
  
  // Initialize tabs
  function initializeTabs() {
    const tabs = document.querySelectorAll('.tools-tab');
    const tabContents = document.querySelectorAll('.tools-tab-content');
    
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs and contents
        tabs.forEach(t => t.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked tab and corresponding content
        tab.classList.add('active');
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(`${tabId}-tab`).classList.add('active');
      });
    });
  }
  
  // Disable copy and MS Word buttons until paid
  function disableButtonsUntilPaid() {
    // Using event capturing to prevent default behavior
    document.addEventListener('click', function(e) {
      if (!isPaid && (e.target.classList.contains('copy-btn') || e.target.closest('.copy-btn'))) {
        e.preventDefault();
        e.stopPropagation();
        showPaywall();
        return false;
      }
    }, true);
  }
  
  // Set up form data saving before payment
  function setupFormDataSaving() {
    // Save form data before PayPal redirect
    const form = document.querySelector('form[action*="paypal.com"]');
    if (form) {
      form.addEventListener('submit', function(e) {
        saveFormData();
      });
    }
  }
  
  // Save form data to localStorage
  function saveFormData() {
    try {
      // Collect data from the active generator
      const formData = collectFormData();
      
      // Store in localStorage
      localStorage.setItem(FORM_DATA_KEY, JSON.stringify(formData));
      
      console.log('Form data saved before payment');
    } catch (e) {
      console.error('Error saving form data:', e);
    }
  }
  
  // Collect form data from current tab
  function collectFormData() {
    const formData = {};
    
    // Find active tab content
    const activeTab = document.querySelector('.tools-tab-content.active');
    if (!activeTab) return formData;
    
    // Get all form elements in active tab
    const formElements = activeTab.querySelectorAll('input, select, textarea');
    formElements.forEach(el => {
      if (el.type === 'checkbox' || el.type === 'radio') {
        formData[el.id] = el.checked;
      } else {
        formData[el.id] = el.value;
      }
    });
    
    return formData;
  }
  
  // Restore form data from localStorage
  function restoreFormData() {
    try {
      const savedData = localStorage.getItem(FORM_DATA_KEY);
      if (!savedData) return false;
      
      const formData = JSON.parse(savedData);
      
      // Apply to form elements
      Object.keys(formData).forEach(key => {
        const el = document.getElementById(key);
        if (el) {
          if (el.type === 'checkbox' || el.type === 'radio') {
            el.checked = formData[key];
          } else {
            el.value = formData[key];
          }
        }
      });
      
      // Update previews after restoring data
      if (window.tariffIndemnityGenerator && typeof window.tariffIndemnityGenerator.updatePreview === 'function') {
        window.tariffIndemnityGenerator.updatePreview();
      }
      
      return true;
    } catch (e) {
      console.error('Error restoring form data:', e);
      return false;
    }
  }
  
  // Set up paywall close button
  function setupPaywallClose() {
    paywallClose.addEventListener('click', function() {
      hidePaywall();
    });
    
    // Also close when clicking on backdrop
    paywallBackdrop.addEventListener('click', function() {
      hidePaywall();
    });
  }
  
  // Show paywall popup
  function showPaywall() {
    paywallOverlay.style.display = 'flex';
    paywallBackdrop.style.display = 'block';
  }
  
  // Hide paywall popup
  function hidePaywall() {
    paywallOverlay.style.display = 'none';
    paywallBackdrop.style.display = 'none';
  }
  
  // Set up success button
  function setupSuccessButton() {
    successButton.addEventListener('click', function() {
      successOverlay.style.display = 'none';
      
      // Restore form data if available
      restoreFormData();
    });
  }
  
  // Set up recovery features
  function setupRecoveryFeatures() {
    recoverAccessBtn.addEventListener('click', function() {
      const txnId = transactionIdInput.value.trim();
      
      if (txnId && isValidPayPalTransactionId(txnId)) {
        markAsPaid(txnId);
        hidePaywall();
        showSuccess();
      } else {
        alert('Please enter a valid PayPal Transaction ID');
      }
    });
  }
  
  // Basic validation for PayPal transaction IDs
  function isValidPayPalTransactionId(txnId) {
    // PayPal transaction IDs are typically alphanumeric and may include hyphens
    return /^[a-zA-Z0-9\-]{10,30}$/.test(txnId);
  }
  
  // Function to mark as paid
  function markAsPaid(transactionId) {
    isPaid = true;
    localStorage.setItem(PAYMENT_KEY, 'true');
    
    // Store transaction ID if provided
    if (transactionId) {
      localStorage.setItem('tariffGeneratorTransactionId', transactionId);
    }
    
    // Hide paywall and backdrop
    hidePaywall();
    
    // Show premium badge
    premiumBadge.style.display = 'block';
    
    // Remove fade effects
    indemnityFade.style.display = 'none';
    priceAdjustmentFade.style.display = 'none';
    forceMajeureFade.style.display = 'none';
    
    // Enable copy buttons and Word buttons
    const copyBtns = document.querySelectorAll('.copy-btn');
    copyBtns.forEach(btn => {
      btn.style.opacity = '1';
      btn.style.cursor = 'pointer';
      if (btn.hasAttribute('disabled')) {
        btn.removeAttribute('disabled');
      }
    });
    
    // Enable selection in preview panes
    const previewContents = document.querySelectorAll('.preview-content');
    previewContents.forEach(preview => {
      preview.style.userSelect = 'text';
    });
    
    // Restore form data if it exists
    restoreFormData();
    
    console.log('Paywall unlocked');
  }
  
  // Function to show success overlay
  function showSuccess() {
    successOverlay.style.display = 'flex';
  }
  
  // Initialize the page
  init();
  
  // Make the markAsPaid function globally available for generators to access
  window.markTariffGeneratorAsPaid = markAsPaid;
})();
</script>


				</div>
					</div>
		</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-7985f37 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7985f37" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4f9a2f6" data-id="4f9a2f6" data-element_type="column">
			<div class="elementor-widget-wrap elementor-element-populated">
						<div class="elementor-element elementor-element-97eb9eb elementor-widget elementor-widget-html" data-id="97eb9eb" data-element_type="widget" data-widget_type="html.default">
					<!-- Understanding Tariff-Related Contract Clauses Section -->
<h2>Understanding Tariff-Related Contract Clauses</h2>
<p>The tariff generators above provide three essential clauses and an integrated Addendum tool that every international supply, manufacturing, or distribution agreement should contain in today's volatile trade environment. With these tools, you can create customized protection for your business and combine them into a signature-ready legal document in minutes. Let's examine each component's purpose, key provisions, and implementation strategies.</p>

<!-- Tariff Indemnity Section -->
<h3>Tariff Indemnity & Risk-Sharing Clauses: Protecting Against Misclassification and Unexpected Charges</h3>
<p>Tariff indemnity clauses determine which party bears the financial risk when tariff-related issues arise. These provisions are particularly crucial for:</p>
<ul>
  <li>Importers working with overseas manufacturers</li>
  <li>Distributors sourcing products from multiple countries</li>
  <li>Companies with complex international supply chains</li>
</ul>

<h4>Key Elements of an Effective Tariff Indemnity Clause:</h4>
<div style="background-color:#f8f9fa; border:1px solid #ddd; border-radius:4px; padding:15px; margin:15px 0;">
  <h4 style="margin-top:0; color:#2c3e50;">Essential Components:</h4>
  <ul style="margin-bottom:0;">
    <li><strong>Covered Risks</strong> - Specifically defines which tariff-related issues trigger indemnification (misclassification, origin disputes, special tariffs)</li>
    <li><strong>Indemnification Direction</strong> - Establishes which party indemnifies whom (typically seller-to-buyer or mutual)</li>
    <li><strong>Liability Limitations</strong> - Sets maximum liability caps as fixed amounts or percentages of contract value</li>
    <li><strong>Documentation Requirements</strong> - Details what records must be maintained and for how long</li>
    <li><strong>Fault Determination</strong> - Establishes how responsibility is allocated between parties</li>
  </ul>
</div>
<p>The generator allows you to customize each of these parameters based on your specific risk profile and negotiating position. For higher-risk industries like electronics or textiles where tariff classification is complex, comprehensive indemnity provisions are essential.</p>

<!-- Price Adjustment Section -->
<h3>Price Adjustment Clauses: Managing Cost Increases from Tariff Changes</h3>
<p>Price adjustment clauses create a mechanism for modifying prices when tariffs change. This protects both parties from the financial shock of sudden tariff impositions or increases.</p>

<h4>When to Implement Price Adjustment Clauses:</h4>
<ul>
  <li>Long-term supply relationships where tariff changes are likely</li>
  <li>Contracts with narrow profit margins that can't absorb tariff increases</li>
  <li>Industries specifically targeted by recent tariff announcements</li>
  <li>Agreements with suppliers in countries facing heightened trade tensions</li>
</ul>

<div style="display: flex; justify-content: space-around; margin: 20px 0; flex-wrap: wrap;">
  <div style="width: 45%; min-width: 300px; background-color: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
    <h4 style="margin-top: 0; color: #0d47a1;">Price Adjustment Advantages</h4>
    <ul>
      <li>Preserves supplier relationships during tariff volatility</li>
      <li>Creates predictable cost structures for buyers</li>
      <li>Allows for continued performance rather than termination</li>
      <li>Can include both upward and downward adjustment mechanisms</li>
    </ul>
  </div>
  <div style="width: 45%; min-width: 300px; background-color: #ffebee; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
    <h4 style="margin-top: 0; color: #b71c1c;">Price Adjustment Risks</h4>
    <ul>
      <li>May lead to frequent price renegotiations</li>
      <li>Documentation requirements can be burdensome</li>
      <li>Potential for disputes over calculation methods</li>
      <li>May require both parties to disclose cost structures</li>
    </ul>
  </div>
</div>
<p>The price adjustment generator allows you to precisely define the threshold for adjustments, notice periods, documentation requirements, and adjustment limitationsâ€”ensuring both parties have clarity on when and how prices may change.</p>

<!-- Force Majeure Section -->
<h3>Force Majeure Clauses: When Tariffs Make Performance Impossible</h3>
<p>Traditionally, force majeure clauses address "acts of God" like natural disasters. However, with today's trade volatility, including specific tariff-related triggers in force majeure provisions has become essential.</p>

<h4>The Tariff-Force Majeure Connection:</h4>
<div style="overflow-x: auto; margin: 20px 0;">
  <table style="width: 100%; border-collapse: collapse; border: 1px solid #ddd;">
    <thead>
      <tr style="background-color: #2c3e50; color: white;">
        <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Tariff Event</th>
        <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Force Majeure Applicability</th>
        <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Documentation Needed</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">Substantial Tariff Increase (>25%)</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Typically considered force majeure if it makes performance commercially impracticable</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Government notices, customs documents, financial impact analysis</td>
      </tr>
      <tr style="background-color: #f2f2f2;">
        <td style="padding: 10px; border: 1px solid #ddd;">Import/Export Ban</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Almost always constitutes force majeure</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Government proclamation, customs rejection notices</td>
      </tr>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">New Trade Sanctions</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Generally considered force majeure</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Treasury Department notices, legal opinion letters</td>
      </tr>
      <tr style="background-color: #f2f2f2;">
        <td style="padding: 10px; border: 1px solid #ddd;">Import Quotas</td>
        <td style="padding: 10px; border: 1px solid #ddd;">May constitute force majeure if quota has been filled</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Customs quota reports, rejection notices</td>
      </tr>
    </tbody>
  </table>
</div>
<p>The force majeure generator helps you create provisions that clearly define when tariff events trigger force majeure, what mitigation steps are required, notice periods, and what happens during and after the force majeure event.</p>

<!-- Addendum Section - NEW -->
<h3>Addendum Generator: Creating a Signature-Ready Legal Document</h3>
<p>The Addendum tab transforms your customized clauses into a complete, professionally formatted legal document that's ready for signatures. This powerful tool streamlines the contract amendment process and eliminates the need for manual drafting.</p>

<h4>Key Benefits of the Addendum Generator:</h4>
<div style="display: flex; justify-content: space-around; margin: 20px 0; flex-wrap: wrap;">
  <div style="width: 30%; min-width: 250px; background-color: #e8f5e9; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
    <h4 style="margin-top: 0; color: #1b5e20; text-align: center;"><i class="fas fa-file-signature" style="display: block; font-size: 2rem; margin-bottom: 10px;"></i>Signature-Ready</h4>
    <p>Creates a complete legal document with proper formatting, recitals, signature blocks, and all necessary legal formalities.</p>
  </div>
  <div style="width: 30%; min-width: 250px; background-color: #f3e5f5; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
    <h4 style="margin-top: 0; color: #4a148c; text-align: center;"><i class="fas fa-sync-alt" style="display: block; font-size: 2rem; margin-bottom: 10px;"></i>Real-Time Updates</h4>
    <p>Automatically incorporates any changes you make in the clause generators, ensuring your addendum always reflects your latest decisions.</p>
  </div>
  <div style="width: 30%; min-width: 250px; background-color: #e0f7fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
    <h4 style="margin-top: 0; color: #006064; text-align: center;"><i class="fas fa-download" style="display: block; font-size: 2rem; margin-bottom: 10px;"></i>Word Export</h4>
    <p>Download the completed addendum as a Microsoft Word document for easy sharing, editing, or incorporation into your document management system.</p>
  </div>
</div>

<h4>How the Addendum Generator Works:</h4>
<div style="background-color: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
  <ol style="counter-reset: item; padding-left: 0;">
    <li style="display: flex; margin-bottom: 25px; counter-increment: item; align-items: flex-start;">
      <span style="margin-right: 15px; background-color: #2c3e50; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">1</span>
      <div>
        <h5 style="margin-top: 0; color: #2c3e50;">Customize Your Clauses</h5>
        <p>First, configure your clauses in the Tariff Indemnity, Price Adjustment, and Force Majeure tabs according to your needs.</p>
      </div>
    </li>
    <li style="display: flex; margin-bottom: 25px; counter-increment: item; align-items: flex-start;">
      <span style="margin-right: 15px; background-color: #2c3e50; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">2</span>
      <div>
        <h5 style="margin-top: 0; color: #2c3e50;">Switch to the Addendum Tab</h5>
        <p>Click on the Addendum tab, and the system automatically imports your clause configurations, party names, and other details.</p>
      </div>
    </li>
    <li style="display: flex; margin-bottom: 25px; counter-increment: item; align-items: flex-start;">
      <span style="margin-right: 15px; background-color: #2c3e50; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">3</span>
      <div>
        <h5 style="margin-top: 0; color: #2c3e50;">Enter Agreement Details</h5>
        <p>Provide the name and date of the original agreement, effective date for the addendum, and other specific information.</p>
      </div>
    </li>
    <li style="display: flex; margin-bottom: 25px; counter-increment: item; align-items: flex-start;">
      <span style="margin-right: 15px; background-color: #2c3e50; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">4</span>
      <div>
        <h5 style="margin-top: 0; color: #2c3e50;">Select Clauses to Include</h5>
        <p>Choose which of your customized clauses to include in the addendum (you can include any combination of the three).</p>
      </div>
    </li>
    <li style="display: flex; counter-increment: item; align-items: flex-start;">
      <span style="margin-right: 15px; background-color: #2c3e50; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">5</span>
      <div>
        <h5 style="margin-top: 0; color: #2c3e50;">Download and Sign</h5>
        <p>Export the completed addendum as a Microsoft Word document, review it, and it's ready for signaturesâ€”no additional drafting required.</p>
      </div>
    </li>
  </ol>
</div>

<p>The Addendum generator is particularly valuable for quickly adapting to changes in the trade landscape. When new tariffs are announced, you can rapidly draft and implement amendments to your existing agreements, rather than redrafting entire contracts or negotiating complex new terms.</p>

<div style="background-color: #fff3e0; border-left: 4px solid #ff9800; padding: 15px; margin: 20px 0;">
  <h4 style="margin-top: 0; color: #e65100;">Pro Tip: Two-Way Amendment Workflow</h4>
  <p>For maximum efficiency, try this workflow:</p>
  <ol style="margin-bottom: 0;">
    <li>Draft your addendum with selected clauses</li>
    <li>Export to Word and send to your counterparty for review</li>
    <li>If changes are requested, return to the generators to adjust the specific clauses</li>
    <li>Click back to the Addendum tab to automatically update the document with your changes</li>
    <li>Export the revised version for final approval</li>
  </ol>
  <p>This approach eliminates error-prone manual editing and ensures all changes are properly integrated into the final document.</p>
</div>

<!-- Implementation Strategies Section - UPDATED -->
<h2>Strategies for Implementing These Clauses in Your Contracts</h2>
<p>When incorporating these clauses into your agreements, consider the following implementation strategies:</p>

<h3>1. Adopt a Tiered Approach to Tariff Risk</h3>
<div style="background-color: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
  <div style="display: flex; justify-content: space-between; flex-wrap: wrap;">
    <div style="flex: 1; min-width: 200px; margin-right: 15px; margin-bottom: 15px;">
      <h4 style="color: #27ae60; border-bottom: 2px solid #27ae60; padding-bottom: 5px;">Tier 1: Minor Tariff Changes</h4>
      <p><strong>â“˜ 0-10% increase</strong></p>
      <p><strong>Solution:</strong> Price adjustment clause with direct pass-through</p>
      <p>For smaller increases, maintain normal performance with adjusted pricing.</p>
    </div>
    <div style="flex: 1; min-width: 200px; margin-right: 15px; margin-bottom: 15px;">
      <h4 style="color: #f39c12; border-bottom: 2px solid #f39c12; padding-bottom: 5px;">Tier 2: Moderate Tariff Changes</h4>
      <p><strong>â“˜ 10-25% increase</strong></p>
      <p><strong>Solution:</strong> Risk-sharing indemnity with percentage cap</p>
      <p>For moderate increases, share the burden between parties.</p>
    </div>
    <div style="flex: 1; min-width: 200px; margin-bottom: 15px;">
      <h4 style="color: #c0392b; border-bottom: 2px solid #c0392b; padding-bottom: 5px;">Tier 3: Severe Tariff Changes</h4>
      <p><strong>â“˜ 25%+ increase or total bans</strong></p>
      <p><strong>Solution:</strong> Force majeure with alternative sourcing</p>
      <p>For severe disruptions, allow contract suspension or termination.</p>
    </div>
  </div>
</div>

<h3>2. Use the Addendum for Rapid Response</h3>
<p>The Addendum generator is particularly valuable for responding quickly to trade policy changes:</p>

<div style="overflow-x: auto; margin: 20px 0;">
  <table style="width: 100%; border-collapse: collapse; border: 1px solid #ddd;">
    <thead>
      <tr style="background-color: #2c3e50; color: white;">
        <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Trade Policy Development</th>
        <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Response Timeframe</th>
        <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Recommended Addendum Approach</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">Tariff Announcement (Pre-Implementation)</td>
        <td style="padding: 10px; border: 1px solid #ddd;">30-90 days</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Preemptive addendum with price adjustment mechanism and contingent force majeure</td>
      </tr>
      <tr style="background-color: #f2f2f2;">
        <td style="padding: 10px; border: 1px solid #ddd;">Emergency Tariff Implementation</td>
        <td style="padding: 10px; border: 1px solid #ddd;">0-30 days</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Rapid addendum with immediate price adjustment and temporary performance suspension</td>
      </tr>
      <tr>
        <td style="padding: 10px; border: 1px solid #ddd;">Trade Agreement Termination</td>
        <td style="padding: 10px; border: 1px solid #ddd;">180+ days</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Comprehensive addendum with phased adjustment provisions and contingency planning</td>
      </tr>
      <tr style="background-color: #f2f2f2;">
        <td style="padding: 10px; border: 1px solid #ddd;">New Sanctions Regime</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Immediate</td>
        <td style="padding: 10px; border: 1px solid #ddd;">Emergency addendum with force majeure and alternative sourcing rights</td>
      </tr>
    </tbody>
  </table>
</div>

<h3>3. Customize Based on Industry and Supply Chain Position</h3>
<p>Different industries face varying levels of tariff risk. Use these guidelines to tailor your approach:</p>

<div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 20px 0;">
  <div style="flex: 1; min-width: 220px; background-color: #f5f5f5; border-radius: 8px; padding: 15px; border-left: 5px solid #3498db;">
    <h4 style="margin-top: 0; color: #3498db;">Manufacturing</h4>
    <p>Focus on price adjustment mechanisms that account for component-level tariff impacts.</p>
    <p><strong>Priority:</strong> Detailed documentation of tariff classification for all components</p>
    <p><strong>Addendum Focus:</strong> Component-specific price adjustments</p>
  </div>
  <div style="flex: 1; min-width: 220px; background-color: #f5f5f5; border-radius: 8px; padding: 15px; border-left: 5px solid #9b59b6;">
    <h4 style="margin-top: 0; color: #9b59b6;">Distribution</h4>
    <p>Emphasize indemnity provisions for country of origin and classification errors.</p>
    <p><strong>Priority:</strong> Alternative sourcing rights in force majeure events</p>
    <p><strong>Addendum Focus:</strong> Multi-supplier contingency provisions</p>
  </div>
  <div style="flex: 1; min-width: 220px; background-color: #f5f5f5; border-radius: 8px; padding: 15px; border-left: 5px solid #e67e22;">
    <h4 style="margin-top: 0; color: #e67e22;">Retail</h4>
    <p>Implement multi-source strategies with proportional fault provisions.</p>
    <p><strong>Priority:</strong> Rapid price adjustment mechanisms with minimal notice periods</p>
    <p><strong>Addendum Focus:</strong> Seasonal scheduling adjustments</p>
  </div>
</div>

<h3>4. Ensure Proper Documentation</h3>
<p>For any tariff-related clause to function properly, maintaining proper documentation is essential:</p>

<div style="background-color: #e8f4fd; border-radius: 8px; padding: 15px; margin: 20px 0; border-left: 5px solid #2980b9;">
  <h4 style="margin-top: 0; color: #2980b9;">Documentation Checklist:</h4>
  <ul style="list-style-type: none; padding-left: 0;">
    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
      <span style="position: absolute; left: 0; color: #2980b9;">âœ“</span> <strong>Harmonized Tariff Schedule (HTS) Classifications</strong> for all products
    </li>
    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
      <span style="position: absolute; left: 0; color: #2980b9;">âœ“</span> <strong>Country of Origin Certifications</strong> with supporting documentation
    </li>
    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
      <span style="position: absolute; left: 0; color: #2980b9;">âœ“</span> <strong>Customs Entry Forms</strong> showing actual duties paid
    </li>
    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
      <span style="position: absolute; left: 0; color: #2980b9;">âœ“</span> <strong>Cost Breakdowns</strong> showing tariff-impacted components
    </li>
    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
      <span style="position: absolute; left: 0; color: #2980b9;">âœ“</span> <strong>Government Notices</strong> of tariff changes
    </li>
    <li style="margin-bottom: 8px; padding-left: 25px; position: relative;">
      <span style="position: absolute; left: 0; color: #2980b9;">âœ“</span> <strong>Signed Addenda</strong> documenting all agreed tariff-related modifications
    </li>
  </ul>
</div>

<!-- Using the Generators Section - UPDATED -->
<h2>Using the Tariff Clause Generators Effectively</h2>
<p>To get the most value from our comprehensive generator suite, follow these best practices:</p>

<div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 25px 0;">
  <div style="flex: 1; min-width: 280px; background-color: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="width: 50px; height: 50px; border-radius: 50%; background-color: #3498db; color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 15px;">1</div>
    <h4 style="text-align: center; color: #3498db;">Start with a Clear Strategy</h4>
    <p>Before generating clauses, determine which tariff risks are most critical for your business and prioritize accordingly.</p>
  </div>
  
  <div style="flex: 1; min-width: 280px; background-color: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="width: 50px; height: 50px; border-radius: 50%; background-color: #9b59b6; color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 15px;">2</div>
    <h4 style="text-align: center; color: #9b59b6;">Customize Based on Leverage</h4>
    <p>Adjust clause terms based on your negotiating leverageâ€”more favorable caps, thresholds, and provisions if you're the stronger party.</p>
  </div>
  
  <div style="flex: 1; min-width: 280px; background-color: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="width: 50px; height: 50px; border-radius: 50%; background-color: #e74c3c; color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 15px;">3</div>
    <h4 style="text-align: center; color: #e74c3c;">Switch Between Tabs Freely</h4>
    <p>Customize each clause independently, then combine them in the Addendum tab. The system automatically synchronizes your changes across tabs.</p>
  </div>
</div>

<div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 25px 0;">
  <div style="flex: 1; min-width: 280px; background-color: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="width: 50px; height: 50px; border-radius: 50%; background-color: #f39c12; color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 15px;">4</div>
    <h4 style="text-align: center; color: #f39c12;">Preview Before Finalizing</h4>
    <p>Use the live preview feature to see how changes affect your clauses in real-time, ensuring the language accurately reflects your intentions.</p>
  </div>
  
  <div style="flex: 1; min-width: 280px; background-color: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="width: 50px; height: 50px; border-radius: 50%; background-color: #27ae60; color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 15px;">5</div>
    <h4 style="text-align: center; color: #27ae60;">Export for Review</h4>
    <p>Use the MS Word export feature to create editable documents for attorney review or direct incorporation into your contracts.</p>
  </div>
  
  <div style="flex: 1; min-width: 280px; background-color: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <div style="width: 50px; height: 50px; border-radius: 50%; background-color: #2c3e50; color: white; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 15px;">6</div>
    <h4 style="text-align: center; color: #2c3e50;">Update Existing Agreements</h4>
    <p>Use the Addendum generator to quickly modify existing contracts without the cost and complexity of redrafting entire agreements.</p>
  </div>
</div>

<h3>Streamlined Workflow Example</h3>
<div style="background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 20px 0;">
  <p>Here's a real-world example of how our customers are using the tariff clause generators to respond to tariff changes:</p>
  
  <div style="position: relative; padding-left: 30px; margin-bottom: 30px;">
    <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background-color: #3498db;"></div>
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Day 1: Tariff Announcement</strong><br>A new 25% tariff is announced on electronic components from China.</p>
  </div>
  
  <div style="position: relative; padding-left: 30px; margin-bottom: 30px;">
    <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background-color: #3498db;"></div>
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Day 2: Risk Assessment</strong><br>Company determines which supply agreements are affected and what tariff increases mean for each product line.</p>
  </div>
  
  <div style="position: relative; padding-left: 30px; margin-bottom: 30px;">
    <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background-color: #3498db;"></div>
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Day 3: Clause Generation</strong><br>Legal team uses the generators to create custom Price Adjustment clauses for moderately affected products and Force Majeure clauses for severely impacted ones.</p>
  </div>
  
  <div style="position: relative; padding-left: 30px; margin-bottom: 30px;">
    <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background-color: #3498db;"></div>
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Day 4: Addendum Creation</strong><br>Using the Addendum generator, they create tailored amendments for each affected supplier agreement.</p>
  </div>
  
  <div style="position: relative; padding-left: 30px; margin-bottom: 30px;">
    <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background-color: #3498db;"></div>
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Days 5-10: Supplier Negotiations</strong><br>Addenda are shared with suppliers, who request specific modifications to the adjustment formula.</p>
  </div>
  
  <div style="position: relative; padding-left: 30px; margin-bottom: 30px;">
    <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background-color: #3498db;"></div>
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Day 11: Clause Refinement</strong><br>Team adjusts the clauses based on feedback, with changes automatically reflected in the addenda.</p>
  </div>
  
  <div style="position: relative; padding-left: 30px;">
    <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 3px; background-color: #3498db;"></div>
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Days 12-14: Finalization and Execution</strong><br>Final versions are exported, reviewed by senior management, and signed by all parties.</p>
  </div>
  
  <div style="position: relative; padding-left: 30px;">
    <div style="position: absolute; left: -4px; top: 0; width: 12px; height: 12px; border-radius: 50%; background-color: #3498db;"></div>
    <p style="margin-top: 0;"><strong style="color: #3498db;">Result</strong><br>Complete contract amendments implemented in two weeks rather than the typical 4-8 week timeline, with significant cost savings on legal fees.</p>
  </div>
</div>

<!-- FAQ Section - UPDATED -->
<h2>Frequently Asked Questions</h2>

<h3>Can tariff increases really qualify as force majeure events?</h3>
<p>Yes, substantial tariff increases can qualify as force majeure events if they make contract performance commercially impracticable. However, this generally requires a significant increase (25% or more) that fundamentally changes the economics of the agreement. Courts typically look at whether the tariff change was foreseeable when the contract was signed and whether it truly renders performance impossible or commercially unreasonable. The force majeure generator allows you to explicitly define substantial tariff increases as qualifying events, reducing uncertainty.</p>

<h3>If I'm the buyer, isn't it always better to push for the seller to bear tariff risks?</h3>
<p>Not necessarily. While buyers often try to push tariff risks onto sellers, this approach can backfire in several ways. Sellers with sufficient leverage may simply increase prices to account for this risk, potentially resulting in higher overall costs. Additionally, if a seller faces ruinous tariff costs they cannot absorb, they might simply default on the contract, leaving the buyer without necessary supplies. A balanced approach using the indemnity generator with appropriate caps and shared responsibility often produces the most stable long-term relationship.</p>

<h3>How often should price adjustment provisions allow for changes?</h3>
<p>The optimal frequency depends on your industry's volatility and the administrative burden of price adjustments. For highly volatile industries or products with rapid tariff changes, quarterly adjustments may be appropriate. For more stable industries, semi-annual or annual reviews are typically sufficient. The price adjustment generator allows you to select the appropriate review period based on your specific circumstances. Remember that more frequent adjustments provide better price accuracy but increase administrative costs.</p>

<h3>Do I need to have all three clauses in my addendum?</h3>
<p>No, the Addendum generator allows you to select which clauses to include based on your specific needs. You can include any combination of the tariff indemnity, price adjustment, and force majeure clauses. For some situations, you might only need one or two of these provisions. The flexibility to choose which clauses to incorporate allows you to create a precisely tailored amendment that addresses your particular tariff-related concerns without unnecessary complexity.</p>

<h3>Will this addendum work for any type of agreement?</h3>
<p>The addendum generator is designed to work with most types of commercial agreements, including supply agreements, distribution contracts, manufacturing agreements, and purchase orders. However, specialized agreements like leases, employment contracts, or licensing agreements may require additional modifications. The generator allows you to specify the type of original agreement, which helps tailor the language appropriately. For highly specialized or regulated industries, you may want to have an attorney review the final document to ensure industry-specific compliance.</p>

<h3>What documentation is required to invoke a tariff-related force majeure clause?</h3>
<p>To successfully invoke a tariff-related force majeure clause, you'll typically need: (1) official government notices announcing the tariff change; (2) customs documentation showing the actual impact; (3) financial analysis demonstrating the commercial impracticability; and (4) evidence of attempted mitigation efforts. The force majeure generator allows you to specify documentation requirements appropriate to your risk tolerance and relationship. More comprehensive documentation requirements provide better protection against frivolous claims but increase the burden on the affected party.</p>

<!-- Conclusion -->
<hr style="margin: 30px 0;">
<p>As global trade tensions continue to escalate with President Trump's sweeping tariff proposals, properly structured contract clauses are no longer optionalâ€”they're essential business protection. The comprehensive tariff clause generator suite provides more than just individual clauses; it delivers a complete solution for amending your existing agreements with professional, signature-ready documents that protect your business interests in today's volatile trade environment.</p>

<p>By combining customizable tariff indemnity, price adjustment, and force majeure clauses with our powerful Addendum generator, you can rapidly respond to trade policy changes without extensive legal costs or delays. Whether you're facing imminent tariff increases or preparing contingency plans for future trade disruptions, these tools provide the flexibility and precision needed to navigate complex international supply chains.</p>

<p>For complex international agreements or high-value contracts, I recommend scheduling a consultation to discuss your specific needs and develop a comprehensive tariff risk management strategy that leverages these tools to their full potential.</p>				</div>
					</div>
		</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-e736e13 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="e736e13" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2d05e0d" data-id="2d05e0d" data-element_type="column">
			<div class="elementor-widget-wrap elementor-element-populated">
						<div class="elementor-element elementor-element-a32eb43 elementor-widget elementor-widget-video" data-id="a32eb43" data-element_type="widget" data-settings="{&quot;youtube_url&quot;:&quot;https:\/\/youtu.be\/9UvVZVki9Q8&quot;,&quot;video_type&quot;:&quot;youtube&quot;,&quot;controls&quot;:&quot;yes&quot;}" data-widget_type="video.default">
							<div class="elementor-wrapper elementor-open-inline">
			<div class="elementor-video"></div>		</div>
						</div>
					</div>
		</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-b1ff4a6 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b1ff4a6" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-10bea98" data-id="10bea98" data-element_type="column">
			<div class="elementor-widget-wrap elementor-element-populated">
						<div class="elementor-element elementor-element-f3f024e elementor-widget elementor-widget-html" data-id="f3f024e" data-element_type="widget" data-widget_type="html.default">
					<!-- Calendly inline widget begin -->
<div class="calendly-inline-widget" data-url="https://calendly.com/sergei-tokmakov/30-minute-zoom-meeting?hide_gdpr_banner=1" style="min-width:320px;height:700px;"></div>
<script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
<!-- Calendly inline widget end -->				</div>
					</div>
		</div>
					</div>
		</section>
				</div>
		</div>
    </article>
  </main>

  <footer><p>Â© Terms.Law. All rights reserved.</p></footer>
</body>
</html>