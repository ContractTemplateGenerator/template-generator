<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-901N2Y3CDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-901N2Y3CDZ');
    </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Data Processing Agreement Generator | Terms.Law</title>
  <meta name="description" content="The AI Data Processing Agreement Generator allows users to create custom agreements compliant with GDPR and privacy laws for AI systems. It collects party detai">
  <link rel="canonical" href="https://terms.law/2025/02/05/ai-data-processing-agreement-generator/">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/shared/styles.css">
</head>
<body>
  <div id="site-header"></div>
  <script src="/shared/header-loader.js"></script>

  <main>
    <article>
      <h1>AI Data Processing Agreement Generator</h1>
      <div class="meta">Published: February 5, 2025 • AI, Document Generators, Free Templates</div>
      <div class="content">
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Data Processing Agreement Generator</title>
  <style>
    /* Base Styles */
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #3498db;
      --accent-color: #1abc9c;
      --bg-color: #f9fafb;
      --card-bg: #ffffff;
      --text-primary: #333333;
      --text-secondary: #666666;
      --border-color: #e0e0e0;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      --border-radius: 8px;
      --transition: all 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    
    body {
      background-color: var(--bg-color);
      color: var(--text-primary);
      line-height: 1.6;
      padding: 20px;
    }
    
    /* Container Styles */
    .generator-container {
      max-width: 1200px;
      margin: 0 auto;
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    
    /* Header Styles */
    .generator-header {
      background-color: var(--primary-color);
      color: white;
      padding: 25px;
      text-align: center;
    }
    
    .generator-header h1 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .generator-header p {
      font-size: 16px;
      opacity: 0.9;
    }
    
    /* Progress Bar */
    .progress-container {
      padding: 0 25px;
      background-color: var(--card-bg);
    }
    
    .progress-bar-outer {
      height: 6px;
      background-color: #e0e0e0;
      border-radius: 3px;
      margin: 15px 0;
      overflow: hidden;
    }
    
    .progress-bar-inner {
      height: 100%;
      background-color: var(--accent-color);
      width: 0%;
      transition: width 0.3s ease;
    }
    
    /* Content Layout */
    .generator-content {
      display: flex;
      min-height: 600px;
    }
    
    /* Form Styles */
    .form-container {
      flex: 1;
      padding: 25px;
      border-right: 1px solid var(--border-color);
      overflow-y: auto;
      max-height: 800px;
    }
    
    .form-section {
      display: none;
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border-color);
    }
    
    .form-section.active {
      display: block;
    }
    
    .form-section:last-child {
      border-bottom: none;
    }
    
    .form-section-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 15px;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      font-weight: 500;
      margin-bottom: 5px;
      color: var(--text-primary);
    }
    
    .form-input {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      font-size: 14px;
      color: var(--text-primary);
      background-color: white;
      transition: var(--transition);
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
    }
    
    textarea.form-input {
      min-height: 80px;
      resize: vertical;
    }
    
    .form-helper {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 4px;
    }
    
    /* Radio and Checkbox Styles */
    .options-group {
      margin-bottom: 15px;
    }
    
    .option-item {
      display: flex;
      align-items: flex-start;
      padding: 8px 10px;
      margin-bottom: 8px;
      background-color: #f5f7fa;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .option-item:hover {
      background-color: #eef2f7;
    }
    
    .option-item.selected {
      background-color: #e8f6f3;
      border-color: var(--accent-color);
    }
    
    .option-item input[type="radio"],
    .option-item input[type="checkbox"] {
      margin-right: 10px;
      margin-top: 3px;
    }
    
    .option-content {
      flex: 1;
    }
    
    .option-label {
      font-weight: 500;
      display: block;
      margin-bottom: 2px;
    }
    
    .option-description {
      font-size: 12px;
      color: var(--text-secondary);
    }
    
    /* Form Navigation */
    .form-navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    
    .btn {
      padding: 10px 16px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      border: none;
      text-align: center;
    }
    
    .btn-secondary {
      background-color: #f1f1f1;
      color: var(--text-primary);
    }
    
    .btn-secondary:hover {
      background-color: #e4e4e4;
    }
    
    .btn-primary {
      background-color: var(--accent-color);
      color: white;
    }
    
    .btn-primary:hover {
      background-color: #16a085;
    }
    
    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    /* Form Actions */
    .form-actions {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 25px;
    }
    
    .btn-copy {
      background-color: var(--secondary-color);
      color: white;
    }
    
    .btn-copy:hover {
      background-color: #2980b9;
    }
    
    .btn-download {
      background-color: var(--primary-color);
      color: white;
    }
    
    .btn-download:hover {
      background-color: #1a2a37;
    }
    
    .copy-message {
      display: none;
      font-size: 14px;
      color: #27ae60;
      margin-left: 10px;
    }
    
    .btn-consult {
      display: block;
      width: 100%;
      margin-top: 15px;
      padding: 12px;
      background-color: var(--primary-color);
      color: white;
      text-decoration: none;
      text-align: center;
      border-radius: 4px;
      font-weight: 500;
      transition: var(--transition);
    }
    
    .btn-consult:hover {
      background-color: #1e2a37;
    }
    
    /* Preview Styles */
    .preview-container {
      flex: 1;
      padding: 25px;
      position: relative;
    }
    
    .preview-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .preview-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--primary-color);
    }
    
    .preview-note {
      font-size: 12px;
      color: var(--text-secondary);
      font-style: italic;
    }
    
    .preview-box {
      height: 700px;
      overflow-y: auto;
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 25px;
      background-color: white;
      font-size: 14px;
      line-height: 1.6;
      color: var(--text-primary);
    }
    
    /* Document Styles */
    .document-template {
      font-family: Arial, sans-serif;
    }
    
    .document-title {
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    
    .document-section {
      margin-bottom: 20px;
    }
    
    .section-title {
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 10px;
      color: var(--primary-color);
    }
    
    .section-content {
      margin-bottom: 15px;
    }
    
    .field-label {
      font-weight: bold;
      display: inline-block;
      margin-right: 5px;
    }
    
    /* Highlight Effect */
    .highlight {
      background-color: #ffff8d;
      transition: background-color 0.5s ease;
    }
    
    /* Responsive Styles */
    @media (max-width: 1024px) {
      .generator-content {
        flex-direction: column;
      }
      
      .form-container {
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        max-height: none;
      }
      
      .preview-box {
        height: 500px;
      }
    }
    
    @media (max-width: 768px) {
      .generator-container {
        margin: 0;
        border-radius: 0;
      }
      
      .generator-header {
        padding: 20px;
      }
      
      .form-actions {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
      }
      
      .copy-message {
        margin-left: 0;
        margin-top: 5px;
        text-align: center;
      }
    }
    
    @media print {
      body {
        background-color: white;
        padding: 0;
      }
      
      .generator-container {
        box-shadow: none;
        border-radius: 0;
      }
      
      .generator-header,
      .form-container,
      .preview-header,
      .form-actions,
      .btn-consult {
        display: none;
      }
      
      .generator-content {
        display: block;
      }
      
      .preview-container {
        padding: 0;
      }
      
      .preview-box {
        height: auto;
        overflow: visible;
        border: none;
        padding: 0;
      }
    }
  </style>
</head>
<body>
  <div class="generator-container">
    <div class="generator-header">
      <h1>AI Data Processing Agreement Generator</h1>
      <p>Create a customized data processing agreement for your AI systems that complies with GDPR and other privacy regulations</p>
    </div>
    
    <!-- Progress Bar -->
    <div class="progress-container">
      <div class="progress-bar-outer">
        <div class="progress-bar-inner" id="progress-bar"></div>
      </div>
    </div>
    
    <div class="generator-content">
      <!-- Form Container -->
      <div class="form-container">
        <form id="dpaForm">
          <!-- Parties Information Section -->
          <div class="form-section active" id="section-parties">
            <h2 class="form-section-title">1. Parties Information</h2>
            
            <div class="form-group">
              <label for="controllerName">Data Controller Name</label>
              <input type="text" id="controllerName" class="form-input" placeholder="Enter data controller's legal name" value="ABC Company, Inc.">
              <div class="form-helper">The entity that determines the purposes and means of processing personal data</div>
            </div>
            
            <div class="form-group">
              <label for="controllerAddress">Data Controller Address</label>
              <input type="text" id="controllerAddress" class="form-input" placeholder="Enter data controller's address" value="123 Business Street, San Francisco, CA 94103, USA">
            </div>
            
            <div class="form-group">
              <label for="processorName">Data Processor Name</label>
              <input type="text" id="processorName" class="form-input" placeholder="Enter data processor's legal name" value="XYZ AI Solutions, LLC">
              <div class="form-helper">The entity processing personal data on behalf of the controller</div>
            </div>
            
            <div class="form-group">
              <label for="processorAddress">Data Processor Address</label>
              <input type="text" id="processorAddress" class="form-input" placeholder="Enter data processor's address" value="456 Tech Avenue, Seattle, WA 98101, USA">
            </div>
            
            <div class="form-group">
              <label for="effectiveDate">Effective Date</label>
              <input type="date" id="effectiveDate" class="form-input" value="2025-04-01">
            </div>
            
            <div class="form-navigation">
              <div></div> <!-- Empty div for space justification -->
              <button type="button" class="btn btn-primary" onclick="nextSection('section-ai-details')">Next →</button>
            </div>
          </div>
          
          <!-- AI Processing Details Section -->
          <div class="form-section" id="section-ai-details">
            <h2 class="form-section-title">2. AI Processing Details</h2>
            
            <div class="form-group">
              <label for="aiSystemType">AI System Type</label>
              <select id="aiSystemType" class="form-input">
                <option value="llm" selected>Large Language Model (LLM)</option>
                <option value="image">Image Generation/Recognition AI</option>
                <option value="voice">Voice Recognition/Processing AI</option>
                <option value="decision">Automated Decision-Making System</option>
                <option value="analytics">Predictive Analytics AI</option>
                <option value="custom">Custom/Specialized AI System</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="aiSystemDescription">AI System Description</label>
              <textarea id="aiSystemDescription" class="form-input" placeholder="Describe the AI system and its functionality">A natural language processing system that responds to user queries, generates content, and performs language-based tasks using machine learning algorithms.</textarea>
            </div>
            
            <div class="form-group">
              <label for="processingPurpose">Purpose of Processing</label>
              <textarea id="processingPurpose" class="form-input" placeholder="Describe the purpose of data processing">To provide conversational AI services to users, generate responses to queries, create content based on prompts, assist with writing tasks, and perform language-based analysis.</textarea>
            </div>
            
            <div class="form-group">
              <label for="dataCategories">Categories of Personal Data</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="dataCategories" value="userInput" checked>
                  <div class="option-content">
                    <span class="option-label">User Input Data</span>
                    <span class="option-description">Queries, prompts, and commands submitted by users</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="dataCategories" value="userIds" checked>
                  <div class="option-content">
                    <span class="option-label">User Identifiers</span>
                    <span class="option-description">User IDs, account information, email addresses</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataCategories" value="content">
                  <div class="option-content">
                    <span class="option-label">User-Generated Content</span>
                    <span class="option-description">Documents, images, or other content uploaded by users</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataCategories" value="usage">
                  <div class="option-content">
                    <span class="option-label">Usage Data</span>
                    <span class="option-description">Session information, interaction logs, feature usage patterns</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataCategories" value="location">
                  <div class="option-content">
                    <span class="option-label">Location Data</span>
                    <span class="option-description">IP addresses, geographic location information</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataCategories" value="biometric">
                  <div class="option-content">
                    <span class="option-label">Biometric Data</span>
                    <span class="option-description">Voice data, facial recognition data, other biometric identifiers</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataCategories" value="sensitive">
                  <div class="option-content">
                    <span class="option-label">Special Categories of Data</span>
                    <span class="option-description">Health data, religious beliefs, political opinions, etc.</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="dataSubjects">Categories of Data Subjects</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="dataSubjects" value="customers" checked>
                  <div class="option-content">
                    <span class="option-label">Customers/Users</span>
                    <span class="option-description">End users of the AI service</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataSubjects" value="employees">
                  <div class="option-content">
                    <span class="option-label">Employees</span>
                    <span class="option-description">Staff members of the controller</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataSubjects" value="partners">
                  <div class="option-content">
                    <span class="option-label">Business Partners</span>
                    <span class="option-description">Vendors, suppliers, business partners</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataSubjects" value="children">
                  <div class="option-content">
                    <span class="option-label">Children</span>
                    <span class="option-description">Individuals under 16 years of age</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="dataSubjects" value="vulnerable">
                  <div class="option-content">
                    <span class="option-label">Vulnerable Individuals</span>
                    <span class="option-description">Elderly, disabled, or other vulnerable populations</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" onclick="prevSection('section-parties')">← Back</button>
              <button type="button" class="btn btn-primary" onclick="nextSection('section-obligations')">Next →</button>
            </div>
          </div>
          
          <!-- Obligations and Rights Section -->
          <div class="form-section" id="section-obligations">
            <h2 class="form-section-title">3. Obligations and Rights</h2>
            
            <div class="form-group">
              <label for="processorObligations">Processor Obligations</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="instructions" checked>
                  <div class="option-content">
                    <span class="option-label">Process Only on Documented Instructions</span>
                    <span class="option-description">The processor will only process data based on controller&#8217;s instructions</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="confidentiality" checked>
                  <div class="option-content">
                    <span class="option-label">Confidentiality Commitment</span>
                    <span class="option-description">Ensure authorized persons commit to confidentiality</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="security" checked>
                  <div class="option-content">
                    <span class="option-label">Security Measures</span>
                    <span class="option-description">Implement appropriate technical and organizational security measures</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="subprocessors" checked>
                  <div class="option-content">
                    <span class="option-label">Sub-processor Management</span>
                    <span class="option-description">Obtain authorization before engaging sub-processors</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="dataSubjectRights" checked>
                  <div class="option-content">
                    <span class="option-label">Data Subject Rights Assistance</span>
                    <span class="option-description">Help controller respond to data subject requests</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="breach" checked>
                  <div class="option-content">
                    <span class="option-label">Data Breach Notification</span>
                    <span class="option-description">Notify controller of data breaches</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="deletion" checked>
                  <div class="option-content">
                    <span class="option-label">Data Deletion/Return</span>
                    <span class="option-description">Delete or return data upon contract termination</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="compliance" checked>
                  <div class="option-content">
                    <span class="option-label">Compliance Demonstration</span>
                    <span class="option-description">Demonstrate compliance with GDPR and this DPA</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="processorObligations" value="impact" checked>
                  <div class="option-content">
                    <span class="option-label">Impact Assessment</span>
                    <span class="option-description">Assist with data protection impact assessments</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="trainingRights">AI Training Rights</label>
              <select id="trainingRights" class="form-input">
                <option value="none">No Right to Use Data for Training</option>
                <option value="limited" selected>Limited Right to Use Data for Training</option>
                <option value="full">Full Right to Use Data for Training</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="trainingDetails">AI Training Details</label>
              <textarea id="trainingDetails" class="form-input" placeholder="Specify details of data use for AI training">Processor may use Controller&#8217;s data to improve the AI system&#8217;s functionality through model training, provided that: (1) all personal data is anonymized or aggregated; (2) no identifiable information of data subjects is retained; (3) training does not compromise confidentiality or security of the data; and (4) Controller has the right to opt out of this use with 30 days&#8217; written notice.</textarea>
            </div>
            
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" onclick="prevSection('section-ai-details')">← Back</button>
              <button type="button" class="btn btn-primary" onclick="nextSection('section-security')">Next →</button>
            </div>
          </div>
          
          <!-- Security Measures Section -->
          <div class="form-section" id="section-security">
            <h2 class="form-section-title">4. Security Measures</h2>
            
            <div class="form-group">
              <label for="securityMeasures">Technical and Organizational Measures</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="securityMeasures" value="encryption" checked>
                  <div class="option-content">
                    <span class="option-label">Encryption</span>
                    <span class="option-description">Data encryption in transit and at rest</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="securityMeasures" value="access" checked>
                  <div class="option-content">
                    <span class="option-label">Access Controls</span>
                    <span class="option-description">Role-based access controls and authentication</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="securityMeasures" value="pseudonymization" checked>
                  <div class="option-content">
                    <span class="option-label">Pseudonymization/Anonymization</span>
                    <span class="option-description">Techniques to protect identity of data subjects</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="securityMeasures" value="backup" checked>
                  <div class="option-content">
                    <span class="option-label">Backup and Recovery</span>
                    <span class="option-description">Regular backup procedures and recovery capabilities</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="securityMeasures" value="testing" checked>
                  <div class="option-content">
                    <span class="option-label">Testing and Assessment</span>
                    <span class="option-description">Regular testing of security measures</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="securityMeasures" value="monitoring" checked>
                  <div class="option-content">
                    <span class="option-label">Monitoring and Logging</span>
                    <span class="option-description">System monitoring and activity logging</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="securityMeasures" value="certification">
                  <div class="option-content">
                    <span class="option-label">Security Certifications</span>
                    <span class="option-description">ISO 27001, SOC 2, or equivalent certifications</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="securityMeasures" value="training">
                  <div class="option-content">
                    <span class="option-label">Staff Training</span>
                    <span class="option-description">Regular data protection and security training for staff</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="aiSpecificMeasures">AI-Specific Security Measures</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="aiSpecificMeasures" value="modelSecurity" checked>
                  <div class="option-content">
                    <span class="option-label">Model Security</span>
                    <span class="option-description">Measures to prevent model extraction or theft</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="aiSpecificMeasures" value="adversarial" checked>
                  <div class="option-content">
                    <span class="option-label">Adversarial Attack Protection</span>
                    <span class="option-description">Defenses against adversarial examples and attacks</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="aiSpecificMeasures" value="inputFiltering" checked>
                  <div class="option-content">
                    <span class="option-label">Input Filtering/Validation</span>
                    <span class="option-description">Mechanisms to filter sensitive data from inputs</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="aiSpecificMeasures" value="outputSanitization" checked>
                  <div class="option-content">
                    <span class="option-label">Output Sanitization</span>
                    <span class="option-description">Measures to prevent disclosure of personal data in outputs</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="aiSpecificMeasures" value="explainability">
                  <div class="option-content">
                    <span class="option-label">Explainability Mechanisms</span>
                    <span class="option-description">Systems to explain AI decisions and processing</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="aiSpecificMeasures" value="humanOverview">
                  <div class="option-content">
                    <span class="option-label">Human Oversight</span>
                    <span class="option-description">Human review of AI decisions or outputs</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="breachNotification">Data Breach Notification Timeline</label>
              <select id="breachNotification" class="form-input">
                <option value="24">24 Hours</option>
                <option value="48" selected>48 Hours</option>
                <option value="72">72 Hours</option>
                <option value="custom">Custom Timeline</option>
              </select>
            </div>
            
            <div class="form-group" id="customBreachGroup" style="display: none;">
              <label for="customBreachTime">Custom Breach Notification Timeline</label>
              <input type="text" id="customBreachTime" class="form-input" placeholder="Specify custom timeline (e.g., 36 hours)">
            </div>
            
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" onclick="prevSection('section-obligations')">← Back</button>
              <button type="button" class="btn btn-primary" onclick="nextSection('section-audits')">Next →</button>
            </div>
          </div>
          
          <!-- Audits and Compliance Section -->
          <div class="form-section" id="section-audits">
            <h2 class="form-section-title">5. Audits and Compliance</h2>
            
            <div class="form-group">
              <label for="auditRights">Audit Rights</label>
              <select id="auditRights" class="form-input">
                <option value="full">Full Audit Rights</option>
                <option value="limited" selected>Limited Audit Rights</option>
                <option value="certification">Certification/Report Based</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="auditDetails">Audit Details</label>
              <textarea id="auditDetails" class="form-input" placeholder="Specify audit details">Controller may conduct audits of Processor&#8217;s data processing facilities and practices once per year with 30 days&#8217; prior written notice. Audits may be conducted by Controller or by a third-party auditor approved by both parties. Processor will cooperate reasonably with audits, providing necessary information and access to facilities, systems, and staff involved in processing activities. All audits will be conducted during regular business hours with minimal disruption to Processor&#8217;s operations.</textarea>
            </div>
            
            <div class="form-group">
              <label for="complianceDocumentation">Required Compliance Documentation</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="complianceDocumentation" value="processingRecords" checked>
                  <div class="option-content">
                    <span class="option-label">Records of Processing Activities</span>
                    <span class="option-description">Documentation of all processing activities</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="complianceDocumentation" value="riskAssessments" checked>
                  <div class="option-content">
                    <span class="option-label">Risk Assessments</span>
                    <span class="option-description">Data protection impact assessments and risk analyses</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="complianceDocumentation" value="securityReports">
                  <div class="option-content">
                    <span class="option-label">Security Assessment Reports</span>
                    <span class="option-description">Regular security audit reports</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="complianceDocumentation" value="certifications">
                  <div class="option-content">
                    <span class="option-label">Certifications</span>
                    <span class="option-description">Copies of relevant security/privacy certifications</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="complianceDocumentation" value="subProcessorAgreements">
                  <div class="option-content">
                    <span class="option-label">Sub-processor Agreements</span>
                    <span class="option-description">Copies of agreements with sub-processors</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="complianceDocumentation" value="trainingRecords">
                  <div class="option-content">
                    <span class="option-label">Staff Training Records</span>
                    <span class="option-description">Records of data protection training for staff</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="regularReporting">Regular Reporting Requirements</label>
              <select id="regularReporting" class="form-input">
                <option value="none">No Regular Reports Required</option>
                <option value="quarterly">Quarterly Reports</option>
                <option value="biannual" selected>Bi-annual Reports</option>
                <option value="annual">Annual Reports</option>
              </select>
            </div>
            
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" onclick="prevSection('section-security')">← Back</button>
              <button type="button" class="btn btn-primary" onclick="nextSection('section-transfers')">Next →</button>
            </div>
          </div>
          
          <!-- Data Transfers Section -->
          <div class="form-section" id="section-transfers">
            <h2 class="form-section-title">6. Data Transfers</h2>
            
            <div class="form-group">
              <label for="dataLocation">Data Storage Location</label>
              <select id="dataLocation" class="form-input">
                <option value="eu">European Union Only</option>
                <option value="eea">European Economic Area Only</option>
                <option value="us" selected>United States</option>
                <option value="global">Global (Multiple Locations)</option>
                <option value="custom">Custom Location</option>
              </select>
            </div>
            
            <div class="form-group" id="customLocationGroup" style="display: none;">
              <label for="customLocation">Custom Data Storage Location</label>
              <input type="text" id="customLocation" class="form-input" placeholder="Specify custom location">
            </div>
            
            <div class="form-group">
              <label for="transferMechanism">International Transfer Mechanism</label>
              <select id="transferMechanism" class="form-input">
                <option value="none">No International Transfers</option>
                <option value="adequacy">Adequacy Decision</option>
                <option value="sccs" selected>Standard Contractual Clauses (SCCs)</option>
                <option value="btr">Binding Corporate Rules</option>
                <option value="certification">Certification Mechanism</option>
                <option value="multiple">Multiple Mechanisms</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="transferDetails">Transfer Details</label>
              <textarea id="transferDetails" class="form-input" placeholder="Specify details of international transfers">Transfers of personal data outside the EEA will be governed by the Standard Contractual Clauses (Module Two: Controller to Processor) adopted by the European Commission on June 4, 2021. Processor will implement appropriate supplementary measures as needed to ensure an essentially equivalent level of data protection as guaranteed within the EEA. These measures include strong encryption, pseudonymization where feasible, and contractual measures ensuring data subject rights are enforceable in the destination country.</textarea>
            </div>
            
            <div class="form-group">
              <label for="thirdCountryAccess">Third Country Government Access Provisions</label>
              <select id="thirdCountryAccess" class="form-input">
                <option value="none">No Specific Provisions</option>
                <option value="standard" selected>Standard Provisions</option>
                <option value="extensive">Extensive Provisions</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="accessDetails">Government Access Details</label>
              <textarea id="accessDetails" class="form-input" placeholder="Specify details for government access requests">Processor will promptly notify Controller of any legally binding request for disclosure of personal data by a public authority unless prohibited from doing so. If Processor is prohibited from notifying Controller, it will use its best efforts to obtain a waiver of the prohibition. Processor will challenge any general prohibition against notification of data access requests. Processor will not provide voluntary access to personal data without Controller&#8217;s prior consent. Processor will provide the minimum amount of information permissible when responding to a request for disclosure.</textarea>
            </div>
            
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" onclick="prevSection('section-audits')">← Back</button>
              <button type="button" class="btn btn-primary" onclick="nextSection('section-term')">Next →</button>
            </div>
          </div>
          
          <!-- Term and Liability Section -->
          <div class="form-section" id="section-term">
            <h2 class="form-section-title">7. Term and Liability</h2>
            
            <div class="form-group">
              <label for="agreementTerm">Agreement Term</label>
              <select id="agreementTerm" class="form-input">
                <option value="services">Coterminous with Service Agreement</option>
                <option value="1year">1 Year</option>
                <option value="2years" selected>2 Years</option>
                <option value="3years">3 Years</option>
                <option value="5years">5 Years</option>
                <option value="indefinite">Indefinite (Until Terminated)</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="terminationRights">Termination Rights</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="terminationRights" value="breach" checked>
                  <div class="option-content">
                    <span class="option-label">Material Breach</span>
                    <span class="option-description">Right to terminate for material breach</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="terminationRights" value="convenience" checked>
                  <div class="option-content">
                    <span class="option-label">Convenience</span>
                    <span class="option-description">Right to terminate for convenience with notice</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="terminationRights" value="regulatory" checked>
                  <div class="option-content">
                    <span class="option-label">Regulatory Changes</span>
                    <span class="option-description">Right to terminate due to regulatory changes</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="terminationRights" value="insolvency">
                  <div class="option-content">
                    <span class="option-label">Insolvency</span>
                    <span class="option-description">Right to terminate upon insolvency</span>
                  </div>
                </label>
                
                <label class="option-item">
                  <input type="checkbox" name="terminationRights" value="change">
                  <div class="option-content">
                    <span class="option-label">Change of Control</span>
                    <span class="option-description">Right to terminate upon change of control</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="liabilityLimit">Liability Limitation</label>
              <select id="liabilityLimit" class="form-input">
                <option value="unlimited">Unlimited Liability</option>
                <option value="contract">Limited to Contract Value</option>
                <option value="specific" selected>Specific Cap</option>
                <option value="insurance">Tied to Insurance Coverage</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="liabilityAmount">Liability Cap Amount</label>
              <input type="text" id="liabilityAmount" class="form-input" placeholder="Enter liability cap amount" value="$2,000,000">
            </div>
            
            <div class="form-group">
              <label for="indemnification">Indemnification Provisions</label>
              <select id="indemnification" class="form-input">
                <option value="none">No Indemnification</option>
                <option value="processor">Processor Indemnifies Controller</option>
                <option value="controller">Controller Indemnifies Processor</option>
                <option value="mutual" selected>Mutual Indemnification</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="survivingClauses">Surviving Clauses</label>
              <div class="options-group">
                <label class="option-item selected">
                  <input type="checkbox" name="survivingClauses" value="confidentiality" checked>
                  <div class="option-content">
                    <span class="option-label">Confidentiality</span>
                    <span class="option-description">Confidentiality obligations survive termination</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="survivingClauses" value="liability" checked>
                  <div class="option-content">
                    <span class="option-label">Liability Limitations</span>
                    <span class="option-description">Liability provisions survive termination</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="survivingClauses" value="indemnification" checked>
                  <div class="option-content">
                    <span class="option-label">Indemnification</span>
                    <span class="option-description">Indemnification obligations survive termination</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="survivingClauses" value="dispute" checked>
                  <div class="option-content">
                    <span class="option-label">Dispute Resolution</span>
                    <span class="option-description">Dispute resolution provisions survive termination</span>
                  </div>
                </label>
                
                <label class="option-item selected">
                  <input type="checkbox" name="survivingClauses" value="dataDeletion" checked>
                  <div class="option-content">
                    <span class="option-label">Data Deletion</span>
                    <span class="option-description">Data deletion obligations survive termination</span>
                  </div>
                </label>
              </div>
            </div>
            
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" onclick="prevSection('section-transfers')">← Back</button>
              <button type="button" class="btn btn-primary" onclick="nextSection('section-misc')">Next →</button>
            </div>
          </div>
          
          <!-- Miscellaneous Section -->
          <div class="form-section" id="section-misc">
            <h2 class="form-section-title">8. Miscellaneous Provisions</h2>
            
            <div class="form-group">
              <label for="governingLaw">Governing Law</label>
              <select id="governingLaw" class="form-input">
                <option value="california" selected>California</option>
                <option value="delaware">Delaware</option>
                <option value="newyork">New York</option>
                <option value="gdpr">GDPR Member State</option>
                <option value="uk">United Kingdom</option>
                <option value="other">Other</option>
              </select>
            </div>
            
            <div class="form-group" id="otherLawGroup" style="display: none;">
              <label for="otherLaw">Other Governing Law</label>
              <input type="text" id="otherLaw" class="form-input" placeholder="Specify governing law">
            </div>
            
            <div class="form-group">
              <label for="disputeResolution">Dispute Resolution</label>
              <select id="disputeResolution" class="form-input">
                <option value="courts">Courts</option>
                <option value="arbitration" selected>Arbitration</option>
                <option value="mediation">Mediation then Arbitration</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="disputeLocation">Dispute Resolution Location</label>
              <input type="text" id="disputeLocation" class="form-input" placeholder="Enter location for dispute resolution" value="San Francisco, California">
            </div>
            
            <div class="form-group">
              <label for="noticeMethod">Notice Method</label>
              <select id="noticeMethod" class="form-input">
                <option value="email">Email Only</option>
                <option value="physical">Physical Mail Only</option>
                <option value="both" selected>Email and Physical Mail</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="assignmentRights">Assignment Rights</label>
              <select id="assignmentRights" class="form-input">
                <option value="none">No Assignment</option>
                <option value="consent" selected>Assignment with Consent</option>
                <option value="notification">Assignment with Notification</option>
                <option value="unrestricted">Unrestricted Assignment</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="additionalProvisions">Additional Provisions</label>
              <textarea id="additionalProvisions" class="form-input" placeholder="Enter any additional provisions"></textarea>
            </div>
            
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" onclick="prevSection('section-term')">← Back</button>
              <button type="button" class="btn btn-primary" onclick="showAgreementPreview()">Preview Agreement</button>
            </div>
          </div>
        </form>
        
        <!-- Form Actions -->
        <div class="form-actions" id="formActions" style="display: none;">
          <button type="button" id="copyBtn" class="btn btn-copy">Copy Agreement</button>
          <button type="button" id="downloadBtn" class="btn btn-download">Download as DOCX</button>
          <span id="copyMessage" class="copy-message">Agreement copied!</span>
        </div>
        
        <a href="#" class="btn-consult" onclick="Calendly.initPopupWidget({url: 'https://calendly.com/sergei-tokmakov/30-minute-zoom-meeting'});return false;">
          Schedule Legal Consultation
        </a>
      </div>
      
      <!-- Preview Container -->
      <div class="preview-container">
        <div class="preview-header">
          <div class="preview-title">Agreement Preview</div>
          <div class="preview-note">Updates as you complete the form</div>
        </div>
        
        <div class="preview-box">
          <div class="document-template" id="agreementPreview">
            <!-- Agreement content will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Libraries for DOCX download -->
  <script src="https://cdn.jsdelivr.net/npm/docx@7.8.2/build/index.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  
  <!-- Calendly Integration -->
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
  <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('dpaForm');
      const preview = document.getElementById('agreementPreview');
      const progressBar = document.getElementById('progress-bar');
      const formActions = document.getElementById('formActions');
      const copyBtn = document.getElementById('copyBtn');
      const downloadBtn = document.getElementById('downloadBtn');
      const copyMessage = document.getElementById('copyMessage');
      const previewBox = document.querySelector('.preview-box');
      
      // Track current section and total sections
      const sections = document.querySelectorAll('.form-section');
      let currentSectionIndex = 0;
      const totalSections = sections.length;
      
      // Track highlighted elements
      let highlightedElements = [];
      let highlightTimeout;
      
      // Format date from YYYY-MM-DD to readable format
      function formatDate(dateString) {
        if (!dateString) return '';
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });
      }
      
      // Initialize preview
      updatePreview();
      
      // Handle form input changes
      form.addEventListener('input', function(e) {
        // Clear any existing highlights
        clearHighlights();
        
        // Update preview with the changed field
        updatePreview(e.target.id);
        
        // Hide copy message if visible
        copyMessage.style.display = 'none';
        
        // Handle any special dependencies
        handleDependencies(e.target);
      });
      
      // Handle checkbox changes
      document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          // Toggle the selected class on parent element
          this.closest('.option-item').classList.toggle('selected', this.checked);
          
          // Clear any existing highlights
          clearHighlights();
          
          // Update preview with the changed field
          updatePreview(this.name);
          
          // Hide copy message if visible
          copyMessage.style.display = 'none';
        });
      });
      
      // Make option items clickable
      document.querySelectorAll('.option-item').forEach(item => {
        item.addEventListener('click', function(e) {
          // If clicked directly on the checkbox, don't interfere
          if (e.target.type === 'checkbox') return;
          
          // Find the checkbox inside this option item
          const checkbox = this.querySelector('input[type="checkbox"]');
          if (checkbox) {
            // Toggle checkbox state
            checkbox.checked = !checkbox.checked;
            
            // Toggle selected class
            this.classList.toggle('selected', checkbox.checked);
            
            // Clear highlights and update preview
            clearHighlights();
            updatePreview(checkbox.name);
            
            // Hide copy message if visible
            copyMessage.style.display = 'none';
            
            // Dispatch change event on checkbox
            const event = new Event('change', { bubbles: true });
            checkbox.dispatchEvent(event);
          }
        });
      });
      
      // Handle special dependencies
      function handleDependencies(target) {
        if (!target) return;
        
        const id = target.id;
        const value = target.value;
        
        // Handle breach notification custom timeline
        if (id === 'breachNotification') {
          document.getElementById('customBreachGroup').style.display = 
            value === 'custom' ? 'block' : 'none';
        }
        
        // Handle custom location
        if (id === 'dataLocation') {
          document.getElementById('customLocationGroup').style.display = 
            value === 'custom' ? 'block' : 'none';
        }
        
        // Handle other governing law
        if (id === 'governingLaw') {
          document.getElementById('otherLawGroup').style.display = 
            value === 'other' ? 'block' : 'none';
        }
      }
      
      // Function to navigate to next section
      window.nextSection = function(sectionId) {
        // Hide all sections
        sections.forEach(section => section.classList.remove('active'));
        
        // Show the target section
        const targetSection = document.getElementById(sectionId);
        targetSection.classList.add('active');
        
        // Find the index of the target section
        const newIndex = Array.from(sections).findIndex(section => section.id === sectionId);
        currentSectionIndex = newIndex >= 0 ? newIndex : currentSectionIndex;
        
        // Update progress bar
        updateProgressBar();
        
        // Scroll to top of form
        form.scrollTop = 0;
      };
      
      // Function to navigate to previous section
      window.prevSection = function(sectionId) {
        // Hide all sections
        sections.forEach(section => section.classList.remove('active'));
        
        // Show the target section
        const targetSection = document.getElementById(sectionId);
        targetSection.classList.add('active');
        
        // Find the index of the target section
        const newIndex = Array.from(sections).findIndex(section => section.id === sectionId);
        currentSectionIndex = newIndex >= 0 ? newIndex : currentSectionIndex;
        
        // Update progress bar
        updateProgressBar();
        
        // Scroll to top of form
        form.scrollTop = 0;
      };
      
      // Update progress bar
      function updateProgressBar() {
        const progress = ((currentSectionIndex + 1) / totalSections) * 100;
        progressBar.style.width = `${progress}%`;
      }
      
      // Function to show agreement preview
      window.showAgreementPreview = function() {
        // Hide all sections
        sections.forEach(section => section.classList.remove('active'));
        
        // Show form actions
        formActions.style.display = 'flex';
        
        // Update progress bar to 100%
        progressBar.style.width = '100%';
        
        // Scroll preview to top
        previewBox.scrollTop = 0;
      };
      
      // Function to clear highlights
      function clearHighlights() {
        if (highlightTimeout) {
          clearTimeout(highlightTimeout);
        }
        
        highlightedElements.forEach(element => {
          element.classList.remove('highlight');
        });
        highlightedElements = [];
      }
      
      // Function to update the agreement preview
      function updatePreview(changedField = null) {
        // Get form values
        const controllerName = document.getElementById('controllerName').value;
        const controllerAddress = document.getElementById('controllerAddress').value;
        const processorName = document.getElementById('processorName').value;
        const processorAddress = document.getElementById('processorAddress').value;
        const effectiveDate = formatDate(document.getElementById('effectiveDate').value);
        
        const aiSystemTypeEl = document.getElementById('aiSystemType');
        const aiSystemType = aiSystemTypeEl.options[aiSystemTypeEl.selectedIndex].text;
        const aiSystemDescription = document.getElementById('aiSystemDescription').value;
        const processingPurpose = document.getElementById('processingPurpose').value;
        
        // Get selected data categories
        const dataCategories = [];
        document.querySelectorAll('input[name="dataCategories"]:checked').forEach(checkbox => {
          dataCategories.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        // Get selected data subjects
        const dataSubjects = [];
        document.querySelectorAll('input[name="dataSubjects"]:checked').forEach(checkbox => {
          dataSubjects.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        // Get selected processor obligations
        const processorObligations = [];
        document.querySelectorAll('input[name="processorObligations"]:checked').forEach(checkbox => {
          processorObligations.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        const trainingRightsEl = document.getElementById('trainingRights');
        const trainingRights = trainingRightsEl.options[trainingRightsEl.selectedIndex].text;
        const trainingDetails = document.getElementById('trainingDetails').value;
        
        // Get selected security measures
        const securityMeasures = [];
        document.querySelectorAll('input[name="securityMeasures"]:checked').forEach(checkbox => {
          securityMeasures.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        // Get selected AI-specific measures
        const aiSpecificMeasures = [];
        document.querySelectorAll('input[name="aiSpecificMeasures"]:checked').forEach(checkbox => {
          aiSpecificMeasures.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        const breachNotificationEl = document.getElementById('breachNotification');
        let breachNotification = breachNotificationEl.options[breachNotificationEl.selectedIndex].text;
        if (breachNotification === 'Custom Timeline') {
          breachNotification = document.getElementById('customBreachTime').value;
        }
        
        const auditRightsEl = document.getElementById('auditRights');
        const auditRights = auditRightsEl.options[auditRightsEl.selectedIndex].text;
        const auditDetails = document.getElementById('auditDetails').value;
        
        // Get selected compliance documentation
        const complianceDocumentation = [];
        document.querySelectorAll('input[name="complianceDocumentation"]:checked').forEach(checkbox => {
          complianceDocumentation.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        const regularReportingEl = document.getElementById('regularReporting');
        const regularReporting = regularReportingEl.options[regularReportingEl.selectedIndex].text;
        
        const dataLocationEl = document.getElementById('dataLocation');
        let dataLocation = dataLocationEl.options[dataLocationEl.selectedIndex].text;
        if (dataLocation === 'Custom Location') {
          dataLocation = document.getElementById('customLocation').value;
        }
        
        const transferMechanismEl = document.getElementById('transferMechanism');
        const transferMechanism = transferMechanismEl.options[transferMechanismEl.selectedIndex].text;
        const transferDetails = document.getElementById('transferDetails').value;
        
        const thirdCountryAccessEl = document.getElementById('thirdCountryAccess');
        const thirdCountryAccess = thirdCountryAccessEl.options[thirdCountryAccessEl.selectedIndex].text;
        const accessDetails = document.getElementById('accessDetails').value;
        
        const agreementTermEl = document.getElementById('agreementTerm');
        const agreementTerm = agreementTermEl.options[agreementTermEl.selectedIndex].text;
        
        // Get selected termination rights
        const terminationRights = [];
        document.querySelectorAll('input[name="terminationRights"]:checked').forEach(checkbox => {
          terminationRights.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        const liabilityLimitEl = document.getElementById('liabilityLimit');
        const liabilityLimit = liabilityLimitEl.options[liabilityLimitEl.selectedIndex].text;
        const liabilityAmount = document.getElementById('liabilityAmount').value;
        
        const indemnificationEl = document.getElementById('indemnification');
        const indemnification = indemnificationEl.options[indemnificationEl.selectedIndex].text;
        
        // Get selected surviving clauses
        const survivingClauses = [];
        document.querySelectorAll('input[name="survivingClauses"]:checked').forEach(checkbox => {
          survivingClauses.push(checkbox.closest('.option-item').querySelector('.option-label').textContent);
        });
        
        const governingLawEl = document.getElementById('governingLaw');
        let governingLaw = governingLawEl.options[governingLawEl.selectedIndex].text;
        if (governingLaw === 'Other') {
          governingLaw = document.getElementById('otherLaw').value;
        }
        
        const disputeResolutionEl = document.getElementById('disputeResolution');
        const disputeResolution = disputeResolutionEl.options[disputeResolutionEl.selectedIndex].text;
        const disputeLocation = document.getElementById('disputeLocation').value;
        
        const noticeMethodEl = document.getElementById('noticeMethod');
        const noticeMethod = noticeMethodEl.options[noticeMethodEl.selectedIndex].text;
        
        const assignmentRightsEl = document.getElementById('assignmentRights');
        const assignmentRights = assignmentRightsEl.options[assignmentRightsEl.selectedIndex].text;
        
        const additionalProvisions = document.getElementById('additionalProvisions').value;
        
        // Build the agreement text
        const agreementHtml = `
          <div class="document-title">AI DATA PROCESSING AGREEMENT</div>
          
          <div class="document-section" id="section-parties-info">
            <div class="section-content">
              <p>This AI Data Processing Agreement ("DPA") is entered into as of ${effectiveDate} ("Effective Date"), by and between:</p>
              
              <p><span class="field-label">Data Controller:</span> ${controllerName}, with a principal place of business at ${controllerAddress} ("Controller")</p>
              
              <p><span class="field-label">Data Processor:</span> ${processorName}, with a principal place of business at ${processorAddress} ("Processor")</p>
              
              <p>Each a "Party" and together the "Parties".</p>
              
              <p><b>WHEREAS</b>, Controller wishes to engage Processor to process certain personal data in connection with Processor's provision of AI services to Controller;</p>
              
              <p><b>WHEREAS</b>, the Parties wish to set forth the terms and conditions for the processing of personal data by Processor on behalf of Controller in compliance with applicable data protection laws;</p>
              
              <p><b>NOW, THEREFORE</b>, in consideration of the mutual covenants and agreements contained herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the Parties agree as follows:</p>
            </div>
          </div>
          
          <div class="document-section" id="section-definitions">
            <div class="section-title">1. DEFINITIONS</div>
            <div class="section-content">
              <p>1.1 "Applicable Data Protection Laws" means all laws, regulations, and binding requirements applicable to the Processing of Personal Data under this DPA, including, as applicable, the General Data Protection Regulation (EU) 2016/679 ("GDPR"), the UK GDPR, the California Consumer Privacy Act ("CCPA"), and other data protection laws.</p>
              
              <p>1.2 "Personal Data" means any information relating to an identified or identifiable natural person ('Data Subject') that is processed by Processor on behalf of Controller under this DPA.</p>
              
              <p>1.3 "Processing" means any operation or set of operations performed on Personal Data, whether or not by automated means, such as collection, recording, organization, structuring, storage, adaptation or alteration, retrieval, consultation, use, disclosure by transmission, dissemination or otherwise making available, alignment or combination, restriction, erasure, or destruction.</p>
              
              <p>1.4 "AI System" means the artificial intelligence system(s) provided by Processor to Controller, including ${aiSystemType.toLowerCase()} and related technologies.</p>
              
              <p>1.5 "Data Subject" means an identified or identifiable natural person to whom the Personal Data relates.</p>
              
              <p>1.6 "Data Breach" means a breach of security leading to the accidental or unlawful destruction, loss, alteration, unauthorized disclosure of, or access to, Personal Data transmitted, stored, or otherwise processed.</p>
              
              <p>1.7 "Sub-processor" means any processor engaged by Processor to process Personal Data on behalf of Controller.</p>
              
              <p>1.8 "Supervisory Authority" means an independent public authority established pursuant to Applicable Data Protection Laws.</p>
            </div>
          </div>
          
          <div class="document-section" id="section-processing-details">
            <div class="section-title">2. PROCESSING DETAILS</div>
            <div class="section-content">
              <p>2.1 <span class="field-label">Subject Matter and Duration of Processing:</span> The subject matter of the Processing is the provision of AI services by Processor to Controller. The Processing shall continue for the duration of this DPA.</p>
              
              <p>2.2 <span class="field-label">Nature and Purpose of Processing:</span> The nature and purpose of the Processing is to provide ${aiSystemType.toLowerCase()} services to Controller as follows: ${processingPurpose}</p>
              
              <p>2.3 <span class="field-label">Type of AI System:</span> ${aiSystemType}. ${aiSystemDescription}</p>
              
              <p>2.4 <span class="field-label">Types of Personal Data:</span> The types of Personal Data that may be processed include:
              ${dataCategories.map(category => `<br>• ${category}`).join('')}</p>
              
              <p>2.5 <span class="field-label">Categories of Data Subjects:</span> The categories of Data Subjects whose Personal Data may be processed include:
              ${dataSubjects.map(subject => `<br>• ${subject}`).join('')}</p>
            </div>
          </div>
          
          <div class="document-section" id="section-processor-obligations">
            <div class="section-title">3. PROCESSOR OBLIGATIONS</div>
            <div class="section-content">
              <p>3.1 <span class="field-label">General Obligations:</span> Processor shall:</p>
              <p>
              ${processorObligations.map((obligation, index) => `${String.fromCharCode(97 + index)}. ${obligation};`).join('<br>')}
              </p>
              
              <p>3.2 <span class="field-label">Processing Instructions:</span> Processor shall process Personal Data only on documented instructions from Controller, including with regard to transfers of Personal Data to a third country or international organization, unless required to do so by law. In such a case, Processor shall inform Controller of that legal requirement before processing, unless the law prohibits such information on important grounds of public interest.</p>
              
              <p>3.3 <span class="field-label">Confidentiality:</span> Processor shall ensure that persons authorized to process Personal Data have committed themselves to confidentiality or are under an appropriate statutory obligation of confidentiality.</p>
              
              <p>3.4 <span class="field-label">Sub-processors:</span> Processor shall not engage any Sub-processor without prior specific or general written authorization of Controller. In the case of general written authorization, Processor shall inform Controller of any intended changes concerning the addition or replacement of Sub-processors, thereby giving Controller the opportunity to object to such changes.</p>
              
              <p>3.5 <span class="field-label">Data Subject Rights:</span> Processor shall assist Controller by appropriate technical and organizational measures, insofar as this is possible, for the fulfillment of Controller's obligation to respond to requests for exercising the Data Subject's rights under Applicable Data Protection Laws.</p>
              
              <p>3.6 <span class="field-label">AI Training Rights:</span> ${trainingRights}. ${trainingDetails}</p>
            </div>
          </div>
          
          <div class="document-section" id="section-security-measures">
            <div class="section-title">4. SECURITY MEASURES</div>
            <div class="section-content">
              <p>4.1 <span class="field-label">Technical and Organizational Measures:</span> Processor shall implement appropriate technical and organizational measures to ensure a level of security appropriate to the risk, including, as appropriate:
              ${securityMeasures.map(measure => `<br>• ${measure}`).join('')}</p>
              
              <p>4.2 <span class="field-label">AI-Specific Security Measures:</span> In addition to the measures in Section 4.1, Processor shall implement the following AI-specific security measures:
              ${aiSpecificMeasures.map(measure => `<br>• ${measure}`).join('')}</p>
              
              <p>4.3 <span class="field-label">Data Breach Notification:</span> In the event of a Data Breach, Processor shall notify Controller without undue delay and, in any event, within ${breachNotification} after becoming aware of the breach. The notification shall contain at least:
              <br>a. The nature of the Data Breach, including, where possible, the categories and approximate number of Data Subjects and Personal Data records concerned;
              <br>b. The name and contact details of the data protection officer or other contact point where more information can be obtained;
              <br>c. The likely consequences of the Data Breach;
              <br>d. The measures taken or proposed to be taken to address the Data Breach, including measures to mitigate its possible adverse effects.</p>
              
              <p>4.4 <span class="field-label">Risk Assessment:</span> Processor shall conduct regular risk assessments of its Processing activities to identify and mitigate risks to the rights and freedoms of Data Subjects.</p>
            </div>
          </div>
          
          <div class="document-section" id="section-audits">
            <div class="section-title">5. AUDITS AND COMPLIANCE</div>
            <div class="section-content">
              <p>5.1 <span class="field-label">Audit Rights:</span> ${auditRights}. ${auditDetails}</p>
              
              <p>5.2 <span class="field-label">Compliance Documentation:</span> Processor shall make available to Controller all information necessary to demonstrate compliance with the obligations set forth in this DPA and Applicable Data Protection Laws, including:
              ${complianceDocumentation.map(doc => `<br>• ${doc}`).join('')}</p>
              
              <p>5.3 <span class="field-label">Regular Reporting:</span> ${regularReporting}</p>
              
              <p>5.4 <span class="field-label">Regulatory Cooperation:</span> Processor shall cooperate with any Supervisory Authority in the performance of its tasks, upon request.</p>
              
              <p>5.5 <span class="field-label">Impact Assessments:</span> Processor shall provide reasonable assistance to Controller with any data protection impact assessments and prior consultations with Supervisory Authorities that Controller is required to carry out under Applicable Data Protection Laws.</p>
            </div>
          </div>
          
          <div class="document-section" id="section-data-transfers">
            <div class="section-title">6. DATA TRANSFERS</div>
            <div class="section-content">
              <p>6.1 <span class="field-label">Data Storage Location:</span> Personal Data will be stored in ${dataLocation}.</p>
              
              <p>6.2 <span class="field-label">International Transfer Mechanism:</span> Any transfer of Personal Data to a third country or international organization shall be carried out in accordance with ${transferMechanism}. ${transferDetails}</p>
              
              <p>6.3 <span class="field-label">Government Access Requests:</span> ${thirdCountryAccess}. ${accessDetails}</p>
              
              <p>6.4 <span class="field-label">Supplementary Measures:</span> In the event that the transfer mechanism in Section 6.2 is deemed invalid or insufficient to ensure an adequate level of protection, Processor shall implement additional supplementary measures as necessary to ensure an equivalent level of protection for the Personal Data as provided within the EEA or other applicable jurisdiction.</p>
            </div>
          </div>
          
          <div class="document-section" id="section-term-liability">
            <div class="section-title">7. TERM AND LIABILITY</div>
            <div class="section-content">
              <p>7.1 <span class="field-label">Term:</span> This DPA shall commence on the Effective Date and shall continue for ${agreementTerm}, unless terminated earlier in accordance with this DPA.</p>
              
              <p>7.2 <span class="field-label">Termination:</span> This DPA may be terminated by either Party under the following circumstances:
              ${terminationRights.map((right, index) => `<br>${index + 1}. ${right}`).join('')}</p>
              
              <p>7.3 <span class="field-label">Return or Deletion of Data:</span> Upon termination of this DPA, Processor shall, at the choice of Controller, delete or return all Personal Data to Controller and delete existing copies, unless storage of the Personal Data is required by law.</p>
              
              <p>7.4 <span class="field-label">Liability Limitation:</span> ${liabilityLimit}. ${liabilityLimit === 'Specific Cap' ? `The total liability of either Party under this DPA shall not exceed ${liabilityAmount}.` : ''}</p>
              
              <p>7.5 <span class="field-label">Indemnification:</span> ${indemnification}. Each Party shall defend, indemnify, and hold harmless the other Party from and against all claims, liabilities, costs, and expenses arising from or relating to such Party's breach of this DPA or Applicable Data Protection Laws.</p>
              
              <p>7.6 <span class="field-label">Surviving Provisions:</span> The following provisions shall survive the termination of this DPA:
              ${survivingClauses.map(clause => `<br>• ${clause}`).join('')}</p>
            </div>
          </div>
          
          <div class="document-section" id="section-misc-provisions">
            <div class="section-title">8. MISCELLANEOUS PROVISIONS</div>
            <div class="section-content">
              <p>8.1 <span class="field-label">Governing Law:</span> This DPA shall be governed by and construed in accordance with the laws of ${governingLaw}, without regard to its conflict of laws principles.</p>
              
              <p>8.2 <span class="field-label">Dispute Resolution:</span> Any dispute arising out of or relating to this DPA shall be resolved through ${disputeResolution} in ${disputeLocation}.</p>
              
              <p>8.3 <span class="field-label">Notices:</span> All notices required or permitted under this DPA shall be in writing and delivered by ${noticeMethod}.</p>
              
              <p>8.4 <span class="field-label">Assignment:</span> This DPA may be assigned only with ${assignmentRights}.</p>
              
              <p>8.5 <span class="field-label">Severability:</span> If any provision of this DPA is held to be invalid or unenforceable, the remaining provisions shall continue in full force and effect.</p>
              
              <p>8.6 <span class="field-label">Entire Agreement:</span> This DPA constitutes the entire agreement between the Parties with respect to its subject matter and supersedes all prior agreements, understandings, and communications between the Parties, whether written or oral, relating to the subject matter of this DPA.</p>
              
              <p>8.7 <span class="field-label">Amendment:</span> This DPA may only be amended by a written document signed by both Parties.</p>
              ${additionalProvisions ? `<p>8.8 <span class="field-label">Additional Provisions:</span> ${additionalProvisions}</p>` : ''}
            </div>
          </div>
          
          <div class="document-section" id="section-signatures">
            <div class="section-title">9. SIGNATURES</div>
            <div class="section-content">
              <p>IN WITNESS WHEREOF, the Parties have executed this DPA as of the Effective Date.</p>
              
              <p><span class="field-label">Data Controller:</span> ${controllerName}</p>
              <p style="margin-top: 20px;">By: ______________________________</p>
              <p>Name: ___________________________</p>
              <p>Title: ____________________________</p>
              <p>Date: ____________________________</p>
              
              <p style="margin-top: 40px;"><span class="field-label">Data Processor:</span> ${processorName}</p>
              <p style="margin-top: 20px;">By: ______________________________</p>
              <p>Name: ___________________________</p>
              <p>Title: ____________________________</p>
              <p>Date: ____________________________</p>
            </div>
          </div>
        `;
        
        // Update preview with the agreement HTML
        preview.innerHTML = agreementHtml;
        
        // If a specific field was changed, highlight the relevant text
        if (changedField) {
          highlightChangedText(changedField);
        }
      }
      
      // Function to highlight changed text in the preview
      function highlightChangedText(changedField) {
        // Clear any existing highlights
        clearHighlights();
        
        // Determine which element to highlight based on the changed field
        let targetElements = [];
        
        // Company Information fields
        if (['controllerName', 'controllerAddress', 'processorName', 'processorAddress', 'effectiveDate'].includes(changedField)) {
          const partiesSection = document.querySelector('#section-parties-info .section-content');
          
          if (changedField === 'controllerName' || changedField === 'controllerAddress') {
            // Find the paragraph containing "Data Controller:"
            const paragraphs = partiesSection.querySelectorAll('p');
            paragraphs.forEach(p => {
              if (p.textContent.includes('Data Controller:')) {
                targetElements.push(p);
              }
            });
          } else if (changedField === 'processorName' || changedField === 'processorAddress') {
            // Find the paragraph containing "Data Processor:"
            const paragraphs = partiesSection.querySelectorAll('p');
            paragraphs.forEach(p => {
              if (p.textContent.includes('Data Processor:')) {
                targetElements.push(p);
              }
            });
          } else if (changedField === 'effectiveDate') {
            // Find the first paragraph containing the effective date
            const firstParagraph = partiesSection.querySelector('p');
            if (firstParagraph) {
              targetElements.push(firstParagraph);
            }
          }
        }
        
        // AI Processing Details fields
        else if (['aiSystemType', 'aiSystemDescription', 'processingPurpose'].includes(changedField)) {
          const processingSection = document.querySelector('#section-processing-details .section-content');
          
          if (changedField === 'aiSystemType') {
            // Find paragraphs containing "Type of AI System" or "nature and purpose"
            const paragraphs = processingSection.querySelectorAll('p');
            paragraphs.forEach(p => {
              if (p.textContent.includes('Type of AI System') || p.textContent.includes('nature and purpose')) {
                targetElements.push(p);
              }
            });
          } else if (changedField === 'aiSystemDescription') {
            // Find paragraph containing "Type of AI System"
            const paragraphs = processingSection.querySelectorAll('p');
            paragraphs.forEach(p => {
              if (p.textContent.includes('Type of AI System')) {
                targetElements.push(p);
              }
            });
          } else if (changedField === 'processingPurpose') {
            // Find paragraph containing "Nature and Purpose of Processing"
            const paragraphs = processingSection.querySelectorAll('p');
            paragraphs.forEach(p => {
              if (p.textContent.includes('Nature and Purpose of Processing')) {
                targetElements.push(p);
              }
            });
          }
        }
        
        // Data Categories field
        else if (changedField === 'dataCategories') {
          const dataTypesElement = document.querySelector('#section-processing-details .section-content p:nth-child(4)');
          if (dataTypesElement) {
            targetElements.push(dataTypesElement);
          }
        }
        
        // Data Subjects field
        else if (changedField === 'dataSubjects') {
          const dataSubjectsElement = document.querySelector('#section-processing-details .section-content p:nth-child(5)');
          if (dataSubjectsElement) {
            targetElements.push(dataSubjectsElement);
          }
        }
        
        // Processor Obligations field
        else if (changedField === 'processorObligations') {
          const obligationsElement = document.querySelector('#section-processor-obligations .section-content p:nth-child(1)');
          const obligationsListElement = document.querySelector('#section-processor-obligations .section-content p:nth-child(2)');
          if (obligationsElement && obligationsListElement) {
            targetElements.push(obligationsElement);
            targetElements.push(obligationsListElement);
          }
        }
        
        // Training Rights fields
        else if (['trainingRights', 'trainingDetails'].includes(changedField)) {
          const trainingElement = document.querySelector('#section-processor-obligations .section-content p:nth-child(6)');
          if (trainingElement) {
            targetElements.push(trainingElement);
          }
        }
        
        // Security Measures field
        else if (changedField === 'securityMeasures') {
          const securityElement = document.querySelector('#section-security-measures .section-content p:nth-child(1)');
          if (securityElement) {
            targetElements.push(securityElement);
          }
        }
        
        // AI-Specific Measures field
        else if (changedField === 'aiSpecificMeasures') {
          const aiSecurityElement = document.querySelector('#section-security-measures .section-content p:nth-child(2)');
          if (aiSecurityElement) {
            targetElements.push(aiSecurityElement);
          }
        }
        
        // Breach Notification fields
        else if (['breachNotification', 'customBreachTime'].includes(changedField)) {
          const breachElement = document.querySelector('#section-security-measures .section-content p:nth-child(3)');
          if (breachElement) {
            targetElements.push(breachElement);
          }
        }
        
        // Audit fields
        else if (['auditRights', 'auditDetails'].includes(changedField)) {
          const auditElement = document.querySelector('#section-audits .section-content p:nth-child(1)');
          if (auditElement) {
            targetElements.push(auditElement);
          }
        }
        
        // Compliance Documentation field
        else if (changedField === 'complianceDocumentation') {
          const complianceElement = document.querySelector('#section-audits .section-content p:nth-child(2)');
          if (complianceElement) {
            targetElements.push(complianceElement);
          }
        }
        
        // Regular Reporting field
        else if (changedField === 'regularReporting') {
          const reportingElement = document.querySelector('#section-audits .section-content p:nth-child(3)');
          if (reportingElement) {
            targetElements.push(reportingElement);
          }
        }
        
        // Data Transfer fields
        else if (['dataLocation', 'customLocation'].includes(changedField)) {
          const locationElement = document.querySelector('#section-data-transfers .section-content p:nth-child(1)');
          if (locationElement) {
            targetElements.push(locationElement);
          }
        }
        
        // Transfer Mechanism fields
        else if (['transferMechanism', 'transferDetails'].includes(changedField)) {
          const transferElement = document.querySelector('#section-data-transfers .section-content p:nth-child(2)');
          if (transferElement) {
            targetElements.push(transferElement);
          }
        }
        
        // Government Access fields
        else if (['thirdCountryAccess', 'accessDetails'].includes(changedField)) {
          const accessElement = document.querySelector('#section-data-transfers .section-content p:nth-child(3)');
          if (accessElement) {
            targetElements.push(accessElement);
          }
        }
        
        // Term field
        else if (changedField === 'agreementTerm') {
          const termElement = document.querySelector('#section-term-liability .section-content p:nth-child(1)');
          if (termElement) {
            targetElements.push(termElement);
          }
        }
        
        // Termination Rights field
        else if (changedField === 'terminationRights') {
          const terminationElement = document.querySelector('#section-term-liability .section-content p:nth-child(2)');
          if (terminationElement) {
            targetElements.push(terminationElement);
          }
        }
        
        // Liability fields
        else if (['liabilityLimit', 'liabilityAmount'].includes(changedField)) {
          const liabilityElement = document.querySelector('#section-term-liability .section-content p:nth-child(4)');
          if (liabilityElement) {
            targetElements.push(liabilityElement);
          }
        }
        
        // Indemnification field
        else if (changedField === 'indemnification') {
          const indemnificationElement = document.querySelector('#section-term-liability .section-content p:nth-child(5)');
          if (indemnificationElement) {
            targetElements.push(indemnificationElement);
          }
        }
        
        // Surviving Clauses field
        else if (changedField === 'survivingClauses') {
          const survivingElement = document.querySelector('#section-term-liability .section-content p:nth-child(6)');
          if (survivingElement) {
            targetElements.push(survivingElement);
          }
        }
        
        // Governing Law fields
        else if (['governingLaw', 'otherLaw'].includes(changedField)) {
          const lawElement = document.querySelector('#section-misc-provisions .section-content p:nth-child(1)');
          if (lawElement) {
            targetElements.push(lawElement);
          }
        }
        
        // Dispute Resolution fields
        else if (['disputeResolution', 'disputeLocation'].includes(changedField)) {
          const disputeElement = document.querySelector('#section-misc-provisions .section-content p:nth-child(2)');
          if (disputeElement) {
            targetElements.push(disputeElement);
          }
        }
        
        // Notice Method field
        else if (changedField === 'noticeMethod') {
          const noticeElement = document.querySelector('#section-misc-provisions .section-content p:nth-child(3)');
          if (noticeElement) {
            targetElements.push(noticeElement);
          }
        }
        
        // Assignment field
        else if (changedField === 'assignmentRights') {
          const assignmentElement = document.querySelector('#section-misc-provisions .section-content p:nth-child(4)');
          if (assignmentElement) {
            targetElements.push(assignmentElement);
          }
        }
        
        // Additional Provisions field
        else if (changedField === 'additionalProvisions') {
          // Find the paragraph for additional provisions if it exists
          const additionalElement = document.querySelector('#section-misc-provisions .section-content p:nth-child(8)');
          if (additionalElement) {
            targetElements.push(additionalElement);
          }
        }
        
        // Apply highlight effect to target elements
        if (targetElements.length > 0) {
          targetElements.forEach(element => {
            element.classList.add('highlight');
            highlightedElements.push(element);
          });
          
          // Check if we need to scroll to the element
          const firstElement = targetElements[0];
          const elementRect = firstElement.getBoundingClientRect();
          const previewRect = previewBox.getBoundingClientRect();
          
          // If element is not fully visible in the preview box
          if (elementRect.top < previewRect.top || elementRect.bottom > previewRect.bottom) {
            // Scroll to make the element visible
            firstElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
          
          // Set timeout to remove highlight after 5 seconds
          highlightTimeout = setTimeout(() => {
            clearHighlights();
          }, 5000);
        }
      }
      
      // Handle copy button click
      copyBtn.addEventListener('click', function() {
        const agreementText = preview.innerText;
        
        // Copy to clipboard
        navigator.clipboard.writeText(agreementText).then(function() {
          copyMessage.style.display = 'inline-block';
          
          // Hide message after 3 seconds
          setTimeout(() => {
            copyMessage.style.display = 'none';
          }, 3000);
        }).catch(function(err) {
          console.error('Could not copy text: ', err);
          alert('Failed to copy agreement. Please try selecting and copying the text manually.');
        });
      });
      
      // Handle download button click
      downloadBtn.addEventListener('click', function() {
        generateDocx();
      });
      
      // Function to generate DOCX file
      function generateDocx() {
        try {
          // Access docx library
          const docx = window.docx;
          if (!docx) {
            throw new Error("DOCX library not loaded");
          }
          
          // Get controller and processor names for filename
          const controllerName = document.getElementById('controllerName').value;
          const processorName = document.getElementById('processorName').value;
          const filename = `AI_DPA_${controllerName.replace(/[^a-z0-9]/gi, '_')}_${processorName.replace(/[^a-z0-9]/gi, '_')}.docx`;
          
          // Create paragraphs array from the preview content
          const paragraphs = [];
          
          // Add title
          paragraphs.push(
            new docx.Paragraph({
              alignment: docx.AlignmentType.CENTER,
              spacing: {
                before: 400,
                after: 400
              },
              children: [
                new docx.TextRun({
                  text: "AI DATA PROCESSING AGREEMENT",
                  bold: true,
                  size: 32
                })
              ]
            })
          );
          
          // Add spacing
          paragraphs.push(new docx.Paragraph({ text: "" }));
          
          // Parse the preview HTML and convert to DOCX paragraphs
          const sections = document.querySelectorAll('.document-section');
          
          sections.forEach(section => {
            const sectionTitle = section.querySelector('.section-title');
            const sectionContent = section.querySelector('.section-content');
            
            // Add section title if present
            if (sectionTitle) {
              paragraphs.push(
                new docx.Paragraph({
                  spacing: {
                    before: 300,
                    after: 200
                  },
                  children: [
                    new docx.TextRun({
                      text: sectionTitle.innerText,
                      bold: true,
                      size: 28
                    })
                  ]
                })
              );
            }
            
            // Add section content
            if (sectionContent) {
              const contentParagraphs = sectionContent.querySelectorAll('p');
              contentParagraphs.forEach(p => {
                if (p.innerHTML.includes('<br>')) {
                  // Handle lists with <br> tags
                  const parts = p.innerHTML.split('<br>');
                  parts.forEach(part => {
                    if (part.trim()) {
                      // Create temporary div to parse HTML
                      const tempDiv = document.createElement('div');
                      tempDiv.innerHTML = part;
                      
                      paragraphs.push(
                        new docx.Paragraph({
                          spacing: {
                            before: 120,
                            after: 120
                          },
                          text: tempDiv.innerText
                        })
                      );
                    }
                  });
                } else {
                  // Find field labels if present
                  const fieldLabel = p.querySelector('.field-label');
                  
                  if (fieldLabel) {
                    // Create paragraph with field label in bold
                    paragraphs.push(
                      new docx.Paragraph({
                        spacing: {
                          before: 120,
                          after: 120
                        },
                        children: [
                          new docx.TextRun({
                            text: fieldLabel.innerText + " ",
                            bold: true
                          }),
                          new docx.TextRun({
                            text: p.innerText.replace(fieldLabel.innerText, "")
                          })
                        ]
                      })
                    );
                  } else {
                    // Regular paragraph
                    paragraphs.push(
                      new docx.Paragraph({
                        spacing: {
                          before: 120,
                          after: 120
                        },
                        text: p.innerText
                      })
                    );
                  }
                }
              });
            }
            
            // Add spacing after each section
            paragraphs.push(new docx.Paragraph({ text: "" }));
          });
          
          // Create document
          const doc = new docx.Document({
            styles: {
              default: {
                document: {
                  run: {
                    size: 11 * 2, // 11pt font size (in half-points)
                    font: "Calibri"
                  },
                  paragraph: {
                    spacing: {
                      line: 240, // 1.0x line spacing
                      before: 0,
                      after: 0
                    }
                  }
                }
              }
            },
            sections: [{
              properties: {
                page: {
                  margin: {
                    top: 1440, // 1 inch in twips
                    right: 1440,
                    bottom: 1440,
                    left: 1440
                  }
                }
              },
              children: paragraphs
            }]
          });
          
          // Generate and save document
          docx.Packer.toBlob(doc)
            .then(blob => {
              window.saveAs(blob, filename);
            })
            .catch(error => {
              console.error("Error saving DOCX:", error);
              alert("Unable to download. Please try using the copy button instead.");
            });
        } catch (error) {
          console.error("DOCX generation error:", error);
          alert("Unable to download. Please try using the copy button instead.");
        }
      }
    });
  </script>
</body>
</html>



<p></p>



<h1 class="wp-block-heading">A Comprehensive Guide for Regulatory Compliance</h1>



<p>In today&#8217;s data-driven business landscape, artificial intelligence systems are transforming how companies operate, innovate, and deliver value. However, with these technological advances come significant legal and regulatory responsibilities, particularly regarding the processing of personal data. The AI Data Processing Agreement (DPA) Generator addresses this critical need by creating customized legal agreements that establish clear boundaries for AI data processing while ensuring compliance with GDPR, CCPA, and other privacy regulations.</p>



<h2 class="wp-block-heading">Understanding AI Data Processing Agreements</h2>



<h3 class="wp-block-heading">Why AI Systems Require Specialized Agreements</h3>



<p>Traditional data processing agreements were designed for conventional computing systems with predictable, rule-based operations. AI systems, however, introduce unique challenges that standard DPAs often fail to address adequately.</p>



<p>AI systems differ from traditional data processing in several fundamental ways. They may use data for training purposes beyond immediate service delivery, employ complex statistical methods that make data flows less transparent, and generate new insights that weren&#8217;t explicitly programmed. These characteristics create novel privacy and compliance challenges that require specialized contractual provisions.</p>



<p>When an organization (the controller) engages an AI provider (the processor) to process personal data, both parties need clarity regarding their respective obligations, liabilities, and the specific parameters of permitted data processing. An AI-specific DPA establishes this critical framework.</p>



<h3 class="wp-block-heading">Regulatory Landscape for AI Data Processing</h3>



<p>The regulatory environment for AI systems continues to evolve rapidly. The European Union&#8217;s General Data Protection Regulation (GDPR) remains the global benchmark, but numerous other frameworks now impact AI data processing:</p>



<ul class="wp-block-list">
<li>The California Consumer Privacy Act (CCPA) and California Privacy Rights Act (CPRA)</li>



<li>The EU&#8217;s proposed AI Act</li>



<li>New York&#8217;s SHIELD Act</li>



<li>Canada&#8217;s Consumer Privacy Protection Act</li>



<li>China&#8217;s Personal Information Protection Law</li>
</ul>



<p>Each regulatory framework introduces specific requirements regarding transparency, data subject rights, security measures, and processor obligations. An effective AI DPA must address these varied requirements while remaining flexible enough to adapt to emerging regulations.</p>



<h2 class="wp-block-heading">Key Components of an AI Data Processing Agreement</h2>



<h3 class="wp-block-heading">Parties and Processing Details</h3>



<p>Every DPA begins by clearly identifying the data controller and processor, along with the effective date of the agreement. For AI systems, it&#8217;s crucial to specify:</p>



<ul class="wp-block-list">
<li>The precise nature of the AI system being used (e.g., large language model, computer vision system)</li>



<li>A detailed description of the system&#8217;s functionality and technical characteristics</li>



<li>The specific purposes for which personal data will be processed</li>



<li>Categories of personal data involved</li>



<li>Categories of data subjects affected</li>
</ul>



<p>This foundational information establishes the scope of the agreement and helps determine which regulatory requirements apply. Unlike traditional DPAs, AI agreements must be specific about the system architecture and processing methodologies to ensure appropriate compliance measures.</p>



<h3 class="wp-block-heading">Processor Obligations in AI Contexts</h3>



<p>The processor&#8217;s obligations form the core of any DPA, but AI processing introduces several unique considerations:</p>



<p><strong>Processing Instructions and Limitations:</strong> AI processors must adhere strictly to the controller&#8217;s documented instructions, particularly regarding how data may be used for system training or improvement.</p>



<p><strong>AI Training Rights:</strong> The agreement must explicitly address whether the processor may use controller data to train or improve its AI models. This provision should specify:</p>



<ul class="wp-block-list">
<li>Whether training is permitted at all</li>



<li>What anonymization or aggregation is required before training</li>



<li>Limitations on knowledge transfer between customer datasets</li>



<li>Rights to opt out of model training</li>
</ul>



<p><strong>Data Subject Rights:</strong> AI systems can make it particularly challenging to fulfill certain data subject requests, such as access, deletion, or explanation of automated decisions. The DPA should clearly delineate responsibilities for addressing these requests and the technical measures available.</p>



<p><strong>Subprocessor Management:</strong> AI providers often rely on complex technology stacks with multiple subprocessors. The agreement should establish clear procedures for engaging new subprocessors and ensuring they maintain appropriate safeguards.</p>



<h3 class="wp-block-heading">AI-Specific Security Measures</h3>



<p>Standard security provisions must be supplemented with AI-specific protections:</p>



<p><strong>Model Security:</strong> Measures to prevent model extraction, theft, or unauthorized access to the AI system itself.</p>



<p><strong>Adversarial Attack Protection:</strong> Defenses against inputs designed to manipulate the AI system&#8217;s outputs or behavior.</p>



<p><strong>Input Filtering and Validation:</strong> Controls to prevent sensitive personal data from being processed by the AI system unless explicitly authorized.</p>



<p><strong>Output Sanitization:</strong> Mechanisms to prevent the AI system from inadvertently disclosing personal data in its outputs or responses.</p>



<p><strong>Explainability Mechanisms:</strong> Systems to provide transparency into how the AI reaches decisions or generates outputs, particularly for high-risk applications.</p>



<p><strong>Human Oversight:</strong> Processes for human review of AI outputs or decisions where appropriate.</p>



<p>These specialized security measures address the unique risks associated with AI processing and should be tailored to the specific AI technology in use.</p>



<h3 class="wp-block-heading">International Data Transfers</h3>



<p>AI systems frequently operate across borders, raising complex data transfer issues. A comprehensive AI DPA should address:</p>



<ul class="wp-block-list">
<li>Physical storage locations for personal data</li>



<li>Transfer mechanisms being utilized (SCCs, adequacy decisions, etc.)</li>



<li>Supplementary measures implemented to ensure adequate protection</li>



<li>Specific provisions regarding government access requests in third countries</li>
</ul>



<p>These provisions are particularly important for cloud-based AI services, where data may flow across multiple jurisdictions during processing.</p>



<h2 class="wp-block-heading">Using the AI DPA Generator Effectively</h2>



<p>The AI DPA Generator streamlines the creation of these complex agreements through an intuitive, section-by-section approach. Here&#8217;s how to maximize its effectiveness:</p>



<h3 class="wp-block-heading">Starting with Accurate Party Information</h3>



<p>Enter precise legal names and addresses for both the controller and processor. This information will appear throughout the agreement and is essential for legal validity. The effective date establishes when obligations begin, so select this carefully considering implementation timelines.</p>



<h3 class="wp-block-heading">Defining Your AI System Accurately</h3>



<p>Select the appropriate AI system type from the options provided and provide a detailed description. Be specific about functionality, capabilities, and technical architecture. The more precise this description, the clearer the processing boundaries become.</p>



<p>When defining processing purposes, focus on specific business objectives rather than general capabilities. For example, instead of &#8220;using an LLM,&#8221; specify &#8220;providing customer support automation through conversational AI.&#8221;</p>



<h3 class="wp-block-heading">Customizing Security and Compliance Provisions</h3>



<p>The generator offers extensive options for security measures, compliance documentation, and audit mechanisms. Consider your organization&#8217;s risk profile and regulatory environment when selecting these options. Higher-risk applications (healthcare, financial services) typically warrant more extensive protections and audit rights.</p>



<p>For international data transfers, the generator provides options aligned with current regulatory frameworks. Select the appropriate transfer mechanisms based on your operating jurisdictions and implement supplementary measures as needed.</p>



<h3 class="wp-block-heading">Finalizing Terms and Liability Provisions</h3>



<p>The term and liability sections establish critical boundaries for the business relationship. Consider alignment with your master service agreement, appropriate liability caps based on risk assessment, and termination provisions that allow for orderly transitions.</p>



<p>The miscellaneous provisions section allows for jurisdiction-specific customizations, particularly regarding governing law and dispute resolution. These should align with your broader contractual framework.</p>



<h2 class="wp-block-heading">Best Practices for Implementation</h2>



<h3 class="wp-block-heading">Integration with Existing Agreements</h3>



<p>The AI DPA typically functions as an addendum to a broader service agreement or terms of service. Ensure consistency between documents, particularly regarding:</p>



<ul class="wp-block-list">
<li>Defined terms and their meanings</li>



<li>Liability provisions and caps</li>



<li>Governing law and jurisdiction</li>



<li>Term and termination rights</li>
</ul>



<p>When conflicts arise between agreements, be clear about which provisions take precedence. For data protection matters, the DPA should generally control.</p>



<h3 class="wp-block-heading">Maintaining Documentation and Compliance</h3>



<p>A DPA is only effective if properly implemented. Establish processes for:</p>



<ul class="wp-block-list">
<li>Regular reviews to ensure continued compliance</li>



<li>Documentation of processing activities</li>



<li>Records of security measures implemented</li>



<li>Procedures for data subject requests</li>



<li>Breach notification protocols</li>
</ul>



<p>Maintaining this documentation demonstrates compliance and facilitates smoother audits when required.</p>



<h3 class="wp-block-heading">Planning for Amendments</h3>



<p>Technology and regulatory requirements evolve rapidly in the AI space. Your DPA should include provisions for amendments when:</p>



<ul class="wp-block-list">
<li>The AI system functionality changes significantly</li>



<li>New data categories are processed</li>



<li>Regulatory requirements evolve</li>



<li>Security measures require updating</li>
</ul>



<p>The generator provides language addressing these amendment processes, but implementation planning is equally important.</p>



<h2 class="wp-block-heading">Industry-Specific Considerations</h2>



<h3 class="wp-block-heading">Healthcare and AI</h3>



<p>Healthcare organizations using AI face additional requirements under HIPAA and similar regulations. When using the generator for healthcare applications:</p>



<ul class="wp-block-list">
<li>Select the special categories data option under data categories</li>



<li>Implement extensive security measures, including encryption and access controls</li>



<li>Consider additional obligations regarding de-identification standards</li>



<li>Address specific breach notification timelines applicable to healthcare information</li>
</ul>



<h3 class="wp-block-heading">Financial Services Applications</h3>



<p>For financial institutions, AI data processing may implicate additional regulatory frameworks:</p>



<ul class="wp-block-list">
<li>Consider obligations under GLBA, FCRA, and similar regulations</li>



<li>Address model governance and validation requirements</li>



<li>Implement enhanced audit rights for regulatory examinations</li>



<li>Include provisions addressing algorithmic bias and fairness</li>
</ul>



<h3 class="wp-block-heading">Marketing and Consumer-Facing AI</h3>



<p>Organizations using AI for marketing or consumer-facing applications should pay particular attention to:</p>



<ul class="wp-block-list">
<li>Consent and transparency obligations</li>



<li>Provisions regarding automated decision-making</li>



<li>Rights to object to profiling activities</li>



<li>Data minimization and purpose limitation</li>
</ul>



<p>The generator provides options addressing these concerns, but customization based on specific use cases remains important.</p>



<h2 class="wp-block-heading">FAQ: AI Data Processing Agreements</h2>



<h3 class="wp-block-heading">How does an AI DPA differ from standard data processing agreements?</h3>



<p>Standard DPAs primarily address conventional data processing activities with predictable data flows and clear processing boundaries. AI DPAs must additionally address model training rights, inference processes, potential data amplification through pattern recognition, explainability requirements, and specialized security measures for AI systems.</p>



<p>The distinction is particularly important for large language models and generative AI, where the line between training, fine-tuning, and inference can blur. An AI-specific DPA provides clarity on permissible uses across these different processing stages.</p>



<h3 class="wp-block-heading">Do I need different DPAs for different types of AI systems?</h3>



<p>Yes, different AI technologies introduce distinct privacy and security considerations. Computer vision systems processing biometric data have different risk profiles than text-based systems or recommendation engines. The generator allows customization based on AI system type, with specific provisions for each technology.</p>



<p>I always recommend tailoring your agreement to the specific AI architecture you&#8217;re implementing. A properly configured DPA for a large language model may be inadequate for a facial recognition system or automated decision-making platform.</p>



<h3 class="wp-block-heading">How should I approach the AI training rights section?</h3>



<p>This critical section determines whether the AI provider can use your data to improve their models. Consider your competitive position, data sensitivity, and business relationship before making selections.</p>



<p>For highly sensitive data or proprietary business processes, you might prohibit all training uses. For less sensitive implementations, you might allow limited training with appropriate anonymization and contractual protections. The generator provides options ranging from no training rights to limited or full rights, each with appropriate safeguards.</p>



<p>Remember that model training restrictions may impact pricing or service levels, as many AI providers offer discounts for customers who allow training access.</p>



<h3 class="wp-block-heading">What should I focus on for international data transfers?</h3>



<p>International transfers represent a significant compliance challenge for AI systems, particularly following the Schrems II decision invalidating Privacy Shield. The generator addresses this by providing:</p>



<ul class="wp-block-list">
<li>Options for different transfer mechanisms (SCCs, adequacy decisions, etc.)</li>



<li>Supplementary measure specifications</li>



<li>Government access request provisions</li>
</ul>



<p>Focus on accurately describing data locations, selecting appropriate transfer mechanisms for your jurisdictions, and implementing technical measures (encryption, pseudonymization) to enhance protection during transfers.</p>



<h3 class="wp-block-heading">How often should I update my AI DPA?</h3>



<p>The AI regulatory landscape continues to evolve rapidly. I recommend reviewing your DPA at least annually and whenever:</p>



<ul class="wp-block-list">
<li>You implement significant changes to your AI systems or data processing</li>



<li>New regulations affecting your operations come into force</li>



<li>Your business relationship with the AI provider changes</li>



<li>Security incidents or near-misses reveal potential weaknesses</li>
</ul>



<p>The generator produces agreements with amendment provisions that facilitate regular updates without requiring complete renegotiation.</p>



<h3 class="wp-block-heading">Can the AI DPA Generator accommodate emerging regulations like the EU AI Act?</h3>



<p>The generator incorporates provisions addressing foreseeable obligations under proposed regulations, including risk categorization, transparency requirements, and human oversight provisions. However, as these regulations are finalized, updates may be necessary.</p>



<p>For organizations subject to multiple regulatory frameworks, the generator allows selection of compliance documentation and security measures aligned with the most stringent applicable requirements. This approach provides a degree of future-proofing for evolving regulations.</p>



<h2 class="wp-block-heading">Conclusion</h2>



<p>As AI systems become increasingly central to business operations, the importance of proper data processing agreements cannot be overstated. The AI DPA Generator provides a structured approach to creating comprehensive, customized agreements that address the unique challenges of AI data processing.</p>



<p>By carefully working through each section of the generator, organizations can create agreements that establish clear boundaries for data use, implement appropriate safeguards, and demonstrate compliance with evolving regulatory requirements. This proactive approach not only mitigates legal risks but also builds trust with customers and partners in an increasingly data-conscious business environment.</p>



<p>Remember that while the generator provides a solid foundation, each business relationship and AI implementation has unique characteristics that may warrant customization. When in doubt, schedule a consultation to discuss specific requirements for your AI data processing activities.</p>
</div>
    </article>
  </main>

  <footer><p>© Terms.Law. All rights reserved.</p></footer>
</body>
</html>