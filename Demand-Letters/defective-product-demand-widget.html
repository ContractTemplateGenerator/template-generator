<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Defective Product / Service Demand Letter</title>
<style>
    :root {
        --bg-dark:#0f5257;
        --bg-light:#0b7a75;
        --card:#ffffff;
        --border:#dbe3e5;
        --muted:#5b6870;
        --text:#1f2a34;
        --accent:#0ca678;
        --accent-soft:#e9f6f1;
    }
    *{box-sizing:border-box;font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;}
    body{margin:0;background:linear-gradient(130deg,var(--bg-dark),var(--bg-light));padding:32px;color:var(--text);}    
    .shell{max-width:1200px;margin:0 auto;}
    .widget{background:var(--card);border-radius:22px;box-shadow:0 25px 70px rgba(10,25,32,.2);overflow:hidden;}
    .intro{padding:24px 32px;border-bottom:1px solid var(--border);line-height:1.55;color:var(--muted);font-size:15px;}
    .tabs{display:flex;flex-wrap:wrap;gap:8px;padding:18px 24px;border-bottom:1px solid var(--border);background:#f7fbfb;}
    .tab-btn{border:1px solid var(--border);background:#fff;color:var(--muted);padding:10px 16px;border-radius:999px;font-weight:600;font-size:14px;cursor:pointer;transition:.2s;}
    .tab-btn.active{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 8px 16px rgba(12,166,120,.3);}    
    .tab-view{display:none;padding:28px 32px;line-height:1.6;color:var(--text);}    
    .tab-view.active{display:block;}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;}
    .card{border:1px solid var(--border);border-radius:16px;background:#fff;padding:16px;box-shadow:0 10px 24px rgba(15,26,32,.08);min-height:130px;}
    .tag{display:inline-flex;align-items:center;font-size:12px;font-weight:600;color:#fff;border-radius:999px;padding:2px 10px;margin-bottom:10px;background:var(--accent);}    
    .tag.alt{background:#f08c00;}
    .tag.warn{background:#c92a2a;}
    .tag.cool{background:#1971c2;}
    .list{margin:0;padding-left:18px;color:var(--muted);font-size:14px;}
    .pill{display:flex;gap:10px;padding:12px;border:1px dashed var(--border);border-radius:12px;background:var(--accent-soft);color:var(--muted);margin-top:18px;font-size:13px;}
    .lab{display:flex;flex-wrap:wrap;gap:22px;}
    .form-pane{flex:1 1 360px;background:var(--accent-soft);border:1px solid var(--border);border-radius:18px;padding:18px;max-height:560px;overflow:auto;}
    .form-pane label{display:block;font-weight:600;font-size:13px;margin-top:12px;color:var(--text);}    
    .form-pane input,.form-pane textarea,.form-pane select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #cfd9dc;font-size:14px;background:#fff;color:var(--text);}    
    .form-pane textarea{min-height:70px;}
    .preview-pane{flex:1 1 420px;border:1px solid var(--border);border-radius:18px;background:#fff;padding:18px;max-height:560px;display:flex;flex-direction:column;}
    .preview-box{flex:1;border:1px solid var(--border);border-radius:14px;padding:16px;overflow-y:auto;white-space:pre-wrap;line-height:1.6;font-size:14px;}
    .field-highlight{animation:flash 1.2s ease;}
    @keyframes flash{0%{background:#fff7d1;}100%{background:transparent;}}
    .copy-btn{margin-top:12px;border:none;background:var(--accent);color:#fff;font-weight:600;padding:10px 16px;border-radius:10px;cursor:pointer;box-shadow:0 15px 30px rgba(12,166,120,.35);}    
    #clear-btn{margin-top:14px;border:1px solid var(--border);background:#fff;border-radius:10px;padding:8px 12px;font-weight:600;color:var(--muted);cursor:pointer;}
    @media(max-width:820px){.lab{flex-direction:column;}.form-pane,.preview-pane{max-height:none;}}
</style>
</head>
<body>
<div class="shell">
<div class="widget">
    <div class="intro">Use these panels to translate a defective product or botched service into a demand letter that references warranties, Magnuson–Moss, UCC implied warranties, state consumer statutes, and regulatory escalation options. This generator mirrors the structure judges and regulators expect: chronology → defect → law → demand.</div>
    <div class="tabs">
        <button class="tab-btn active" data-tab="warranties">Warranty Map</button>
        <button class="tab-btn" data-tab="evidence">Evidence Checklist</button>
        <button class="tab-btn" data-tab="escalation">Escalation Routes</button>
        <button class="tab-btn" data-tab="generator">Demand Letter Lab</button>
    </div>
    <div id="warranties" class="tab-view active">
        <div class="grid">
            <div class="card">
                <div class="tag">Express Warranties</div>
                <div>Any factual promise—spec sheet claims, ads, statements on packaging—becomes an express warranty under UCC 2-313 when it forms part of the bargain. Quote the exact statement that failed.</div>
            </div>
            <div class="card">
                <div class="tag alt">Implied Warranty of Merchantability</div>
                <div>UCC 2-314 says products sold by merchants must work for ordinary use. A fridge must cool, a repair must leave the car safe, a sofa must support normal weight.</div>
            </div>
            <div class="card">
                <div class="tag cool">Fitness for Particular Purpose</div>
                <div>When you told the seller you needed something for a specific purpose and relied on their recommendation, UCC 2-315 implies it will work for that purpose.</div>
            </div>
            <div class="card">
                <div class="tag warn">Magnuson–Moss</div>
                <div>Written consumer product warranties are federal promises. Breaches open the door to federal claims and fee shifting for some cases.</div>
            </div>
        </div>
        <div class="pill"><strong>Reminder</strong><div>State add-ons like California’s Song-Beverly Act or CLRA can increase leverage when repairs fail repeatedly or misrepresentations occurred.</div></div>
    </div>
    <div id="evidence" class="tab-view">
        <div class="grid">
            <div class="card">
                <div class="tag">Transaction Proof</div>
                <ul class="list">
                    <li>Receipts, invoices, financing contracts</li>
                    <li>Return policy screenshots, warranty PDFs</li>
                    <li>Advertising copy that influenced the purchase</li>
                </ul>
            </div>
            <div class="card">
                <div class="tag alt">Defect Documentation</div>
                <ul class="list">
                    <li>Photos/videos of the defect</li>
                    <li>Error logs, diagnostic reports, second opinions</li>
                    <li>Notes on safety issues (leaks, fires, injury risk)</li>
                </ul>
            </div>
            <div class="card">
                <div class="tag cool">Prior Contact</div>
                <ul class="list">
                    <li>Email/chat transcripts with the business</li>
                    <li>Service tickets, repair orders, RMA numbers</li>
                    <li>Dates of calls or visits and outcomes</li>
                </ul>
            </div>
            <div class="card">
                <div class="tag warn">Expense Log</div>
                <ul class="list">
                    <li>Towing, diagnostics, rentals, spoiled food</li>
                    <li>Time off work, delivery fees for replacements</li>
                    <li>Any payments made after defect appeared</li>
                </ul>
            </div>
        </div>
    </div>
    <div id="escalation" class="tab-view">
        <div class="grid">
            <div class="card">
                <div class="tag">Regulators</div>
                <div>FTC (unfair practices), CFPB (finance contracts), CPSC (dangerous products), NHTSA (vehicle safety), state consumer offices, CSLB/BAR for services.</div>
            </div>
            <div class="card">
                <div class="tag alt">Small Claims</div>
                <div>Designed for quick, low-cost resolutions. California allows up to $12,500 for individuals with streamlined proof rules.</div>
            </div>
            <div class="card">
                <div class="tag cool">Holder Rule & Finance Companies</div>
                <div>If your contract includes the Holder Rule notice, you can assert seller-related claims against the finance company up to amounts paid.</div>
            </div>
            <div class="card">
                <div class="tag warn">Lemon & Special Statutes</div>
                <div>Song-Beverly (CA), state lemon laws, CLRA or UDAP statutes add damages/fees when repairs fail or services are misrepresented.</div>
            </div>
        </div>
    </div>
    <div id="generator" class="tab-view">
        <div class="lab">
            <form class="form-pane" onsubmit="return false;">
                <label>Consumer Name</label>
                <input id="field-consumer" type="text" placeholder="Jordan Reyes">
                <label>Consumer Address</label>
                <textarea id="field-consumer-address" placeholder="123 Maple St, Sacramento, CA 95816"></textarea>
                <label>Company / Service Provider</label>
                <input id="field-company" type="text" placeholder="Acme Appliance Co.">
                <label>Company Address or email</label>
                <textarea id="field-company-address" placeholder="Legal Dept., 456 Commerce Blvd, Los Angeles, CA 90017"></textarea>
                <label>Product or Service Description</label>
                <input id="field-product" type="text" placeholder="Model XR500 Refrigerator / Brake Repair">
                <label>Purchase / Service Date</label>
                <input id="field-purchase-date" type="date">
                <label>Price Paid</label>
                <input id="field-price" type="number" step="0.01" placeholder="1499.99">
                <label>Payment Method / Contract Notes</label>
                <textarea id="field-payment" placeholder="Financed through CityBank with FTC Holder Rule notice; receipt #A12345."></textarea>
                <label>Promised Features / Warranties Referenced</label>
                <textarea id="field-promises" placeholder="Sold as energy-efficient fridge with 36-month manufacturer warranty promising reliable cooling."></textarea>
                <label>Defect or Service Failure (facts)</label>
                <textarea id="field-defect" placeholder="Within 3 months the fridge stopped cooling below 50°F, spoiling food and tripping error code E7. Two service visits failed to fix it."></textarea>
                <label>Attempts to Resolve / Repair History</label>
                <textarea id="field-attempts" placeholder="Customer support tickets #1123 and #1144, in-home tech on March 4 and March 12 replaced control board without success."></textarea>
                <label>Damages / Costs</label>
                <textarea id="field-damages" placeholder="Lost groceries worth $180, rented mini-fridge $60, missed work half day for tech visits."></textarea>
                <label>Applicable Legal Hooks (optional)</label>
                <textarea id="field-law" placeholder="Express warranty, implied warranty of merchantability, Magnuson–Moss, California CLRA §1770(a)(5), Song-Beverly Civil Code §1790."></textarea>
                <label>Requested Remedy</label>
                <textarea id="field-remedy" placeholder="Full refund of $1,499.99 plus $240 incidental costs, or replacement unit delivered within 10 days."></textarea>
                <label>Regulatory / Escalation Notice</label>
                <textarea id="field-regulators" placeholder="If unresolved, I will file complaints with the FTC, California DCA, and pursue small-claims relief where I will seek damages plus allowable fees."></textarea>
                <label>Response Deadline</label>
                <input id="field-deadline" type="text" placeholder="Respond in writing within 12 days of receipt (by May 30, 2025)">
                <label>Tone</label>
                <select id="field-tone">
                    <option value="neutral" selected>Professional</option>
                    <option value="firm">Firm</option>
                    <option value="cooperative">Cooperative</option>
                </select>
                <button id="clear-btn" type="button">Clear Form</button>
            </form>
            <div class="preview-pane">
                <div id="preview" class="preview-box"></div>
                <button class="copy-btn" type="button" onclick="copyPreview()">Copy Full Letter</button>
            </div>
        </div>
    </div>
</div>
</div>
<script>
const inputs={
    consumer:document.getElementById('field-consumer'),
    consumerAddress:document.getElementById('field-consumer-address'),
    company:document.getElementById('field-company'),
    companyAddress:document.getElementById('field-company-address'),
    product:document.getElementById('field-product'),
    purchaseDate:document.getElementById('field-purchase-date'),
    price:document.getElementById('field-price'),
    payment:document.getElementById('field-payment'),
    promises:document.getElementById('field-promises'),
    defect:document.getElementById('field-defect'),
    attempts:document.getElementById('field-attempts'),
    damages:document.getElementById('field-damages'),
    law:document.getElementById('field-law'),
    remedy:document.getElementById('field-remedy'),
    regulators:document.getElementById('field-regulators'),
    deadline:document.getElementById('field-deadline'),
    tone:document.getElementById('field-tone')
};
const state={consumer:'',consumerAddress:'',company:'',companyAddress:'',product:'',purchaseDate:'',price:'',payment:'',promises:'',defect:'',attempts:'',damages:'',law:'',remedy:'',regulators:'',deadline:'',tone:'neutral'};
const preview=document.getElementById('preview');
const toneMap={
    neutral:'I prefer to resolve this professionally and avoid unnecessary escalation.',
    firm:'If relief is not forthcoming I will enforce my rights without further notice.',
    cooperative:'I hope we can resolve this efficiently without involving third parties.'
};
const highlightMap={
    consumer:'intro',consumerAddress:'intro',company:'intro',companyAddress:'intro',product:'facts',purchaseDate:'facts',price:'facts',payment:'facts',promises:'warr',defect:'defect',attempts:'attempts',damages:'damages',law:'law',remedy:'remedy',regulators:'closing',deadline:'closing',tone:'closing'
};
Object.keys(inputs).forEach(key=>{
    inputs[key].addEventListener('input',()=>{
        state[key]=inputs[key].value.trim();
        updatePreview(key);
    });
});
document.getElementById('clear-btn').addEventListener('click',()=>{
    Object.keys(state).forEach(k=>{state[k]='';});
    state.tone='neutral';
    Object.keys(inputs).forEach(key=>{inputs[key].value = key==='tone'?'neutral':'';});
    updatePreview();
});
function formatCurrency(v){if(!v) return'';const n=Number(v);return n? n.toLocaleString('en-US',{style:'currency',currency:'USD'}):'';}
function section(label, field, text){
    if(!text) return '';
    const labelHTML=label?`<div class="preview-label">${label}</div>`:'';
    const attr=field?` data-field="${field}"`:'';
    return `<div class="preview-section">${labelHTML}<div class="preview-text"${attr}>${text}</div></div>`;
}
function buildSections(){
    const today=new Date().toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});
    const heading=`${state.consumer||'[Your Name]'}\n${state.consumerAddress||'[Your Address]'}\n\n${today}\n\n${state.company||'[Company Name]'}\n${state.companyAddress||'[Company Address]'}`;
    const intro=`Re: ${state.product||'Defective product/service'} purchased on ${state.purchaseDate||'[date]'} for ${formatCurrency(state.price)||'[price]'}\n\nI am writing to demand relief regarding the ${state.product||'item/service'} described above.`;
    const facts=`Transaction details:\n${state.payment||'Payment method / financing terms.'}`;
    const warranty=`Promises and warranties invoked:\n${state.promises||'Marketing and written warranties assured the product would perform as represented.'}`;
    const defect=`Defect or service failure:\n${state.defect||'Describe the defect, dates it appeared, and resulting safety/function issues.'}`;
    const attempts=`Prior contact and attempted repairs:\n${state.attempts||'List support tickets, repair orders, or ignored communications.'}`;
    const damages=`Documented damages and incidental costs:\n${state.damages||'List groceries lost, rentals, diagnostics, towing, lost time, etc.'}`;
    const law=`Legal basis:\n${state.law||'This constitutes breach of express warranty, breach of the implied warranty of merchantability (UCC 2-314), and violation of Magnuson–Moss. State UDAP/lemon provisions also apply.'}`;
    const remedy=`Requested remedy:\n${state.remedy||'Provide refund or replacement and reimburse incidental costs within 10 days.'}`;
    const closing=`${state.deadline||'Please respond in writing within 10 days with your proposed resolution.'} ${toneMap[state.tone]}. ${state.regulators||'Absent relief I will pursue complaints with the FTC/state regulators and file in small claims.'}\n\nEnclosures: receipts, warranty, photos, correspondence, repair orders.\n\nSincerely,\n${state.consumer||'[Your Name]'}`;
    return [
        section('', 'intro', heading),
        section('', 'intro', intro),
        section('Transaction Background', 'facts', facts),
        section('Express / Implied Warranties', 'warr', warranty),
        section('Defect Description', 'defect', defect),
        section('Attempts to Resolve', 'attempts', attempts),
        section('Damages & Incidental Costs', 'damages', damages),
        section('Legal Framework', 'law', law),
        section('Remedy Demanded', 'remedy', remedy),
        section('Deadline & Next Steps', 'closing', closing)
    ].join('');
}
function updatePreview(changed){
    preview.innerHTML=buildSections();
    if(changed){
        const field=highlightMap[changed];
        if(field){
            const target=preview.querySelector(`[data-field="${field}"]`);
            if(target){
                target.classList.remove('field-highlight');
                void target.offsetWidth;
                target.classList.add('field-highlight');
            }
        }
    }
}
function copyPreview(){
    const text=preview.textContent.trim();
    if(!text){alert('Fill in details first.');return;}
    navigator.clipboard.writeText(text).then(()=>alert('Demand letter copied.')).catch(()=>{
        const temp=document.createElement('textarea');
        temp.value=text;document.body.appendChild(temp);temp.select();document.execCommand('copy');document.body.removeChild(temp);
        alert('Demand letter copied.');
    });
}
document.querySelectorAll('.tab-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
        document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
        document.querySelectorAll('.tab-view').forEach(v=>v.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
    });
});
updatePreview();
</script>
</body>
</html>
