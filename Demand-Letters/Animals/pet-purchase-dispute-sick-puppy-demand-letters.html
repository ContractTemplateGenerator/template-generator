<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-901N2Y3CDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-901N2Y3CDZ');
    </script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Pet Purchase Disputes & Sick Puppy Law Demand Letters</title>
<style>.demand-letter-hub{font-family:system-ui,-apple-system,sans-serif;max-width:1000px;margin:0 auto;padding:20px;line-height:1.6;color:#2c3e50}.demand-letter-hub *{box-sizing:border-box}.dl-header{text-align:center;margin-bottom:40px;padding-bottom:30px;border-bottom:3px solid#3498db}.dl-header-title{font-size:2.5em;font-weight:700;margin-bottom:15px;color:#2c3e50}.dl-header-subtitle{font-size:1.2em;color:#7f8c8d;margin:0}.dl-tab-nav{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:30px;border-bottom:2px solid #e0e0e0}.dl-tab-button{flex:1 1 150px;padding:12px 20px;background:#f8f9fa;border:none;cursor:pointer;font-size:15px;font-weight:600;color:#555;transition:all .3s;border-radius:8px 8px 0 0}.dl-tab-button:hover{background:#e9ecef;color:#2c3e50}.dl-tab-button.active{background:#3498db;color:#fff;border-bottom:3px solid #2980b9}.dl-tab-content{display:none;animation:fadeIn .4s}.dl-tab-content.active{display:block}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.content-section{margin-bottom:35px}.section-title{font-size:1.8em;font-weight:700;margin-bottom:20px;color:#2c3e50;padding-bottom:10px;border-bottom:3px solid #3498db}.section-subtitle{font-size:1.4em;font-weight:600;margin:25px 0 15px;color:#34495e}.info-box,.warning-box,.danger-box,.success-box{padding:20px;border-radius:8px;margin:20px 0;border-left:5px solid}.info-box{background:#e8f4f8;border-color:#3498db}.warning-box{background:#fff4e6;border-color:#f39c12}.danger-box{background:#ffe6e6;border-color:#e74c3c}.success-box{background:#e8f8f5;border-color:#27ae60}.styled-list{padding-left:20px}.styled-list li{margin:10px 0;line-height:1.8}.sample-letter{background:#f8f9fa;border:2px solid #dee2e6;border-radius:8px;padding:25px;padding-top:50px;margin:20px 0;font-family:'Courier New',monospace;font-size:14px;line-height:1.8;white-space:pre-wrap;position:relative}.copy-btn{position:sticky;top:10px;float:right;margin-bottom:10px;padding:8px 16px;background:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:13px;font-weight:600;transition:background .3s;z-index:10}.copy-btn:hover{background:#2980b9}.copy-btn.copied{background:#27ae60}table{width:100%;border-collapse:collapse;margin:20px 0}table th,table td{padding:12px;text-align:left;border:1px solid #dee2e6}table th{background:#3498db;color:#fff;font-weight:600}table tr:nth-child(even){background:#f8f9fa}@media(max-width:768px){.dl-header-title{font-size:1.8em}.dl-tab-button{flex:1 1 100%;font-size:14px}.section-title{font-size:1.5em}.sample-letter{font-size:12px;padding:15px}}.breadcrumb{background:#f8fafc;padding:12px 24px;font-size:0.85rem;border-bottom:1px solid #e2e8f0}.breadcrumb a{color:#2563eb;text-decoration:none}.breadcrumb a:hover{text-decoration:underline}.breadcrumb span.separator{color:#94a3b8;margin:0 8px}.breadcrumb span.current{color:#64748b}
/* Generator Styles */
.generator-container{display:grid;grid-template-columns:380px 1fr;gap:24px;margin:20px 0;min-height:800px}
@media(max-width:900px){.generator-container{grid-template-columns:1fr;min-height:auto}}
.gen-form-panel{background:#f8f9fa;border-radius:12px;padding:20px;border:1px solid #e0e0e0;overflow-y:auto;max-height:800px}
.gen-preview-panel{display:flex;flex-direction:column;background:#fff;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.1);overflow:hidden}
.gen-form-section{margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #e0e0e0}
.gen-form-section:last-child{border-bottom:none}
.gen-form-section-title{font-size:0.7rem;font-weight:700;text-transform:uppercase;letter-spacing:0.05em;color:#6b7280;margin-bottom:12px}
.gen-form-group{margin-bottom:12px}
.gen-form-label{display:block;font-size:0.85rem;font-weight:600;color:#374151;margin-bottom:4px}
.gen-form-input,.gen-form-textarea,.gen-form-select{width:100%;padding:10px 12px;font-size:0.9rem;border:1px solid #d1d5db;border-radius:6px;font-family:inherit;transition:border-color 0.2s,box-shadow 0.2s}
.gen-form-input:focus,.gen-form-textarea:focus,.gen-form-select:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px rgba(52,152,219,0.15)}
.gen-form-textarea{min-height:80px;resize:vertical}
.gen-form-row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.gen-form-hint{font-size:0.75rem;color:#6b7280;margin-top:3px}
.gen-preview-toolbar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#f8f9fa;border-bottom:1px solid #e0e0e0}
.gen-toolbar-btn{padding:8px 14px;font-size:0.8rem;font-weight:600;border:1px solid #d1d5db;border-radius:6px;background:#fff;color:#374151;cursor:pointer;transition:all 0.2s;margin-left:6px}
.gen-toolbar-btn:hover{background:#f3f4f6;border-color:#9ca3af}
.gen-toolbar-btn.primary{background:#3498db;border-color:#3498db;color:#fff}
.gen-toolbar-btn.primary:hover{background:#2980b9}
#genDocPreview{font-family:'Times New Roman',Georgia,serif;font-size:14px;line-height:1.8;color:#1a1a1a;padding:40px;flex:1;overflow-y:auto;max-height:700px}
.gen-doc-date{text-align:right;margin-bottom:24px;color:#555}
.gen-doc-address{margin-bottom:24px;line-height:1.5}
.gen-doc-re{margin-bottom:20px;font-weight:600}
.gen-doc-section{font-weight:bold;text-transform:uppercase;margin-top:24px;margin-bottom:12px;font-size:13px}
.gen-doc-p{text-align:justify;margin-bottom:14px}
.gen-doc-list{margin:12px 0 12px 24px}
.gen-doc-list li{margin-bottom:6px}
.gen-doc-deadline{background:#fee2e2;border-left:4px solid #dc2626;padding:12px 16px;margin:16px 0;font-weight:600}
.gen-doc-warning{background:#fef3c7;border-left:4px solid #f59e0b;padding:12px 16px;margin:20px 0;font-size:0.9em}
.gen-doc-sig{margin-top:40px}
.gen-doc-sig-line{border-top:1px solid #333;width:220px;margin-top:50px;padding-top:5px}
.gen-highlight{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);padding:1px 5px;border-radius:3px;border-bottom:2px solid #f59e0b;font-weight:600;cursor:text}
.gen-highlight.empty{background:linear-gradient(135deg,#fee2e2 0%,#fecaca 100%);border-bottom-color:#ef4444;color:#dc2626}
.gen-toast{position:fixed;bottom:24px;right:24px;padding:12px 20px;background:#1f2937;color:#fff;border-radius:8px;font-size:0.85rem;font-weight:500;box-shadow:0 4px 15px rgba(0,0,0,0.2);transform:translateY(80px);opacity:0;transition:all 0.3s ease;z-index:1000}
.gen-toast.visible{transform:translateY(0);opacity:1}
.gen-toast.success{background:#27ae60}
.gen-toolbar-btn.active{background:#10b981;border-color:#10b981;color:#fff}
.gen-edit-toolbar{display:none;align-items:center;gap:8px;padding:8px 16px;background:#f3f4f6;border-bottom:1px solid #e5e7eb}
.gen-edit-toolbar.visible{display:flex}
.gen-edit-btn{padding:6px 12px;font-size:0.8rem;font-weight:600;border:1px solid #d1d5db;border-radius:4px;background:#fff;color:#374151;cursor:pointer}
.gen-edit-btn:hover{background:#f9fafb}
.gen-edit-btn.save{background:#10b981;border-color:#10b981;color:#fff}
.gen-edit-btn.cancel{background:#ef4444;border-color:#ef4444;color:#fff}
#genDocPreview.full-edit-mode{background:#fffef0;border:2px dashed #f59e0b}
.gen-highlight-anim{animation:highlightPulse 1.5s ease-out}
@keyframes highlightPulse{0%{box-shadow:0 0 0 0 rgba(245,158,11,0.7)}70%{box-shadow:0 0 0 10px rgba(245,158,11,0)}100%{box-shadow:0 0 0 0 rgba(245,158,11,0)}}</style>
</head>
<body>
<nav class="breadcrumb"><a href="/">Home</a><span class="separator">‚Ä∫</span><a href="/Demand-Letters/">Demands</a><span class="separator">‚Ä∫</span><a href="/Demand-Letters/Animals/">Animals</a><span class="separator">‚Ä∫</span><span class="current">Pet Purchase Disputes</span></nav>
<div class="demand-letter-hub">
<header class="dl-header">
<div class="dl-header-title">Pet Purchase Disputes & Sick Puppy Law Demand Letters</div>
<p class="dl-header-subtitle">Puppy Lemon Laws | Fraudulent Breeders | Undisclosed Illness | Warranty Claims</p>
</header>

<div style="background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%); border: 1px solid #14b8a6; border-radius: 10px; padding: 16px 20px; margin-bottom: 30px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px;">
<div style="display: flex; align-items: center; gap: 12px;">
<span style="font-size: 24px;">üõ°Ô∏è</span>
<div>
<strong style="color: #0f766e;">Are You a Breeder or Pet Seller?</strong>
<p style="margin: 0; font-size: 14px; color: #115e59;">If you received a sick puppy claim, see our defense guide under California's Puppy Lemon Law.</p>
</div>
</div>
<a href="../respond/animals/california-respond-pet-purchase-dispute.html" style="background: #0f766e; color: white; padding: 10px 18px; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 14px; white-space: nowrap;">View Response Guide ‚Üí</a>
</div>

<nav class="dl-tab-nav">
<button class="dl-tab-button active" onclick="switchTab('tab1',event)">üêï Lemon Laws</button>
<button class="dl-tab-button" onclick="switchTab('tab2',event)">‚öñÔ∏è Legal Claims</button>
<button class="dl-tab-button" onclick="switchTab('tab3',event)">üìÑ Sample Demands</button>
<button class="dl-tab-button" onclick="switchTab('tab4',event)">üó∫Ô∏è State Laws</button>
<button class="dl-tab-button" onclick="switchTab('tab5',event)">üë®‚Äç‚öñÔ∏è Attorney Services</button>
</nav>

<div id="tab1" class="dl-tab-content active">
<div class="content-section">
<div class="section-title">Pet Lemon Laws Overview</div>

<div class="info-box">
<strong>üê∂ Puppy Lemon Laws:</strong> Over 20 states have "pet lemon laws" protecting buyers who purchase sick or defective animals from commercial dealers and breeders. These statutes provide specific remedies when sellers fail to disclose illnesses or genetic defects.
</div>

<div class="section-subtitle">How Pet Lemon Laws Work</div>

<p><strong>Typical statute structure:</strong></p>

<ol class="styled-list">
<li><strong>Sellers must provide disclosures:</strong> Age, vaccination/deworming history, health examination, known defects or illnesses</li>
<li><strong>Buyer examination period:</strong> Usually 7-14 days for infectious diseases; longer (30-365 days) for congenital/hereditary defects</li>
<li><strong>Buyer obtains vet exam:</strong> Must have pet examined by licensed veterinarian within statutory period</li>
<li><strong>If illness/defect diagnosed:</strong> Buyer may elect one of three remedies (varies by state)</li>
</ol>

<div class="section-subtitle">Standard Remedies Under Lemon Laws</div>

<table>
<tr><th>Remedy</th><th>What It Means</th><th>When to Choose</th></tr>
<tr><td>Return for full refund</td><td>Return pet to seller; get purchase price back (may include vet costs to diagnose)</td><td>Pet very sick, prognosis poor, or you can't afford treatment; buyer doesn't want to keep pet</td></tr>
<tr><td>Exchange for comparable animal</td><td>Return sick pet; seller provides healthy replacement of similar breed/value</td><td>You want that breed but this specific pet is too ill; seller has suitable replacement available</td></tr>
<tr><td>Keep pet + reimbursement</td><td>Keep pet; seller reimburses vet bills up to purchase price (or 150% of purchase price in some states)</td><td>You're bonded with pet; pet is treatable; treatment costs less than or equal to cap</td></tr>
</table>

<div class="section-subtitle">Key Requirements & Deadlines</div>

<p><strong>Buyer obligations (must comply or lose rights):</strong></p>

<ul class="styled-list">
<li><strong>Timely vet exam:</strong> Usually within 7-14 days of purchase (varies by state)</li>
<li><strong>Written notice to seller:</strong> Must notify seller in writing of illness/defect, usually within 1-3 days of diagnosis</li>
<li><strong>Vet certificate:</strong> Provide signed certification from licensed vet diagnosing condition and stating it existed at time of sale or within warranty period</li>
<li><strong>Election of remedy:</strong> Choose which remedy you want (refund, exchange, or reimbursement) in written notice</li>
<li><strong>Return of pet (if applicable):</strong> If electing refund or exchange, make pet available for return to seller</li>
</ul>

<div class="warning-box">
<strong>‚ö†Ô∏è Strict Compliance Required:</strong> Pet lemon laws have short deadlines. Miss the vet exam deadline or fail to provide proper written notice and you may lose your statutory rights. Act immediately upon discovering illness.
</div>

<div class="section-subtitle">What Conditions Qualify</div>

<p><strong>Infectious/contagious diseases (short window - usually 7-14 days):</strong></p>
<ul class="styled-list">
<li>Parvovirus, distemper, kennel cough, upper respiratory infections</li>
<li>Parasites (giardia, coccidia, roundworms) if severe enough to require treatment</li>
<li>Any illness veterinarian certifies existed at time of sale or shortly after</li>
</ul>

<p><strong>Congenital/hereditary defects (longer window - 30 days to 1 year):</strong></p>
<ul class="styled-list">
<li>Hip dysplasia, elbow dysplasia, heart defects, liver shunts</li>
<li>Genetic disorders specific to breed</li>
<li>Conditions vet certifies are congenital (present from birth) not acquired after sale</li>
</ul>

<p><strong>What's typically NOT covered:</strong></p>
<ul class="styled-list">
<li>Injuries occurring after purchase</li>
<li>Minor cosmetic issues (wrong color, didn't grow as big as expected)</li>
<li>Behavioral issues (unless neurological disorder)</li>
<li>Illnesses contracted after sale (unless vet certifies incubation period shows it existed at sale)</li>
</ul>

<div class="section-subtitle">Who Is Covered - Seller Requirements</div>

<p><strong>Lemon laws typically apply to:</strong></p>
<ul class="styled-list">
<li><strong>Pet stores</strong></li>
<li><strong>Commercial breeders</strong> (selling more than X puppies per year - threshold varies)</li>
<li><strong>Brokers/dealers</strong> who sell pets they didn't breed</li>
</ul>

<p><strong>Often exempt from lemon laws:</strong></p>
<ul class="styled-list">
<li><strong>Hobby breeders</strong> (selling fewer than statutory threshold, often 1-2 litters/year)</li>
<li><strong>Animal shelters and rescues</strong> (non-profits)</li>
<li><strong>Private party sales</strong> (friend/neighbor selling their dog's puppies)</li>
</ul>

<div class="danger-box">
<strong>üö® Check If Seller Is Covered:</strong> Not all sellers are subject to lemon laws. Commercial dealers = yes. Small hobby breeder = maybe not. If lemon law doesn't apply, you can still pursue breach of warranty, fraud, or consumer protection claims.
</div>

</div>
</div>

<div id="tab2" class="dl-tab-content">
<div class="content-section">
<div class="section-title">Legal Claims Beyond Lemon Laws</div>

<div class="section-subtitle">When Lemon Law Doesn't Apply</div>

<p><strong>If your state has no lemon law OR seller isn't covered OR you missed deadlines, use these theories:</strong></p>

<div class="section-subtitle">1. Breach of Warranty (UCC)</div>

<p><strong>Pets are "goods" under Uniform Commercial Code - warranties apply:</strong></p>

<table>
<tr><th>Warranty Type</th><th>Basis</th><th>Example</th></tr>
<tr><td>Express warranty</td><td>Seller's promises/representations</td><td>"This puppy is healthy and vet-checked." "No genetic defects." "Champion bloodline, suitable for breeding."</td></tr>
<tr><td>Implied warranty of merchantability</td><td>Goods must be fit for ordinary purpose</td><td>Dog must be reasonably healthy and suitable as a pet. Severely ill or genetically defective dog breaches this.</td></tr>
<tr><td>Implied warranty of fitness</td><td>If seller knows buyer's particular purpose, pet must be fit for that purpose</td><td>Told breeder you need service dog prospect; breeder provides dog with hip dysplasia unsuitable for service work.</td></tr>
</table>

<p><strong>Remedies for breach of warranty:</strong> Refund, replacement, or "cover" (cost to obtain substitute pet) + incidental damages (vet bills to diagnose defect)</p>

<div class="section-subtitle">2. Fraud / Misrepresentation</div>

<p><strong>Elements:</strong></p>
<ol class="styled-list">
<li>Seller made false statement of material fact</li>
<li>Seller knew it was false or recklessly disregarded truth</li>
<li>Seller intended you to rely on statement</li>
<li>You relied on statement</li>
<li>You were damaged</li>
</ol>

<p><strong>Common fraudulent misrepresentations:</strong></p>
<ul class="styled-list">
<li><strong>Health certificate fraud:</strong> Falsified or backdated vet exam certificates</li>
<li><strong>Concealment of known illness:</strong> Seller knew puppy was sick, gave medication to hide symptoms, sold anyway</li>
<li><strong>Misrepresented breeding/registration:</strong> Claimed AKC registered when not; lied about parentage; fake pedigree papers</li>
<li><strong>Puppy mill concealment:</strong> Represented as small hobby breeder but actually operates puppy mill</li>
<li><strong>Age misrepresentation:</strong> Sold puppy under 8 weeks claiming it was older (illegal in many states + causes health issues)</li>
</ul>

<p><strong>Remedies:</strong> Rescission (unwind sale, get refund) + consequential damages (vet bills) + possibly punitive damages for intentional fraud</p>

<div class="section-subtitle">3. Consumer Protection / UDAP</div>

<p><strong>State Unfair and Deceptive Acts and Practices (UDAP) statutes prohibit:</strong></p>
<ul class="styled-list">
<li>Deceptive advertising and sales practices</li>
<li>Unconscionable contract terms</li>
<li>Failure to disclose material defects</li>
<li>Bait-and-switch</li>
</ul>

<p><strong>Why UDAP is powerful:</strong></p>
<ul class="styled-list">
<li>Statutory damages (2-3x actual damages in some states)</li>
<li>Attorney fees to prevailing plaintiff</li>
<li>Easier to prove than common law fraud (don't always need to prove intent)</li>
<li>Some states allow class actions for systemic violations</li>
</ul>

<div class="success-box">
<strong>üí° Puppy Mill / Online Seller UDAP Claims:</strong> Attorneys general have pursued puppy mills and deceptive online pet sellers under UDAP statutes. If seller is repeat offender, AG may be interested in your complaint. File complaint with state AG consumer protection division even if pursuing individual claim.
</div>

<div class="section-subtitle">4. Pet Leasing Fraud</div>

<p><strong>Emerging scam: Disguised leasing agreements</strong></p>

<p>Some disreputable pet stores and online sellers use "lease-to-own" contracts where buyer thinks they're purchasing pet but actually signs lease with:
<ul class="styled-list">
<li>Exorbitant interest rates (25-100%+ APR)</li>
<li>Total payments 2-4x retail price of pet</li>
<li>Lessor can repossess pet for missed payment</li>
<li>Buried in fine print or not clearly disclosed</li>
</ul>

<p><strong>Many states now ban or regulate pet leasing:</strong></p>
<ul class="styled-list">
<li>CA, NY, MA prohibit consumer pet leasing</li>
<li>Other states require clear disclosures</li>
<li>Truth in Lending Act (federal) requires disclosures for credit sales</li>
</ul>

<p><strong>If you signed pet lease unknowingly:</strong> Claim fraud, UDAP violation, unconscionability, violation of state pet leasing ban</p>

</div>
</div>

<div id="tab3" class="dl-tab-content">
<div class="content-section">
<div class="section-title">Demand Letter Generator</div>

<div class="generator-container">
<div class="gen-form-panel">

<div class="gen-form-section">
<div class="gen-form-section-title">Claim Type</div>
<div class="gen-form-group">
<label class="gen-form-label">Type of Claim</label>
<select id="genClaimType" class="gen-form-select" onchange="genUpdatePreview();">
<option value="lemon-law">Lemon Law - Sick Puppy</option>
<option value="fraud">Fraud / Misrepresentation</option>
<option value="congenital">Congenital Defect - Warranty</option>
<option value="leasing-fraud">Pet Leasing Fraud</option>
</select>
</div>
<div class="gen-form-group">
<label class="gen-form-label">Your State</label>
<input type="text" id="genState" class="gen-form-input" placeholder="California" oninput="genUpdatePreview()">
</div>
</div>

<div class="gen-form-section">
<div class="gen-form-section-title">Your Information</div>
<div class="gen-form-group">
<label class="gen-form-label">Your Full Name</label>
<input type="text" id="genYourName" class="gen-form-input" placeholder="John Smith" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Your Address</label>
<input type="text" id="genYourAddress" class="gen-form-input" placeholder="123 Main St, City, State ZIP" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Your Email</label>
<input type="email" id="genYourEmail" class="gen-form-input" placeholder="you@email.com" oninput="genUpdatePreview()">
</div>
</div>

<div class="gen-form-section">
<div class="gen-form-section-title">Seller Information</div>
<div class="gen-form-group">
<label class="gen-form-label">Seller Type</label>
<select id="genSellerType" class="gen-form-select" onchange="genUpdatePreview();">
<option value="pet-store">Pet Store</option>
<option value="breeder">Breeder</option>
<option value="online-seller">Online Seller</option>
</select>
</div>
<div class="gen-form-group">
<label class="gen-form-label">Seller/Business Name</label>
<input type="text" id="genSellerName" class="gen-form-input" placeholder="Happy Puppies Pet Store" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Seller Address</label>
<input type="text" id="genSellerAddress" class="gen-form-input" placeholder="456 Pet Lane, City, State ZIP" oninput="genUpdatePreview()">
</div>
</div>

<div class="gen-form-section">
<div class="gen-form-section-title">Pet Information</div>
<div class="gen-form-row">
<div class="gen-form-group">
<label class="gen-form-label">Pet's Name</label>
<input type="text" id="genPetName" class="gen-form-input" placeholder="Buddy" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Breed</label>
<input type="text" id="genPetBreed" class="gen-form-input" placeholder="Golden Retriever" oninput="genUpdatePreview()">
</div>
</div>
<div class="gen-form-row">
<div class="gen-form-group">
<label class="gen-form-label">Purchase Date</label>
<input type="text" id="genPurchaseDate" class="gen-form-input" placeholder="January 15, 2025" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Purchase Price ($)</label>
<input type="text" id="genPurchasePrice" class="gen-form-input" placeholder="2500" oninput="genUpdatePreview()">
</div>
</div>
<div class="gen-form-group">
<label class="gen-form-label">Outcome</label>
<select id="genOutcome" class="gen-form-select" onchange="genUpdatePreview();">
<option value="alive">Pet survived (receiving treatment)</option>
<option value="died">Pet died from illness/defect</option>
</select>
</div>
</div>

<div class="gen-form-section">
<div class="gen-form-section-title">Illness/Defect Details</div>
<div class="gen-form-group">
<label class="gen-form-label">Diagnosis</label>
<input type="text" id="genDiagnosis" class="gen-form-input" placeholder="Parvovirus, hip dysplasia, kennel cough, etc." oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">When Diagnosed</label>
<input type="text" id="genDiagnosisDate" class="gen-form-input" placeholder="January 22, 2025 (7 days after purchase)" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Veterinarian / Clinic Name</label>
<input type="text" id="genVetClinic" class="gen-form-input" placeholder="City Veterinary Hospital, Dr. Jane Smith" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Seller's Original Representations</label>
<textarea id="genSellerClaims" class="gen-form-textarea" placeholder="Seller claimed puppy was 'healthy, vet-checked, vaccinated, AKC registered'" oninput="genUpdatePreview()"></textarea>
</div>
<div class="gen-form-group">
<label class="gen-form-label">Why Representations Were False</label>
<textarea id="genFraudDetails" class="gen-form-textarea" placeholder="Puppy was already sick at sale, no valid health certificate, fake AKC papers, etc." oninput="genUpdatePreview()"></textarea>
</div>
</div>

<div class="gen-form-section">
<div class="gen-form-section-title">Remedy Sought</div>
<div class="gen-form-group">
<label class="gen-form-label">Preferred Remedy</label>
<select id="genRemedy" class="gen-form-select" onchange="genUpdatePreview();">
<option value="refund">Full Refund (return pet)</option>
<option value="reimbursement">Keep Pet + Vet Bill Reimbursement</option>
<option value="exchange">Exchange for Healthy Pet</option>
</select>
</div>
</div>

<div class="gen-form-section">
<div class="gen-form-section-title">Damages</div>
<div class="gen-form-row">
<div class="gen-form-group">
<label class="gen-form-label">Vet Exam/Diagnosis ($)</label>
<input type="text" id="genVetExam" class="gen-form-input" placeholder="350" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Treatment Costs ($)</label>
<input type="text" id="genTreatment" class="gen-form-input" placeholder="1200" oninput="genUpdatePreview()">
</div>
</div>
<div class="gen-form-row">
<div class="gen-form-group">
<label class="gen-form-label">Medications ($)</label>
<input type="text" id="genMedications" class="gen-form-input" placeholder="250" oninput="genUpdatePreview()">
</div>
<div class="gen-form-group">
<label class="gen-form-label">Other Costs ($)</label>
<input type="text" id="genOtherCosts" class="gen-form-input" placeholder="0" oninput="genUpdatePreview()">
</div>
</div>
</div>

</div>

<div class="gen-preview-panel">
<div class="gen-preview-toolbar">
<span style="font-weight:600;color:#374151;">Live Preview</span>
<div>
<button class="gen-toolbar-btn" id="genEditModeBtn" onclick="genToggleEditMode()">‚úèÔ∏è Edit Mode</button>
<button class="gen-toolbar-btn" onclick="genCopyToClipboard()">Copy</button>
<button class="gen-toolbar-btn" onclick="genPrintDocument()">Print</button>
<button class="gen-toolbar-btn primary" onclick="genDownloadDoc()">Download .doc</button>
</div>
</div>
<div class="gen-edit-toolbar" id="genEditToolbar">
<button class="gen-edit-btn" onclick="document.execCommand('bold')"><b>B</b></button>
<button class="gen-edit-btn" onclick="document.execCommand('italic')"><i>I</i></button>
<button class="gen-edit-btn" onclick="document.execCommand('underline')"><u>U</u></button>
<div style="flex:1;"></div>
<button class="gen-edit-btn save" onclick="genSaveEdits()">Save</button>
<button class="gen-edit-btn cancel" onclick="genCancelEdits()">Cancel</button>
</div>
<div id="genDocPreview"></div>
</div>

</div>

</div>
</div>

<div id="tab4" class="dl-tab-content">
<div class="content-section">
<div class="section-title">State-by-State Lemon Laws</div>

<div class="info-box">
<strong>20+ states have pet lemon laws.</strong> Key provisions vary. Check your state's specific statute for deadlines, remedies, and seller coverage.
</div>

<table>
<tr><th>State</th><th>Statute</th><th>Exam Period</th><th>Conditions Covered</th><th>Remedies</th></tr>
<tr><td>California</td><td>Health & Safety Code ¬ß¬ß 122125-122220</td><td>15 days (illness)<br>1 year (congenital)</td><td>Illness, congenital defects</td><td>Refund, exchange, or reimbursement up to purchase price</td></tr>
<tr><td>New York</td><td>Gen. Bus. Law ¬ß 753-a</td><td>14 days (illness)<br>6 months (congenital)</td><td>Illness, congenital defects</td><td>Refund, exchange, or reimbursement up to purchase price</td></tr>
<tr><td>Florida</td><td>Fla. Stat. ¬ß 828.29</td><td>14 days (illness)<br>1 year (congenital)</td><td>Illness, congenital defects certified as likely existing at sale</td><td>Refund, exchange, or reimbursement up to 150% of purchase price</td></tr>
<tr><td>Pennsylvania</td><td>73 P.S. ¬ß 201-9.3</td><td>10 days (illness)<br>30 days (congenital)</td><td>Illness, congenital defects</td><td>Refund, exchange, or reimbursement</td></tr>
<tr><td>New Jersey</td><td>N.J. Stat. ¬ß 56:8-94</td><td>14 days (illness)<br>6 months (congenital)</td><td>Illness, congenital/hereditary defects</td><td>Refund, exchange, or reimbursement up to purchase price</td></tr>
<tr><td>Massachusetts</td><td>Mass. Gen. Laws ch. 140, ¬ß 139A</td><td>14 days (illness)<br>6 months (congenital)</td><td>Illness, congenital/hereditary conditions</td><td>Refund, exchange, or reimbursement</td></tr>
<tr><td>Connecticut</td><td>Conn. Gen. Stat. ¬ß 22-344a</td><td>14 days (illness)<br>180 days (congenital)</td><td>Illness, congenital defects</td><td>Refund, exchange, or reimbursement up to purchase price</td></tr>
<tr><td>Virginia</td><td>Va. Code ¬ß 3.2-6511</td><td>10 days (illness)<br>1 year (congenital)</td><td>Illness, congenital/hereditary defects</td><td>Refund, replacement, or reimbursement</td></tr>
<tr><td>Nevada</td><td>Nev. Rev. Stat. ¬ß 574.430</td><td>10 days (illness)<br>1 year (congenital)</td><td>Illness, congenital abnormalities</td><td>Refund, exchange, or reimbursement</td></tr>
</table>

<div class="warning-box">
<strong>‚ö†Ô∏è If Your State Not Listed:</strong> Check current state statutes - laws change. If no lemon law, pursue breach of warranty, fraud, or UDAP claims.
</div>

<div class="section-subtitle">Common Statutory Elements Across States</div>

<p><strong>Seller disclosure requirements:</strong></p>
<ul class="styled-list">
<li>Written health certificate from licensed vet (exam within X days of sale)</li>
<li>Record of vaccinations and deworming</li>
<li>Disclosure of known illnesses or defects</li>
<li>Breeder/source information</li>
<li>Notice of buyer's rights under lemon law</li>
</ul>

<p><strong>Buyer obligations:</strong></p>
<ul class="styled-list">
<li>Obtain vet exam within statutory period</li>
<li>Provide written notice to seller with vet certification</li>
<li>Preserve puppy's health (continue treatment, don't neglect)</li>
<li>Make pet available for return if seeking refund/exchange</li>
</ul>

<p><strong>Attorney fees provisions:</strong></p>
<ul class="styled-list">
<li>Many states allow prevailing buyer to recover attorney fees</li>
<li>Encourages sellers to settle rather than force litigation</li>
<li>Makes economical to hire lawyer even for modest claims</li>
</ul>

</div>
</div>

<div id="tab5" class="dl-tab-content">
<div class="content-section">
<div class="section-title">Attorney Services</div>

<div class="cta-box">
<div class="cta-title">Purchased Sick Puppy or Defrauded by Breeder?</div>
<p class="cta-text">I represent pet buyers in lemon law claims, fraud cases, and warranty disputes against breeders, pet stores, and online sellers. I'll help you get refunds, reimbursement of vet bills, and hold dishonest sellers accountable.</p>
</div>

<div class="section-subtitle">Services Offered</div>
<ul class="styled-list">
<li>Pet lemon law demand letters and statutory compliance</li>
<li>Breach of warranty claims</li>
<li>Fraud and misrepresentation cases</li>
<li>Consumer protection (UDAP) claims</li>
<li>Pet leasing fraud cases</li>
<li>Puppy mill litigation and class actions</li>
<li>Complaints to state attorneys general and licensing authorities</li>
</ul>

<div class="section-subtitle">Why Pet Purchase Experience Matters</div>

<div class="success-box">
<strong>Specialized Knowledge:</strong> Pet purchase disputes combine animal law, UCC warranties, consumer protection statutes, and state-specific lemon laws. I know how to navigate these overlapping legal frameworks and maximize your recovery. Many cases settle quickly when sellers face attorney demand citing specific statutes.
</div>

<div class="section-subtitle">Fee Structures</div>
<ul class="styled-list">
<li><strong>Demand letter:</strong> Flat fee $450</li>
<li><strong>Contingency (litigation):</strong> 33-40% of recovery</li>
<li><strong>Hourly:</strong> $240/hr</li>
<li><strong>Attorney fees recovery:</strong> Many lemon laws allow prevailing buyer to recover attorney fees from seller</li>
</ul>

<div class="section-subtitle">Contact</div>
<p>Email: <a href="mailto:owner@terms.law">owner@terms.law</a></p>

<div class="calendly-inline-widget" data-url="https://calendly.com/sergei-tokmakov/30-minute-zoom-meeting?hide_gdpr_banner=1" style="min-width:320px;height:700px;"></div>
<script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>

</div>
</div>

</div>

<script>
function switchTab(tabId,event){const allTabs=document.querySelectorAll('.demand-letter-hub .dl-tab-content');const allButtons=document.querySelectorAll('.demand-letter-hub .dl-tab-button');allTabs.forEach(tab=>tab.classList.remove('active'));allButtons.forEach(btn=>btn.classList.remove('active'));document.getElementById(tabId).classList.add('active');event.currentTarget.classList.add('active');window.scrollTo({top:document.querySelector('.demand-letter-hub').offsetTop-20,behavior:'smooth'})}

// Generator state variables
let genLastEditedField = null;
let genIsEditMode = false;
let genSavedHTML = '';
let genHasCustomEdits = false;

// Generator helper functions
function genH(value, placeholder, fieldId) {
    const isEmpty = !value || value.trim() === '';
    const displayValue = isEmpty ? '[' + placeholder + ']' : value;
    const emptyClass = isEmpty ? ' empty' : '';
    return '<span class="gen-highlight' + emptyClass + '" data-field="' + fieldId + '" contenteditable="true">' + displayValue + '</span>';
}

function genTrackEdit(fieldId) {
    if (genHasCustomEdits) {
        if (!confirm('Regenerating will overwrite your custom edits. Continue?')) {
            return false;
        }
    }
    genHasCustomEdits = false;
    return true;
}

function getClaimInfo(claimType) {
    const claims = {
        'lemon-law': {
            title: 'Pet Lemon Law - Sick Puppy Claim',
            subject: 'Pet Lemon Law - Notice of Illness',
            intro: 'This letter provides written notice as required by state pet purchaser protection law of a serious illness affecting the puppy I purchased from you.',
            legalBasis: 'State pet lemon laws protect buyers who purchase sick animals from commercial dealers. These statutes require sellers to provide healthy pets and remedies when they fail to do so.',
            claims: ['Violation of state pet lemon law', 'Failure to disclose known illness', 'Breach of implied warranty of merchantability']
        },
        'fraud': {
            title: 'Fraudulent Misrepresentation',
            subject: 'Fraudulent Misrepresentation - Demand for Rescission',
            intro: 'I am writing regarding the fraudulent misrepresentations you made in connection with my purchase of a puppy from you.',
            legalBasis: 'You knowingly made false statements about this puppy\'s health status, intending me to rely on those statements, which I did to my detriment. This constitutes fraud.',
            claims: ['Fraud and intentional misrepresentation', 'Breach of express warranty', 'Unfair and Deceptive Acts and Practices (UDAP) violations']
        },
        'congenital': {
            title: 'Congenital Defect - Warranty Claim',
            subject: 'Congenital Defect - Breach of Warranty',
            intro: 'I am writing regarding a serious congenital defect affecting the puppy I purchased from you, which breaches your express and implied warranties.',
            legalBasis: 'Pets are goods under the Uniform Commercial Code. Sellers provide implied warranties of merchantability. A dog with a serious hereditary defect is not fit for ordinary purpose as a pet.',
            claims: ['Breach of express warranty (health guarantee)', 'Breach of implied warranty of merchantability', 'Breach of implied warranty of fitness for particular purpose']
        },
        'leasing-fraud': {
            title: 'Pet Leasing Fraud',
            subject: 'Fraudulent Pet Leasing Agreement - Demand for Rescission',
            intro: 'I am writing regarding the fraudulent "lease" agreement you induced me to sign when I believed I was purchasing a puppy.',
            legalBasis: 'Pet leasing is banned or heavily regulated in many states. Disguising a high-interest lease as a purchase agreement constitutes fraud and violates consumer protection laws.',
            claims: ['Fraud and deceptive trade practices', 'Violation of state pet leasing prohibition', 'Unconscionable contract terms', 'Truth in Lending Act violations']
        }
    };
    return claims[claimType] || claims['lemon-law'];
}

function getRemedyText(remedy, petName, purchasePrice, vetCosts) {
    const remedies = {
        'refund': {
            title: 'FULL REFUND',
            text: 'I am returning ' + genH(petName,'Pet Name','petName') + ' to you and demand immediate refund of:<ul class="gen-doc-list"><li>Purchase price: $' + purchasePrice.toLocaleString() + '</li><li>Veterinary costs incurred: $' + vetCosts.toLocaleString() + '</li><li><strong>TOTAL REFUND DUE: $' + (purchasePrice + vetCosts).toLocaleString() + '</strong></li></ul>' + genH(petName,'Pet Name','petName') + ' will be made available for return upon receipt of full refund.'
        },
        'reimbursement': {
            title: 'KEEP PET + REIMBURSEMENT',
            text: 'I wish to keep ' + genH(petName,'Pet Name','petName') + ' and demand reimbursement of my veterinary costs:<ul class="gen-doc-list"><li>Veterinary costs: $' + vetCosts.toLocaleString() + '</li><li>Statutory cap: Up to ' + (purchasePrice * 1.5).toLocaleString() + ' (150% of purchase price)</li></ul>'
        },
        'exchange': {
            title: 'EXCHANGE FOR HEALTHY PET',
            text: 'I am willing to exchange ' + genH(petName,'Pet Name','petName') + ' for a comparable healthy puppy of similar breed and value, plus reimbursement of diagnostic veterinary costs of $' + vetCosts.toLocaleString() + '.'
        }
    };
    return remedies[remedy] || remedies['refund'];
}

function genUpdatePreview() {
    const claimType = document.getElementById('genClaimType').value;
    const state = document.getElementById('genState').value;
    const yourName = document.getElementById('genYourName').value;
    const yourAddress = document.getElementById('genYourAddress').value;
    const yourEmail = document.getElementById('genYourEmail').value;
    const sellerType = document.getElementById('genSellerType').value;
    const sellerName = document.getElementById('genSellerName').value;
    const sellerAddress = document.getElementById('genSellerAddress').value;
    const petName = document.getElementById('genPetName').value;
    const petBreed = document.getElementById('genPetBreed').value;
    const purchaseDate = document.getElementById('genPurchaseDate').value;
    const purchasePrice = parseFloat(document.getElementById('genPurchasePrice').value) || 0;
    const outcome = document.getElementById('genOutcome').value;
    const diagnosis = document.getElementById('genDiagnosis').value;
    const diagnosisDate = document.getElementById('genDiagnosisDate').value;
    const vetClinic = document.getElementById('genVetClinic').value;
    const sellerClaims = document.getElementById('genSellerClaims').value;
    const fraudDetails = document.getElementById('genFraudDetails').value;
    const remedy = document.getElementById('genRemedy').value;
    const vetExam = parseFloat(document.getElementById('genVetExam').value) || 0;
    const treatment = parseFloat(document.getElementById('genTreatment').value) || 0;
    const medications = parseFloat(document.getElementById('genMedications').value) || 0;
    const otherCosts = parseFloat(document.getElementById('genOtherCosts').value) || 0;

    const vetCosts = vetExam + treatment + medications + otherCosts;
    const totalDamages = purchasePrice + vetCosts;
    const claimInfo = getClaimInfo(claimType);
    const remedyInfo = getRemedyText(remedy, petName, purchasePrice, vetCosts);
    const sellerLabel = sellerType === 'breeder' ? 'Breeder' : (sellerType === 'online-seller' ? 'Seller' : 'Pet Store');
    const today = new Date().toLocaleDateString('en-US', {year:'numeric',month:'long',day:'numeric'});

    let outcomeText = '';
    if (outcome === 'died') {
        outcomeText = '<p class="gen-doc-p">Tragically, ' + genH(petName,'Pet Name','petName') + ' died from this condition. My beloved companion is gone forever due to your sale of a sick/defective animal.</p>';
    }

    let claimsList = '<ul class="gen-doc-list">';
    claimInfo.claims.forEach(c => { claimsList += '<li>' + c + '</li>'; });
    claimsList += '</ul>';

    let damagesList = '<ul class="gen-doc-list">';
    if (vetExam > 0) damagesList += '<li>Veterinary examination/diagnosis: $' + vetExam.toLocaleString() + '</li>';
    if (treatment > 0) damagesList += '<li>Treatment costs: $' + treatment.toLocaleString() + '</li>';
    if (medications > 0) damagesList += '<li>Medications: $' + medications.toLocaleString() + '</li>';
    if (otherCosts > 0) damagesList += '<li>Other costs: $' + otherCosts.toLocaleString() + '</li>';
    damagesList += '<li><strong>Total veterinary costs: $' + vetCosts.toLocaleString() + '</strong></li>';
    damagesList += '</ul>';

    const html = `
<div class="gen-doc-date">${today}</div>

<div class="gen-doc-address">
${genH(yourName,'Your Name','yourName')}<br>
${genH(yourAddress,'Your Address','yourAddress')}<br>
${genH(yourEmail,'Your Email','yourEmail')}
</div>

<div class="gen-doc-address">
${genH(sellerName,'Seller Name','sellerName')}<br>
${genH(sellerAddress,'Seller Address','sellerAddress')}
</div>

<p class="gen-doc-p" style="font-weight:600;">CERTIFIED MAIL - RETURN RECEIPT REQUESTED</p>

<div class="gen-doc-re">Re: ${genH(state,'State','state')} ${claimInfo.subject} - ${genH(petName,'Pet Name','petName')}</div>

<p class="gen-doc-p">Dear ${genH(sellerName,sellerLabel,'sellerName')}:</p>

<p class="gen-doc-p">${claimInfo.intro}</p>

<div class="gen-doc-section">PURCHASE DETAILS</div>

<ul class="gen-doc-list">
<li>Date of purchase: ${genH(purchaseDate,'Purchase Date','purchaseDate')}</li>
<li>Puppy: ${genH(petBreed,'Breed','petBreed')}</li>
<li>Purchase price: $${purchasePrice.toLocaleString()}</li>
<li>Seller's representations at time of sale: ${genH(sellerClaims,'Seller Claims','sellerClaims')}</li>
</ul>

<div class="gen-doc-section">VETERINARY DIAGNOSIS</div>

<p class="gen-doc-p">On ${genH(diagnosisDate,'Diagnosis Date','diagnosisDate')}, ${genH(vetClinic,'Veterinarian/Clinic','vetClinic')} examined ${genH(petName,'Pet Name','petName')} and diagnosed:</p>

<p class="gen-doc-p"><strong>${genH(diagnosis,'Diagnosis','diagnosis')}</strong></p>

<p class="gen-doc-p">The veterinarian has certified that this condition ${claimType === 'congenital' ? 'is congenital/hereditary in nature and existed at birth' : 'existed at the time of sale or developed shortly thereafter during the statutory examination period'}.</p>

${outcomeText}

<div class="gen-doc-section">YOUR MISREPRESENTATIONS</div>

<p class="gen-doc-p">${genH(fraudDetails,'Details of False Representations','fraudDetails')}</p>

<div class="gen-doc-section">LEGAL BASIS FOR CLAIM</div>

<p class="gen-doc-p">${claimInfo.legalBasis}</p>

<p class="gen-doc-p">Your conduct gives rise to the following legal claims:</p>

${claimsList}

<div class="gen-doc-section">DAMAGES INCURRED</div>

${damagesList}

<div class="gen-doc-section">REMEDY DEMANDED: ${remedyInfo.title}</div>

<p class="gen-doc-p">${remedyInfo.text}</p>

<div class="gen-doc-deadline">DEADLINE: Respond within 14 days with written confirmation that you will honor my demand.</div>

<div class="gen-doc-section">CONSEQUENCES OF NON-RESPONSE</div>

<p class="gen-doc-p">If I do not receive a satisfactory response within 14 days:</p>
<ul class="gen-doc-list">
<li>I will file a lawsuit seeking all available damages, including statutory damages, punitive damages, and attorney fees where authorized by law</li>
<li>I will file complaints with the ${genH(state,'State','state')} Attorney General Consumer Protection Division</li>
<li>I will report to the ${genH(state,'State','state')} Department of Agriculture and any applicable pet dealer licensing authority</li>
<li>I will file a complaint with the Better Business Bureau</li>
<li>I will post public reviews warning other buyers about your practices</li>
</ul>

<p class="gen-doc-p">I purchased ${genH(petName,'Pet Name','petName')} in good faith, relying on your representations. ${outcome === 'died' ? 'My beloved pet is now dead' : 'My pet is seriously ill'} because you sold me a sick/defective animal. ${genH(state,'State','state')} law protects consumers from exactly this situation.</p>

<p class="gen-doc-p">Comply with the law. Provide the requested remedy within 14 days.</p>

<div class="gen-doc-sig">
Sincerely,<br><br>
<div class="gen-doc-sig-line">${genH(yourName,'Your Name','yourName')}</div>
</div>

<p class="gen-doc-p" style="margin-top:30px;font-size:0.9em;"><strong>Enclosures:</strong><br>
‚Ä¢ Veterinarian's certification of illness/defect<br>
‚Ä¢ Itemized veterinary bills<br>
‚Ä¢ Purchase contract and receipt<br>
‚Ä¢ Seller's health certificate (if provided)<br>
‚Ä¢ Photographs documenting condition</p>
`;

    document.getElementById('genDocPreview').innerHTML = html;
}

function genShowToast(message, type) {
    let toast = document.querySelector('.gen-toast');
    if (!toast) {
        toast = document.createElement('div');
        toast.className = 'gen-toast';
        document.body.appendChild(toast);
    }
    toast.textContent = message;
    toast.className = 'gen-toast' + (type === 'success' ? ' success' : '');
    setTimeout(() => toast.classList.add('visible'), 10);
    setTimeout(() => toast.classList.remove('visible'), 3000);
}

function genCopyToClipboard() {
    const preview = document.getElementById('genDocPreview');
    const text = preview.innerText || preview.textContent;
    navigator.clipboard.writeText(text).then(() => {
        genShowToast('Copied to clipboard!', 'success');
    }).catch(() => {
        genShowToast('Failed to copy', 'error');
    });
}

function genPrintDocument() {
    const preview = document.getElementById('genDocPreview').innerHTML;
    const printWindow = window.open('', '_blank');
    printWindow.document.write('<html><head><title>Demand Letter</title><style>body{font-family:Times New Roman,serif;font-size:14px;line-height:1.8;max-width:800px;margin:40px auto;padding:20px}.gen-highlight{background:#fef3c7;padding:1px 5px;border-radius:3px}.gen-highlight.empty{background:#fee2e2;color:#dc2626}.gen-doc-section{font-weight:bold;text-transform:uppercase;margin-top:24px;margin-bottom:12px}.gen-doc-p{text-align:justify;margin-bottom:14px}.gen-doc-list{margin:12px 0 12px 24px}.gen-doc-deadline{background:#fee2e2;border-left:4px solid #dc2626;padding:12px 16px;margin:16px 0;font-weight:600}.gen-doc-sig{margin-top:40px}.gen-doc-sig-line{border-top:1px solid #333;width:220px;margin-top:50px;padding-top:5px}</style></head><body>' + preview + '</body></html>');
    printWindow.document.close();
    printWindow.print();
}

function genDownloadDoc() {
    const preview = document.getElementById('genDocPreview').innerHTML;
    const styles = '<style>.gen-highlight{background:#fef3c7;padding:1px 5px}.gen-highlight.empty{background:#fee2e2;color:#dc2626}.gen-doc-section{font-weight:bold;text-transform:uppercase;margin-top:24px;margin-bottom:12px}.gen-doc-p{text-align:justify;margin-bottom:14px}.gen-doc-list{margin:12px 0 12px 24px}.gen-doc-deadline{background:#fee2e2;border-left:4px solid #dc2626;padding:12px 16px;margin:16px 0;font-weight:600}.gen-doc-sig{margin-top:40px}.gen-doc-sig-line{border-top:1px solid #333;width:220px;margin-top:50px;padding-top:5px}</style>';
    const html = '<html><head><meta charset="utf-8">' + styles + '</head><body style="font-family:Times New Roman,serif;font-size:14px;line-height:1.8">' + preview + '</body></html>';
    const blob = new Blob([html], {type: 'application/msword'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'Pet_Purchase_Dispute_Demand_Letter.doc';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    genShowToast('Document downloaded!', 'success');
}

function genSetupInlineEditing() {
    document.querySelectorAll('.gen-highlight[contenteditable="true"]').forEach(function(el) {
        el.addEventListener('blur', function() {
            const fieldId = this.dataset.field;
            const newValue = this.textContent.trim();
            if (newValue.startsWith('[') && newValue.endsWith(']')) return;
            const inputMap = {
                'yourName': 'genYourName',
                'yourAddress': 'genYourAddress',
                'yourEmail': 'genYourEmail',
                'sellerName': 'genSellerName',
                'sellerAddress': 'genSellerAddress',
                'petName': 'genPetName',
                'petBreed': 'genPetBreed',
                'purchaseDate': 'genPurchaseDate',
                'state': 'genState',
                'diagnosis': 'genDiagnosis',
                'diagnosisDate': 'genDiagnosisDate',
                'vetClinic': 'genVetClinic',
                'sellerClaims': 'genSellerClaims',
                'fraudDetails': 'genFraudDetails'
            };
            const inputId = inputMap[fieldId];
            if (inputId) {
                const input = document.getElementById(inputId);
                if (input) {
                    input.value = newValue;
                    this.classList.remove('empty');
                    genHasCustomEdits = true;
                }
            }
        });
        el.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                this.blur();
            }
        });
        el.addEventListener('focus', function() {
            this.classList.add('gen-highlight-anim');
            setTimeout(() => this.classList.remove('gen-highlight-anim'), 1500);
        });
    });
}

function genToggleEditMode() {
    const preview = document.getElementById('genDocPreview');
    const btn = document.getElementById('genEditModeBtn');
    const toolbar = document.getElementById('genEditToolbar');

    if (!genIsEditMode) {
        genSavedHTML = preview.innerHTML;
        preview.contentEditable = 'true';
        preview.classList.add('full-edit-mode');
        btn.classList.add('active');
        btn.textContent = '‚úèÔ∏è Editing...';
        toolbar.classList.add('visible');
        genIsEditMode = true;
        genShowToast('Edit mode enabled. Click Save when done.', 'success');
    } else {
        genCancelEdits();
    }
}

function genSaveEdits() {
    const preview = document.getElementById('genDocPreview');
    const btn = document.getElementById('genEditModeBtn');
    const toolbar = document.getElementById('genEditToolbar');

    preview.contentEditable = 'false';
    preview.classList.remove('full-edit-mode');
    btn.classList.remove('active');
    btn.textContent = '‚úèÔ∏è Edit Mode';
    toolbar.classList.remove('visible');
    genIsEditMode = false;
    genHasCustomEdits = true;
    genShowToast('Edits saved!', 'success');
}

function genCancelEdits() {
    const preview = document.getElementById('genDocPreview');
    const btn = document.getElementById('genEditModeBtn');
    const toolbar = document.getElementById('genEditToolbar');

    preview.innerHTML = genSavedHTML;
    preview.contentEditable = 'false';
    preview.classList.remove('full-edit-mode');
    btn.classList.remove('active');
    btn.textContent = '‚úèÔ∏è Edit Mode';
    toolbar.classList.remove('visible');
    genIsEditMode = false;
    genSetupInlineEditing();
    genShowToast('Edits cancelled', 'success');
}

document.addEventListener('DOMContentLoaded', function() {
    genUpdatePreview();
    genSetupInlineEditing();
});
</script>

</body>
</html>