<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Software Development Dispute Demand Widget</title>
<style>
    :root{
        --bg:#f4f6fb;
        --panel:#ffffff;
        --border:#d7deef;
        --accent:#4f46e5;
        --accent-soft:#eef0ff;
        --muted:#5a6075;
        --dark:#111827;
        --amber:#f59e0b;
        --rose:#ef4444;
        --teal:#10b981;
        --slate:#e5e7eb;
    }
    *{box-sizing:border-box;font-family:"Inter",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;}
    body{margin:0;background:var(--bg);color:var(--dark);}
    .widget-frame{max-width:1200px;margin:0 auto;padding:28px;}
    .panel{background:var(--panel);border:1px solid var(--border);border-radius:22px;box-shadow:0 24px 60px rgba(43,51,87,.12);overflow:hidden;}
    .intro{padding:22px 28px;line-height:1.6;font-size:15px;color:var(--muted);border-bottom:1px solid var(--border);}
    .tabs-bar{display:flex;flex-wrap:wrap;gap:10px;padding:18px 24px;border-bottom:1px solid var(--border);background:linear-gradient(120deg,#f9f9ff,#f1f5ff);}
    .tabchip{border:1px solid var(--border);background:#fff;color:var(--muted);padding:10px 16px;border-radius:999px;font-weight:600;font-size:14px;cursor:pointer;transition:.2s;}
    .tabchip.active{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 10px 24px rgba(79,70,229,.26);}
    .tabview{display:none;padding:26px 30px;line-height:1.6;color:var(--dark);}
    .tabview.active{display:block;}
    .section-note{font-weight:700;font-size:15px;margin-bottom:14px;color:var(--dark);letter-spacing:.01em;}
    .card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;}
    .info-card{border:1px solid var(--border);border-radius:16px;background:#fff;padding:16px;box-shadow:0 10px 28px rgba(33,39,70,.08);min-height:150px;}
    .tag{display:inline-flex;align-items:center;font-size:12px;font-weight:700;color:#fff;padding:3px 10px;border-radius:999px;margin-bottom:10px;letter-spacing:.02em;}
    .tag.amber{background:var(--amber);} .tag.rose{background:var(--rose);} .tag.teal{background:var(--teal);} .tag.indigo{background:var(--accent);} .tag.gray{background:#6b7280;}
    .list{margin:0;padding-left:18px;color:var(--muted);font-size:14px;}
    .list li{margin-bottom:6px;}
    .dual-column{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px;}
    .timeline{border-left:3px solid var(--border);padding-left:14px;}
    .timeline-item{margin-bottom:12px;}
    .timeline-item span{font-weight:700;color:var(--accent);margin-right:8px;}
    .pill-box{display:flex;gap:10px;align-items:flex-start;padding:12px;border:1px dashed var(--border);border-radius:14px;background:#f8f8ff;margin-bottom:12px;font-size:13px;color:var(--muted);}
    .generator-shell{display:flex;gap:20px;flex-wrap:wrap;}
    .form-pane{flex:1 1 360px;border:1px solid var(--border);border-radius:18px;background:#f8f9ff;padding:18px;overflow:auto;max-height:540px;}
    .form-pane label{display:block;font-size:13px;font-weight:700;margin-top:12px;color:var(--dark);}
    .form-pane input,.form-pane select,.form-pane textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);font-size:14px;color:var(--dark);background:#fff;}
    .form-pane textarea{min-height:70px;}
    .preview-pane{flex:1 1 420px;border:1px solid var(--border);border-radius:18px;background:#fff;padding:18px;display:flex;flex-direction:column;max-height:540px;}
    .preview-box{flex:1;border:1px solid var(--border);border-radius:14px;padding:14px;overflow-y:auto;font-size:14px;background:#fff;line-height:1.55;white-space:pre-wrap;}
    .preview-section{margin-bottom:14px;}
    .preview-label{font-size:12px;font-weight:700;color:var(--muted);letter-spacing:.08em;text-transform:uppercase;margin-bottom:4px;}
    .field-highlight{animation:flash 1.2s ease;}
    @keyframes flash{0%{background:#fff4c4;}100%{background:transparent;}}
    .copy-button{margin-top:14px;border:none;background:var(--accent);color:#fff;font-weight:700;padding:10px 16px;border-radius:10px;cursor:pointer;box-shadow:0 12px 28px rgba(79,70,229,.32);}
    .helper-text{font-size:12px;color:var(--muted);margin-top:6px;}
    .note-box{border:1px dashed var(--border);background:#f7fafc;padding:12px;border-radius:12px;font-size:13px;color:var(--muted);margin-bottom:12px;}
    @media(max-width:820px){.generator-shell{flex-direction:column;} .form-pane,.preview-pane{max-height:none;}}
</style>
</head>
<body>
<div class="widget-frame">
<div class="panel">
    <div class="intro">Software disputes mix bugs, delays, and control over repos and credentials. This widget pairs a fast triage of leverage points with a generator that can spit out a letter even if you leave fields blank.</div>
    <div class="tabs-bar">
        <button class="tabchip active" data-tab="signals">Fast Signals</button>
        <button class="tabchip" data-tab="leverage">Leverage Check</button>
        <button class="tabchip" data-tab="handoff">Handover & Access</button>
        <button class="tabchip" data-tab="guardrails">Tone & Guardrails</button>
        <button class="tabchip" data-tab="generator">Demand Letter Generator</button>
    </div>
    <div id="signals" class="tabview active">
        <div class="section-note">Patterns that show a dev project is collapsing.</div>
        <div class="card-grid">
            <div class="info-card">
                <div class="tag indigo">Bug Purgatory</div>
                <div>Weeks of “one more sprint” and hotfixes but no stable release. Prioritize fatal issues (checkout fails, auth errors, data loss) over cosmetic bugs.</div>
            </div>
            <div class="info-card">
                <div class="tag amber">Timeline Drift</div>
                <div>Launch dates slip with no revised plan. Document promised dates versus actuals and how the delay killed campaigns, investor demos, or contract obligations.</div>
            </div>
            <div class="info-card">
                <div class="tag rose">Scope Smoke</div>
                <div>Debates over “extras” drown out the fact that core scope (MVP, payments, integrations) is not usable. Separate “core” from “nice-to-have” and anchor the letter on the core.</div>
            </div>
            <div class="info-card">
                <div class="tag teal">Ownership Gaps</div>
                <div>Repos, servers, DNS, or API keys controlled only by the developer. Ask for admin access, documentation, and a clean handoff alongside any refund or completion demand.</div>
            </div>
        </div>
    </div>
    <div id="leverage" class="tabview">
        <div class="section-note">Frame the dispute before you write.</div>
        <div class="dual-column">
            <div class="info-card">
                <div class="tag gray">Contract Reality</div>
                <ul class="list">
                    <li>Pull the SOW, milestone emails, and platform messages that describe deliverables and dates.</li>
                    <li>Mark payments against those milestones; screenshots beat vague recollection.</li>
                    <li>Flag any acceptance criteria, testing windows, or change-order clauses you can quote.</li>
                </ul>
            </div>
            <div class="info-card">
                <div class="tag indigo">Business Impact</div>
                <ul class="list">
                    <li>Translate bugs into lost user flows: checkout fails, onboarding blocked, data unsynced.</li>
                    <li>List time-sensitive losses: missed launch, marketing spend wasted, investors waiting.</li>
                    <li>Decide the realistic win: refund, completion under new structure, or rapid handover.</li>
                </ul>
            </div>
        </div>
    </div>
    <div id="handoff" class="tabview">
        <div class="section-note">Secure the project before or alongside money asks.</div>
        <div class="dual-column">
            <div class="info-card">
                <div class="tag teal">Access Checklist</div>
                <ul class="list">
                    <li>Admin control of repositories (GitHub/GitLab), CI/CD, servers, and cloud accounts.</li>
                    <li>API keys, environment variables, database credentials, and feature flags.</li>
                    <li>Deployment scripts, runbooks, and any vendor contracts in your name.</li>
                </ul>
            </div>
            <div class="info-card">
                <div class="tag amber">Clean Handover</div>
                <div class="timeline">
                    <div class="timeline-item"><span>Step 1</span>Request full backup of code, DB export, infra diagrams.</div>
                    <div class="timeline-item"><span>Step 2</span>Transfer DNS/SSL, billing ownership, and admin roles.</div>
                    <div class="timeline-item"><span>Step 3</span>Confirm credentials work; rotate secrets after transfer.</div>
                    <div class="timeline-item"><span>Step 4</span>Optional: mutual release after refund and verified access.</div>
                </div>
            </div>
        </div>
    </div>
    <div id="guardrails" class="tabview">
        <div class="section-note">Stay firm without stepping on legal landmines.</div>
        <div class="pill-box">Avoid words like “scam” or “fraud” unless you have evidence. Describe objective failures: non-functioning features, missed dates, lack of access.</div>
        <div class="pill-box">Do not threaten criminal complaints or platform shaming as leverage. Keep the focus on contract breach, refund, and handover.</div>
        <div class="pill-box">Offer a short, clear deadline (10–14 days) and reserve all rights. That signals seriousness without overcommitting.</div>
    </div>
    <div id="generator" class="tabview">
        <div class="section-note">Fill what you can; everything stays optional and you can copy the template even if fields are blank.</div>
        <div class="generator-shell">
            <div class="form-pane">
                <label>Sender name / company</label>
                <input type="text" id="sender" placeholder="Acme Corp or Jane Doe">
                <label>Sender contact (email/phone)</label>
                <input type="text" id="contact" placeholder="email and/or phone">
                <label>Recipient (developer/agency)</label>
                <input type="text" id="recipient" placeholder="Dev Studio LLC">
                <label>Project name</label>
                <input type="text" id="project" placeholder="SaaS platform build">
                <label>Agreement date or reference</label>
                <input type="text" id="agreement" placeholder="MSA dated Jan 5, 2024 / Upwork contract">
                <label>Scope summary</label>
                <textarea id="scope" placeholder="Core deliverables promised (web app, mobile app, Stripe, dashboards)"></textarea>
                <label>Promised milestones & dates</label>
                <textarea id="milestones" placeholder="Prototype March 1, beta April 15, MVP June 1"></textarea>
                <label>Payments made</label>
                <textarea id="payments" placeholder="$15,000 total; $5k deposit Jan 6, $5k milestone Feb 10, $5k milestone Mar 5"></textarea>
                <label>Main defects / delays</label>
                <textarea id="defects" placeholder="Checkout fails, auth errors on mobile, integration with HubSpot not working"></textarea>
                <label>Access issues</label>
                <textarea id="access" placeholder="No admin access to GitHub or AWS; missing env vars; no deployment instructions"></textarea>
                <label>Requested remedy</label>
                <textarea id="remedy" placeholder="Refund $10,000 and hand over repos/credentials; or deliver core features by May 30 under new acceptance criteria"></textarea>
                <label>Response deadline</label>
                <input type="text" id="deadline" placeholder="10 calendar days from the date of this letter">
                <div class="helper-text">All fields are optional; the preview and copy button work even if you leave everything empty.</div>
            </div>
            <div class="preview-pane">
                <div class="preview-box" id="preview"></div>
                <button class="copy-button" id="copyBtn">Copy Demand Letter</button>
            </div>
        </div>
    </div>
</div>
</div>
<script>
    const tabs=document.querySelectorAll('.tabchip');
    const views=document.querySelectorAll('.tabview');
    tabs.forEach(tab=>{tab.addEventListener('click',()=>{tabs.forEach(t=>t.classList.remove('active'));views.forEach(v=>v.classList.remove('active'));tab.classList.add('active');document.getElementById(tab.dataset.tab).classList.add('active');});});

    const fields=['sender','contact','recipient','project','agreement','scope','milestones','payments','defects','access','remedy','deadline'];
    const previewBox=document.getElementById('preview');

    const stored=JSON.parse(localStorage.getItem('devDemandData')||'{}');
    fields.forEach(id=>{const el=document.getElementById(id);if(stored[id])el.value=stored[id];el.addEventListener('input',()=>{stored[id]=el.value;localStorage.setItem('devDemandData',JSON.stringify(stored));renderPreview(id);});});

    function val(v,fallback){return v && v.trim().length? v.trim(): fallback;}

    function renderPreview(highlightKey){
        const data={};fields.forEach(id=>data[id]=document.getElementById(id).value);
        const today=new Date();
        const dateStr=today.toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'});
        const sections=[
            {key:'sender',label:'Sender',text:`${val(data.sender,'[Your name / company]')}${data.contact?` | ${data.contact.trim()}`:''}`},
            {key:'recipient',label:'To',text:val(data.recipient,'[Developer / agency name]')},
            {key:'project',label:'Project',text:`${val(data.project,'[Project name]')} under ${val(data.agreement,'[agreement reference]')}`},
            {key:'scope',label:'Scope & milestones',text:`Scope: ${val(data.scope,'[brief scope]')}
Milestones promised: ${val(data.milestones,'[key dates]')}
Payments made: ${val(data.payments,'[payments]')}`},
            {key:'defects',label:'Failures',text:val(data.defects,'[critical bugs, delays, missing features]')},
            {key:'access',label:'Access & handoff',text:val(data.access,'[repos/servers credentials requested]')},
            {key:'remedy',label:'Requested resolution',text:val(data.remedy,'[refund, completion plan, and/or full handover]')},
            {key:'deadline',label:'Response deadline',text:`Please confirm in writing by ${val(data.deadline,'[deadline, e.g., 10 days]')} that you will comply.`},
            {key:'reserve',label:'Reservation of rights',text:'If we do not receive a satisfactory response by the deadline, we will consider all available options, including engaging new counsel, arbitration or litigation where applicable, and platform or payment disputes. All rights and claims are reserved.'},
            {key:'date',label:'Date',text:dateStr}
        ];
        previewBox.innerHTML=sections.map(sec=>`<div class="preview-section ${highlightKey===sec.key?'field-highlight':''}"><div class="preview-label">${sec.label}</div><div>${sec.text.replace(/\n/g,'<br>')}</div></div>`).join('');
    }
    renderPreview();

    document.getElementById('copyBtn').addEventListener('click',()=>{
        const text=previewBox.innerText.trim();
        if(navigator.clipboard && navigator.clipboard.writeText){
            navigator.clipboard.writeText(text).then(()=>{alert('Demand letter copied to clipboard.');}).catch(()=>fallbackCopy(text));
        }else{fallbackCopy(text);}
    });
    function fallbackCopy(text){const ta=document.createElement('textarea');ta.value=text;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);alert('Demand letter copied.');}
</script>
</body>
</html>
