<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-901N2Y3CDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-901N2Y3CDZ');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCPA Exposure Calculator | Estimate Your Statutory Damages Risk | Terms.Law</title>
    <meta name="description" content="Calculate your TCPA exposure based on call/text volume, consent status, and opt-out compliance. Understand statutory damages risk from $500-$1,500 per violation.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://terms.law/Demand-Letters/respond/telemarketing-tcpa/tcpa-exposure-calculator.html">

    <!-- Shared site-wide styles -->
    <link rel="stylesheet" href="/shared/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #dc2626;
            --primary-dark: #991b1b;
            --primary-light: #fef2f2;
            --secondary: #1e3a8a;
            --accent: #f97316;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #dc2626;
            --info: #3b82f6;
            --surface: #ffffff;
            --bg: #f8fafc;
            --text: #0f172a;
            --text-muted: #64748b;
            --border: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: var(--text);
            background: var(--bg);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: #f8fafc;
            padding: 12px 24px;
            font-size: 0.85rem;
            border-bottom: 1px solid #e2e8f0;
        }
        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
        }
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        .breadcrumb .separator {
            color: #94a3b8;
            margin: 0 8px;
        }
        .breadcrumb .current {
            color: #64748b;
        }

        @media (max-width: 768px) {
            .breadcrumb {
                padding: 12px 16px;
                font-size: 0.8rem;
            }
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #7f1d1d 0%, #991b1b 30%, #dc2626 100%);
            text-align: center;
            padding: 50px 20px 90px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fecaca;
            padding: 10px 24px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 20px;
            letter-spacing: 0.5px;
            position: relative;
            z-index: 1;
        }

        .pulse-dot {
            width: 10px;
            height: 10px;
            background: #fbbf24;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }

        .hero h1 {
            font-size: clamp(28px, 5vw, 44px);
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 16px;
            line-height: 1.2;
            position: relative;
            z-index: 1;
        }

        .hero h1 span {
            color: #fbbf24;
        }

        .hero-subtitle {
            font-size: clamp(16px, 2.5vw, 18px);
            color: #fecaca;
            max-width: 700px;
            margin: 0 auto;
            font-weight: 400;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .hero {
                padding: 40px 16px 70px;
            }
        }

        /* Main Content */
        .page-wrapper {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px 60px;
        }

        @media (max-width: 768px) {
            .page-wrapper {
                padding: 0 16px 40px;
            }
        }

        /* Back Link */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 30px;
            margin-top: 20px;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        /* Calculator Container */
        .calculator-container {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 40px;
            margin-top: -50px;
            position: relative;
            z-index: 10;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .calculator-container {
                padding: 25px 20px;
                margin-top: -40px;
            }
        }

        .calculator-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .calculator-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            color: white;
        }

        .calculator-header h2 {
            font-size: 24px;
            font-weight: 700;
            color: var(--text);
        }

        .calculator-header p {
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Form Fields */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .form-field {
            display: flex;
            flex-direction: column;
        }

        .form-field label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
        }

        .form-field .hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .form-field input,
        .form-field select {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 15px;
            font-family: inherit;
            color: var(--text);
            transition: all 0.3s;
        }

        .form-field input:focus,
        .form-field select:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
        }

        .form-field input[type="number"] {
            -moz-appearance: textfield;
        }

        .form-field input[type="number"]::-webkit-outer-spin-button,
        .form-field input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Toggle Switch */
        .toggle-field {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-field:hover {
            border-color: var(--primary);
        }

        .toggle-field.active {
            border-color: var(--success);
            background: #f0fdf4;
        }

        .toggle-switch {
            width: 44px;
            height: 24px;
            background: #cbd5e1;
            border-radius: 12px;
            position: relative;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle-field.active .toggle-switch {
            background: var(--success);
        }

        .toggle-field.active .toggle-switch::after {
            left: 22px;
        }

        .toggle-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        /* Calculate Button */
        .calc-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
            margin-top: 10px;
        }

        .calc-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(220, 38, 38, 0.35);
        }

        /* Results Section */
        .results-section {
            display: none;
            margin-top: 40px;
            animation: fadeSlideIn 0.5s ease;
        }

        .results-section.visible {
            display: block;
        }

        @keyframes fadeSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Risk Band Display */
        .risk-band {
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 25px;
        }

        .risk-band.low {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border: 2px solid #22c55e;
        }

        .risk-band.medium {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border: 2px solid #f59e0b;
        }

        .risk-band.high {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border: 2px solid #dc2626;
        }

        .risk-band.class-risk {
            background: linear-gradient(135deg, #fef2f2 0%, #7f1d1d 100%);
            border: 2px solid #450a0a;
        }

        .risk-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        .risk-band.low .risk-badge {
            background: #22c55e;
            color: white;
        }

        .risk-band.medium .risk-badge {
            background: #f59e0b;
            color: white;
        }

        .risk-band.high .risk-badge {
            background: #dc2626;
            color: white;
        }

        .risk-band.class-risk .risk-badge {
            background: #450a0a;
            color: #fecaca;
            animation: pulse 1.5s infinite;
        }

        .risk-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .risk-band.low .risk-title { color: #166534; }
        .risk-band.medium .risk-title { color: #92400e; }
        .risk-band.high .risk-title { color: #991b1b; }
        .risk-band.class-risk .risk-title { color: white; }

        .exposure-range {
            font-size: 36px;
            font-weight: 800;
            margin: 15px 0;
        }

        .risk-band.low .exposure-range { color: #15803d; }
        .risk-band.medium .exposure-range { color: #b45309; }
        .risk-band.high .exposure-range { color: #dc2626; }
        .risk-band.class-risk .exposure-range { color: #fbbf24; }

        .exposure-breakdown {
            font-size: 14px;
            opacity: 0.9;
        }

        .risk-band.class-risk .exposure-breakdown { color: #fecaca; }

        /* Result Cards */
        .result-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .result-card {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 14px;
            padding: 25px;
        }

        .result-card h4 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-card h4 span {
            font-size: 20px;
        }

        .next-steps-list {
            list-style: none;
        }

        .next-steps-list li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: var(--bg);
            border-radius: 10px;
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--text);
        }

        .next-steps-list li:last-child {
            margin-bottom: 0;
        }

        .step-number {
            width: 24px;
            height: 24px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .preserve-list {
            list-style: none;
        }

        .preserve-list li {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            font-size: 14px;
            color: var(--text);
        }

        .preserve-list li:last-child {
            border-bottom: none;
        }

        .preserve-check {
            width: 22px;
            height: 22px;
            background: var(--primary-light);
            border: 2px solid var(--primary);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 14px;
            flex-shrink: 0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .preserve-check.checked {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        /* Factors Grid */
        .factors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .factor-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: var(--bg);
            border-radius: 10px;
            font-size: 13px;
        }

        .factor-item.positive {
            background: #f0fdf4;
            color: #166534;
        }

        .factor-item.negative {
            background: #fef2f2;
            color: #991b1b;
        }

        .factor-item.neutral {
            background: #fefce8;
            color: #854d0e;
        }

        /* CTA Section */
        .cta-section {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #1e40af 100%);
            border-radius: 16px;
            padding: 35px;
            margin-top: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }

        .cta-section h3 {
            color: white;
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .cta-section p {
            color: #bfdbfe;
            font-size: 15px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .cta-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 32px;
            background: #fbbf24;
            color: #0f172a;
            text-decoration: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            transition: all 0.3s;
            position: relative;
            z-index: 1;
            border: none;
            cursor: pointer;
            font-family: inherit;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(251, 191, 36, 0.4);
        }

        /* Disclaimer */
        .disclaimer {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            font-size: 13px;
            color: var(--text-muted);
            text-align: center;
        }

        /* Calendly Section */
        .calendly-section {
            background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 50%, #1e40af 100%);
            border-radius: 24px;
            padding: 50px;
            margin-top: 50px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .calendly-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }

        .calendly-section .cta-content {
            position: relative;
            z-index: 1;
        }

        .calendly-section .cta-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #93c5fd;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .calendly-section h2 {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 15px;
            color: white;
        }

        .calendly-section > .cta-content > p {
            font-size: 17px;
            color: #bfdbfe;
            margin-bottom: 25px;
            max-width: 700px;
        }

        .calendly-container {
            background: white;
            border-radius: 16px;
            padding: 10px;
            margin-top: 25px;
        }

        .calendly-inline-widget {
            min-height: 700px;
            border-radius: 12px;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .calendly-section {
                padding: 30px 20px;
                border-radius: 16px;
            }
            .calendly-section h2 {
                font-size: 22px;
            }
            .calendly-inline-widget {
                min-height: 650px;
            }
        }

        /* Footer */
        .page-footer {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin-top: 50px;
        }

        .page-footer h3 {
            color: var(--text);
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .page-footer p {
            color: var(--text-muted);
            font-size: 14px;
            max-width: 700px;
            margin: 0 auto 20px;
        }

        .bar-number {
            display: inline-block;
            background: var(--primary-light);
            border: 1px solid rgba(220, 38, 38, 0.3);
            color: var(--primary-dark);
            padding: 10px 25px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
        }
    </style>
</head>
<body>

    <!-- Shared Site Header -->
    <div id="site-header"></div>

    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="/">Home</a>
        <span class="separator">&#8250;</span>
        <a href="/Demand-Letters/">Demand Letters</a>
        <span class="separator">&#8250;</span>
        <a href="/Demand-Letters/respond/">Respond</a>
        <span class="separator">&#8250;</span>
        <a href="/Demand-Letters/respond/telemarketing-tcpa/">TCPA / Robocalls</a>
        <span class="separator">&#8250;</span>
        <span class="current">Exposure Calculator</span>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-badge">
            <span class="pulse-dot"></span>
            Interactive Risk Assessment Tool
        </div>
        <h1>TCPA <span>Exposure Calculator</span></h1>
        <p class="hero-subtitle">Estimate your statutory damages exposure based on call/text volume, consent status, and compliance factors. Understand your risk before responding.</p>
    </section>

    <div class="page-wrapper">
        <!-- Calculator Container -->
        <div class="calculator-container">
            <div class="calculator-header">
                <div class="calculator-icon">&#128202;</div>
                <div>
                    <h2>Calculate Your TCPA Exposure</h2>
                    <p>Answer each question to receive a personalized risk assessment</p>
                </div>
            </div>

            <form id="exposureForm">
                <div class="form-grid">
                    <!-- Channel -->
                    <div class="form-field">
                        <label for="channel">Communication Channel</label>
                        <select id="channel" required>
                            <option value="">Select channel...</option>
                            <option value="text">Text Messages (SMS/MMS)</option>
                            <option value="call">Phone Calls</option>
                            <option value="both">Both Texts and Calls</option>
                        </select>
                        <span class="hint">What type of communications are at issue?</span>
                    </div>

                    <!-- Content Type -->
                    <div class="form-field">
                        <label for="contentType">Content Type</label>
                        <select id="contentType" required>
                            <option value="">Select content type...</option>
                            <option value="marketing">Marketing / Promotional</option>
                            <option value="informational">Informational / Transactional</option>
                            <option value="mixed">Mixed (Both)</option>
                        </select>
                        <span class="hint">Marketing content has stricter requirements</span>
                    </div>

                    <!-- Volume -->
                    <div class="form-field">
                        <label for="volume">Total Messages/Calls</label>
                        <input type="number" id="volume" min="1" placeholder="e.g., 500" required>
                        <span class="hint">Total number of communications at issue</span>
                    </div>

                    <!-- Avg Touches -->
                    <div class="form-field">
                        <label for="avgTouches">Avg. Touches Per Recipient</label>
                        <input type="number" id="avgTouches" min="1" placeholder="e.g., 5" required>
                        <span class="hint">Average messages/calls per person</span>
                    </div>

                    <!-- Consent Evidence -->
                    <div class="form-field">
                        <label for="consentEvidence">Consent Evidence Quality</label>
                        <select id="consentEvidence" required>
                            <option value="">Select consent level...</option>
                            <option value="strong">Strong - Timestamped, clear checkbox, documented</option>
                            <option value="some">Some - Partial records, unclear language</option>
                            <option value="none">None - No consent obtained</option>
                            <option value="unknown">Unknown - Records unavailable</option>
                        </select>
                        <span class="hint">Quality of your consent documentation</span>
                    </div>

                    <!-- Post Opt-Out -->
                    <div class="form-field">
                        <label for="postOptOut">Post-Opt-Out Contacts?</label>
                        <select id="postOptOut" required>
                            <option value="">Select...</option>
                            <option value="no">No - All opt-outs were honored</option>
                            <option value="yes">Yes - Some contacts after opt-out</option>
                            <option value="unknown">Unknown - Not sure</option>
                        </select>
                        <span class="hint">Did you contact anyone after they opted out?</span>
                    </div>

                    <!-- Vendor -->
                    <div class="form-field">
                        <label for="vendor">Vendor Involvement</label>
                        <select id="vendor" required>
                            <option value="">Select...</option>
                            <option value="none">None - In-house only</option>
                            <option value="agency">Marketing Agency</option>
                            <option value="leadSeller">Lead Seller / Lead Gen</option>
                            <option value="multiple">Multiple Vendors</option>
                        </select>
                        <span class="hint">Were third parties involved?</span>
                    </div>

                    <!-- Claim Posture -->
                    <div class="form-field">
                        <label for="claimPosture">Current Claim Posture</label>
                        <select id="claimPosture" required>
                            <option value="">Select posture...</option>
                            <option value="threat">Threat Only (informal complaint)</option>
                            <option value="demand">Demand Letter (formal pre-lit)</option>
                            <option value="counsel">Plaintiff's Counsel Involved</option>
                            <option value="suit">Lawsuit Filed</option>
                        </select>
                        <span class="hint">How serious is the current claim?</span>
                    </div>
                </div>

                <!-- Opt-Out Toggle -->
                <div class="form-field" style="margin-bottom: 30px;">
                    <label>Opt-Out Mechanism Present?</label>
                    <div class="toggle-field" id="optOutToggle" onclick="toggleOptOut()">
                        <div class="toggle-switch"></div>
                        <span class="toggle-label">Yes - STOP keyword or clear opt-out instructions included</span>
                    </div>
                    <span class="hint">Did your messages include opt-out instructions?</span>
                </div>

                <button type="submit" class="calc-btn">Calculate My Exposure</button>
            </form>

            <!-- Results Section -->
            <div class="results-section" id="resultsSection">
                <!-- Risk Band -->
                <div class="risk-band" id="riskBand">
                    <span class="risk-badge" id="riskBadge">CALCULATING</span>
                    <h3 class="risk-title" id="riskTitle">Analyzing your inputs...</h3>
                    <div class="exposure-range" id="exposureRange">$0 - $0</div>
                    <div class="exposure-breakdown" id="exposureBreakdown">Based on X violations</div>
                </div>

                <!-- Factors Analysis -->
                <div class="result-card" style="margin-bottom: 20px;">
                    <h4><span>&#128200;</span> Risk Factors Analysis</h4>
                    <div class="factors-grid" id="factorsGrid">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Result Cards -->
                <div class="result-cards">
                    <!-- Next Steps -->
                    <div class="result-card">
                        <h4><span>&#127919;</span> Top 5 Next Steps</h4>
                        <ul class="next-steps-list" id="nextStepsList">
                            <!-- Populated by JS -->
                        </ul>
                    </div>

                    <!-- What to Preserve -->
                    <div class="result-card">
                        <h4><span>&#128190;</span> What to Preserve</h4>
                        <ul class="preserve-list" id="preserveList">
                            <!-- Populated by JS -->
                        </ul>
                    </div>
                </div>

                <!-- CTA Section -->
                <div class="cta-section">
                    <h3>Need Professional Guidance?</h3>
                    <p>Get personalized strategy for your TCPA exposure. Free 30-minute consultation.</p>
                    <a href="#calendly-section" class="cta-btn">
                        &#128197; Book Consultation
                    </a>
                </div>
            </div>
        </div>

        <a href="/Demand-Letters/respond/telemarketing-tcpa/" class="back-link">
            <span>&#8592;</span> Back to TCPA Response Hub
        </a>

        <!-- Disclaimer -->
        <div class="disclaimer">
            <strong>Disclaimer:</strong> This calculator provides estimates for educational purposes only and does not constitute legal advice. Actual exposure depends on many factors not captured here. Consult with a qualified attorney for advice specific to your situation.
        </div>

        <!-- Calendly Section -->
        <section class="calendly-section" id="calendly-section">
            <div class="cta-content">
                <span class="cta-badge">Professional Legal Guidance</span>
                <h2>Discuss Your TCPA Exposure</h2>
                <p>Schedule a consultation to review your specific situation, defense options, and settlement strategy.</p>

                <div class="calendly-container">
                    <!-- Calendly inline widget begin -->
                    <div class="calendly-inline-widget" data-url="https://calendly.com/sergei-tokmakov/30-minute-zoom-meeting?hide_gdpr_banner=1" style="min-width:320px;height:700px;"></div>
                    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
                    <!-- Calendly inline widget end -->
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="page-footer">
            <h3>About This Tool</h3>
            <p>This TCPA Exposure Calculator is provided by a California-licensed attorney to help businesses understand potential statutory damages exposure. Results are estimates only and should not be relied upon as legal advice.</p>
            <div class="bar-number">California State Bar #279869</div>
        </footer>
    </div>

    <script>
        // Track opt-out toggle state
        let optOutPresent = false;

        function toggleOptOut() {
            const toggle = document.getElementById('optOutToggle');
            optOutPresent = !optOutPresent;
            toggle.classList.toggle('active', optOutPresent);
        }

        // Form submission
        document.getElementById('exposureForm').addEventListener('submit', function(e) {
            e.preventDefault();
            calculateExposure();
        });

        function calculateExposure() {
            // Get values
            const channel = document.getElementById('channel').value;
            const contentType = document.getElementById('contentType').value;
            const volume = parseInt(document.getElementById('volume').value) || 0;
            const avgTouches = parseInt(document.getElementById('avgTouches').value) || 1;
            const consentEvidence = document.getElementById('consentEvidence').value;
            const postOptOut = document.getElementById('postOptOut').value;
            const vendor = document.getElementById('vendor').value;
            const claimPosture = document.getElementById('claimPosture').value;

            // Calculate unique recipients
            const uniqueRecipients = Math.ceil(volume / avgTouches);

            // Determine base rate and multipliers
            let baseRate = 500;
            let willfulMultiplier = 1;
            let riskLevel = 'low';
            let classRiskFlagged = false;

            // Factors tracking
            const factors = [];

            // Willfulness check (3x for willful)
            if (postOptOut === 'yes' || consentEvidence === 'none') {
                willfulMultiplier = 3;
                if (postOptOut === 'yes') {
                    factors.push({ text: 'Post-opt-out contacts (willful)', type: 'negative' });
                }
                if (consentEvidence === 'none') {
                    factors.push({ text: 'No consent evidence (willful)', type: 'negative' });
                }
            }

            // Consent quality factors
            if (consentEvidence === 'strong') {
                factors.push({ text: 'Strong consent documentation', type: 'positive' });
            } else if (consentEvidence === 'some') {
                factors.push({ text: 'Partial consent records', type: 'neutral' });
            } else if (consentEvidence === 'unknown') {
                factors.push({ text: 'Unknown consent status', type: 'negative' });
            }

            // Opt-out presence
            if (optOutPresent) {
                factors.push({ text: 'Opt-out mechanism included', type: 'positive' });
            } else {
                factors.push({ text: 'No opt-out mechanism', type: 'negative' });
            }

            // Content type factors
            if (contentType === 'marketing') {
                factors.push({ text: 'Marketing content (stricter rules)', type: 'negative' });
            } else if (contentType === 'informational') {
                factors.push({ text: 'Informational content', type: 'positive' });
            } else {
                factors.push({ text: 'Mixed content types', type: 'neutral' });
            }

            // Channel factors
            if (channel === 'both') {
                factors.push({ text: 'Multiple channels (texts + calls)', type: 'negative' });
            }

            // Vendor factors
            if (vendor === 'none') {
                factors.push({ text: 'In-house only (more control)', type: 'positive' });
            } else if (vendor === 'leadSeller') {
                factors.push({ text: 'Lead seller involved (consent chain)', type: 'negative' });
            } else if (vendor === 'multiple') {
                factors.push({ text: 'Multiple vendors (complex liability)', type: 'negative' });
            } else if (vendor === 'agency') {
                factors.push({ text: 'Agency involved (vicarious liability)', type: 'neutral' });
            }

            // Class risk check: volume > 100 + uniform process
            if (volume > 100) {
                classRiskFlagged = true;
                factors.push({ text: 'Volume > 100 (class action risk)', type: 'negative' });
            }

            // Determine risk level
            let riskScore = 0;

            // Volume impact
            if (volume > 500) riskScore += 3;
            else if (volume > 100) riskScore += 2;
            else if (volume > 20) riskScore += 1;

            // Consent impact
            if (consentEvidence === 'none') riskScore += 3;
            else if (consentEvidence === 'unknown') riskScore += 2;
            else if (consentEvidence === 'some') riskScore += 1;

            // Post opt-out impact
            if (postOptOut === 'yes') riskScore += 3;
            else if (postOptOut === 'unknown') riskScore += 1;

            // Opt-out mechanism impact
            if (!optOutPresent) riskScore += 1;

            // Claim posture impact
            if (claimPosture === 'suit') riskScore += 2;
            else if (claimPosture === 'counsel') riskScore += 1;

            // Content type impact
            if (contentType === 'marketing') riskScore += 1;

            // Determine risk band
            if (classRiskFlagged && riskScore >= 5) {
                riskLevel = 'class-risk';
            } else if (riskScore >= 7) {
                riskLevel = 'high';
            } else if (riskScore >= 4) {
                riskLevel = 'medium';
            } else {
                riskLevel = 'low';
            }

            // Calculate exposure range
            const minExposure = volume * baseRate;
            const maxExposure = volume * baseRate * willfulMultiplier;

            // Generate next steps based on situation
            const nextSteps = generateNextSteps(riskLevel, classRiskFlagged, consentEvidence, postOptOut, vendor, claimPosture);

            // Generate preservation checklist
            const preserveItems = generatePreserveList(channel, vendor);

            // Update UI
            updateResults(riskLevel, minExposure, maxExposure, volume, willfulMultiplier, factors, nextSteps, preserveItems, classRiskFlagged);
        }

        function generateNextSteps(riskLevel, classRisk, consent, postOptOut, vendor, posture) {
            const steps = [];

            // Always first: preserve evidence
            steps.push('Issue immediate litigation hold - preserve all platform data, consent records, and communication logs');

            // Consent-based steps
            if (consent === 'none' || consent === 'unknown') {
                steps.push('Search for any consent evidence: web forms, lead sources, CRM records, email confirmations');
            } else if (consent === 'some') {
                steps.push('Strengthen consent documentation: export all available records with timestamps');
            }

            // Post opt-out handling
            if (postOptOut === 'yes') {
                steps.push('Audit opt-out process: identify why contacts continued and document remediation');
            }

            // Vendor-based steps
            if (vendor === 'leadSeller' || vendor === 'multiple') {
                steps.push('Review vendor contracts for indemnification clauses and tender defense if applicable');
            } else if (vendor === 'agency') {
                steps.push('Request agency documentation of consent and compliance procedures');
            }

            // Posture-based steps
            if (posture === 'suit') {
                steps.push('Engage litigation counsel immediately - response deadlines are strict');
            } else if (posture === 'counsel') {
                steps.push('Consider engaging defense counsel before responding to avoid waiving defenses');
            } else if (posture === 'demand') {
                steps.push('Prepare written response acknowledging receipt without admitting liability');
            }

            // Class risk handling
            if (classRisk) {
                steps.push('Evaluate pre-suit settlement to avoid class certification and additional exposure');
            }

            // Risk-based general steps
            if (riskLevel === 'high' || riskLevel === 'class-risk') {
                steps.push('Consider early settlement negotiation before litigation costs escalate');
            } else if (riskLevel === 'medium') {
                steps.push('Prepare defense strategy: identify potential defenses and mitigation factors');
            } else {
                steps.push('Document your compliance measures to support strong defense position');
            }

            return steps.slice(0, 5);
        }

        function generatePreserveList(channel, vendor) {
            const items = [
                'Platform logs and message/call records',
                'Consent records (timestamps, IP addresses, form data)',
                'Opt-out/unsubscribe logs',
                'Lead source documentation'
            ];

            if (channel === 'text' || channel === 'both') {
                items.push('SMS platform export (Twilio, etc.)');
            }

            if (channel === 'call' || channel === 'both') {
                items.push('Call recordings and dialer logs');
            }

            if (vendor !== 'none') {
                items.push('Vendor contracts and SLAs');
                items.push('Vendor compliance certifications');
            }

            items.push('Website/form screenshots (archive.org)');
            items.push('Privacy policy versions (dated)');

            return items.slice(0, 8);
        }

        function updateResults(riskLevel, minExposure, maxExposure, volume, multiplier, factors, nextSteps, preserveItems, classRisk) {
            // Show results section
            const resultsSection = document.getElementById('resultsSection');
            resultsSection.classList.add('visible');

            // Update risk band
            const riskBand = document.getElementById('riskBand');
            const riskBadge = document.getElementById('riskBadge');
            const riskTitle = document.getElementById('riskTitle');
            const exposureRange = document.getElementById('exposureRange');
            const exposureBreakdown = document.getElementById('exposureBreakdown');

            // Remove all risk classes
            riskBand.classList.remove('low', 'medium', 'high', 'class-risk');
            riskBand.classList.add(riskLevel);

            // Set badge and title based on risk
            const riskLabels = {
                'low': { badge: 'LOW RISK', title: 'Manageable Exposure' },
                'medium': { badge: 'MEDIUM RISK', title: 'Moderate Exposure' },
                'high': { badge: 'HIGH RISK', title: 'Significant Exposure' },
                'class-risk': { badge: 'CLASS RISK FLAGGED', title: 'Potential Class Action Exposure' }
            };

            riskBadge.textContent = riskLabels[riskLevel].badge;
            riskTitle.textContent = riskLabels[riskLevel].title;

            // Format currency
            const formatCurrency = (num) => {
                if (num >= 1000000) {
                    return '$' + (num / 1000000).toFixed(1) + 'M';
                } else if (num >= 1000) {
                    return '$' + (num / 1000).toFixed(0) + 'K';
                }
                return '$' + num.toLocaleString();
            };

            exposureRange.textContent = formatCurrency(minExposure) + ' - ' + formatCurrency(maxExposure);

            let breakdownText = 'Based on ' + volume.toLocaleString() + ' violation' + (volume > 1 ? 's' : '');
            if (multiplier > 1) {
                breakdownText += ' at $' + (500 * multiplier).toLocaleString() + '/violation (willful)';
            } else {
                breakdownText += ' at $500/violation (base)';
            }
            exposureBreakdown.textContent = breakdownText;

            // Update factors grid
            const factorsGrid = document.getElementById('factorsGrid');
            factorsGrid.innerHTML = factors.map(f => `
                <div class="factor-item ${f.type}">
                    <span>${f.type === 'positive' ? '&#10003;' : f.type === 'negative' ? '&#10007;' : '&#9679;'}</span>
                    ${f.text}
                </div>
            `).join('');

            // Update next steps
            const nextStepsList = document.getElementById('nextStepsList');
            nextStepsList.innerHTML = nextSteps.map((step, i) => `
                <li>
                    <span class="step-number">${i + 1}</span>
                    ${step}
                </li>
            `).join('');

            // Update preserve list
            const preserveList = document.getElementById('preserveList');
            preserveList.innerHTML = preserveItems.map(item => `
                <li>
                    <span class="preserve-check" onclick="this.classList.toggle('checked'); this.innerHTML = this.classList.contains('checked') ? '&#10003;' : ''"></span>
                    ${item}
                </li>
            `).join('');

            // Scroll to results
            resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>

    <!-- Shared header loader -->
    <script src="/shared/header-loader.js"></script>

</body>
</html>
