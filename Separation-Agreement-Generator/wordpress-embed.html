<!-- SEPARATION AGREEMENT GENERATOR EMBED CODE -->
<!-- Copy this code into a Custom HTML block in WordPress -->

<style>
    .separation-agreement-generator-wrapper {
        width: 100%;
        height: 900px;
        margin: 20px 0;
        position: relative;
        overflow: hidden;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .separation-agreement-generator-iframe {
        width: 100%;
        height: 100%;
        border: none;
        overflow: hidden;
    }
    @media screen and (max-width: 768px) {
        .separation-agreement-generator-wrapper {
            height: 1500px;
        }
    }
</style>

<div class="separation-agreement-generator-wrapper">
    <iframe 
        class="separation-agreement-generator-iframe"
        src="https://terms.law/template-generator/Separation-Agreement-Generator/iframe.html" 
        title="Separation Agreement Generator"
        scrolling="no"
        allowfullscreen>
    </iframe>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var wrapper = document.querySelector('.separation-agreement-generator-wrapper');
        var iframe = document.querySelector('.separation-agreement-generator-iframe');
        
        // Handle iframe messages
        window.addEventListener('message', function(event) {
            if (event.data && event.data.type === 'loaded' && event.source === iframe.contentWindow) {
                // Adjust height based on content if needed
                if (event.data.height) {
                    wrapper.style.height = (event.data.height + 50) + 'px';
                }
            }
        });
        
        // Adjust on resize
        window.addEventListener('resize', function() {
            if (window.innerWidth < 768) {
                wrapper.style.height = '1500px';
            } else {
                wrapper.style.height = '900px';
            }
        });
        
        // Force iframe reload on navigation to ensure fresh state
        window.addEventListener('popstate', function() {
            iframe.src = iframe.src;
        });
    });
</script>
