<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Standalone Test - Tenant Generator</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <div id="root"></div>

    <script>
        // Mock dependencies
        window.STATE_LAWS = {
            'CA': {
                state: 'California',
                returnDeadline: 21,
                citation: 'Civil Code ยง1950.5',
                penaltyDescription: 'Up to twice the amount plus attorney fees',
                smallClaimsLimit: 10000
            }
        };
        
        window.StateLawUtils = {
            calculateTotalDemand: (formData, state) => ({
                total: parseFloat(formData.totalDepositAmount) || 1000,
                deposits: parseFloat(formData.totalDepositAmount) || 1000,
                penalty: 0,
                interest: 0,
                daysPassed: 45
            })
        };
        
        window.generateWordDoc = () => alert('Word doc generation clicked');
        window.initiateESign = () => alert('eSign clicked');
        window.copyToClipboard = (text) => {
            navigator.clipboard.writeText(text).then(() => alert('Copied to clipboard'));
        };

        // Minimal component
        const TenantDepositGenerator = () => {
            const [currentTab, setCurrentTab] = React.useState(0);
            const [formData, setFormData] = React.useState({
                letterTone: 'firm',
                primaryScenario: '',
                totalDepositAmount: '',
                tenantName: '',
                landlordName: ''
            });

            const tabs = [
                { id: 'scenarios', label: 'Your Situation', icon: 'message-circle' },
                { id: 'details', label: 'Details', icon: 'edit-3' },
                { id: 'assessment', label: 'Case Assessment', icon: 'bar-chart-2' }
            ];

            const updateFormData = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const renderScenariosTab = () => {
                return React.createElement('div', { className: 'tab-content' }, [
                    React.createElement('h3', { key: 'title' }, 'Your Situation'),
                    React.createElement('p', { key: 'desc' }, 'This is the scenarios tab content.')
                ]);
            };

            const renderDetailsTab = () => {
                return React.createElement('div', { className: 'tab-content' }, [
                    React.createElement('h3', { key: 'title' }, 'Details'),
                    React.createElement('p', { key: 'desc' }, 'This is the details tab content.')
                ]);
            };

            const renderAssessmentTab = () => {
                return React.createElement('div', { className: 'tab-content' }, [
                    React.createElement('h3', { key: 'title' }, 'Case Assessment'),
                    React.createElement('p', { key: 'desc' }, 'This is the assessment tab content.')
                ]);
            };

            const renderTabContent = () => {
                switch (currentTab) {
                    case 0: return renderScenariosTab();
                    case 1: return renderDetailsTab();
                    case 2: return renderAssessmentTab();
                    default: return renderScenariosTab();
                }
            };

            return React.createElement('div', { className: 'app-container' }, [
                React.createElement('header', { key: 'header', className: 'app-header' }, [
                    React.createElement('h1', { key: 'title' }, 'Tenant Security Deposit Generator - Test'),
                    React.createElement('p', { key: 'subtitle' }, 'Testing the three-tab interface')
                ]),
                
                React.createElement('div', { key: 'main', className: 'main-container' }, [
                    React.createElement('div', { key: 'form', className: 'form-pane' }, [
                        React.createElement('div', { key: 'tabs', className: 'tab-navigation' },
                            tabs.map((tab, index) => 
                                React.createElement('button', {
                                    key: tab.id,
                                    className: `tab-button ${currentTab === index ? 'active' : ''}`,
                                    onClick: () => setCurrentTab(index)
                                }, tab.label)
                            )
                        ),
                        
                        React.createElement('div', { key: 'content', className: 'tab-content-container' },
                            renderTabContent()
                        )
                    ]),
                    
                    React.createElement('div', { key: 'preview', className: 'preview-pane' }, [
                        React.createElement('div', { key: 'header', className: 'preview-header' }, [
                            React.createElement('h3', { key: 'title' }, 'Live Preview')
                        ]),
                        React.createElement('div', { key: 'content', className: 'preview-content' }, [
                            React.createElement('h1', {}, 'DEMAND FOR RETURN OF SECURITY DEPOSIT'),
                            React.createElement('p', {}, 'This is a test preview of the demand letter.')
                        ])
                    ])
                ])
            ]);
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - standalone test');
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(TenantDepositGenerator));
            console.log('Component rendered');
        });
    </script>
</body>
</html>