<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-901N2Y3CDZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-901N2Y3CDZ');
    </script>
    <title>Which NDA Do I Need? | NDA Studio | Terms.Law</title>
    <meta name="description" content="Interactive wizard to find the right NDA for your situation. Business, employee, contractor, M&A, or personal - get matched to the perfect template.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --accent: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --dark-lighter: #1e293b;
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-400: #94a3b8;
            --gray-500: #64748b;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1e293b;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--gray-50);
            color: var(--gray-700);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Site Header - Matching Trading-Legal */
        .site-header {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            padding: 0 24px;
            height: 60px;
        }

        .site-logo {
            font-size: 1.15rem;
            font-weight: 800;
            text-decoration: none;
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-right: 32px;
        }

        .site-nav {
            display: flex;
            align-items: center;
            gap: 0;
            flex: 1;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 18px 16px;
            color: #94a3b8;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            border-bottom: 2px solid transparent;
        }

        .nav-link:hover {
            color: #fff;
            background: rgba(255,255,255,0.05);
        }

        .nav-link:hover,
        .nav-link.active {
            border-bottom-color: var(--primary);
        }

        .nav-cta {
            margin-left: auto;
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
            color: #fff !important;
            padding: 10px 20px !important;
            border-radius: 8px;
            font-weight: 600 !important;
            border-bottom: none !important;
        }

        .nav-cta:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
        }

        /* Hub Sub-Navigation */
        .hub-subnav {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .hub-subnav-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 48px;
        }

        .hub-subnav-title {
            color: #f59e0b;
            font-size: 0.9rem;
            font-weight: 700;
            text-decoration: none;
        }

        .hub-subnav-tabs {
            display: flex;
            gap: 8px;
        }

        .hub-tab {
            padding: 8px 16px;
            color: #94a3b8;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .hub-tab:hover {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }

        .hub-tab.active {
            background: rgba(37, 99, 235, 0.3);
            color: #60a5fa;
        }

        /* Wizard Container */
        .wizard-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 3rem 1.5rem 4rem;
        }

        /* Progress Indicator */
        .progress-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 2.5rem;
        }

        .progress-step {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-circle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 700;
            transition: all 0.3s;
        }

        .progress-circle.inactive {
            background: var(--gray-200);
            color: var(--gray-500);
        }

        .progress-circle.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
        }

        .progress-circle.completed {
            background: var(--success);
            color: white;
        }

        .progress-label {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--gray-500);
        }

        .progress-label.active {
            color: var(--dark);
        }

        .progress-line {
            width: 60px;
            height: 3px;
            background: var(--gray-200);
            border-radius: 2px;
            transition: all 0.3s;
        }

        .progress-line.active {
            background: var(--primary);
        }

        /* Wizard Card */
        .wizard-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            overflow: hidden;
        }

        .wizard-header {
            background: linear-gradient(135deg, var(--dark) 0%, #1e3a5f 100%);
            padding: 2rem;
            text-align: center;
            color: white;
        }

        .wizard-header h1 {
            font-size: 1.75rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }

        .wizard-header p {
            color: var(--gray-400);
            font-size: 0.95rem;
        }

        /* Step Container */
        .step-container {
            padding: 2rem;
            display: none;
        }

        .step-container.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .step-question {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        /* Option Cards */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-card {
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            padding: 1.25rem 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .option-card:hover {
            border-color: var(--primary);
            background: #eff6ff;
            transform: translateX(4px);
        }

        .option-card.selected {
            border-color: var(--primary);
            background: #eff6ff;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15);
        }

        .option-icon {
            font-size: 1.75rem;
            flex-shrink: 0;
        }

        .option-content h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 2px;
        }

        .option-content p {
            font-size: 0.85rem;
            color: var(--gray-600);
        }

        .option-arrow {
            margin-left: auto;
            color: var(--gray-400);
            font-size: 1.25rem;
            transition: transform 0.2s;
        }

        .option-card:hover .option-arrow {
            transform: translateX(4px);
            color: var(--primary);
        }

        /* Navigation Buttons */
        .wizard-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            background: var(--gray-50);
            border-top: 1px solid var(--gray-200);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            border: none;
            text-decoration: none;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-back {
            background: transparent;
            color: var(--gray-600);
            border: 2px solid var(--gray-300);
        }

        .btn-back:hover {
            background: var(--gray-100);
            border-color: var(--gray-400);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Result Card */
        .result-container {
            padding: 2.5rem;
            text-align: center;
            display: none;
        }

        .result-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }

        .result-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 0.75rem;
        }

        .result-description {
            font-size: 1rem;
            color: var(--gray-600);
            max-width: 500px;
            margin: 0 auto 2rem;
            line-height: 1.7;
        }

        .result-features {
            background: var(--gray-50);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: left;
        }

        .result-features h4 {
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1rem;
        }

        .result-features ul {
            list-style: none;
            display: grid;
            gap: 8px;
        }

        .result-features li {
            font-size: 0.9rem;
            color: var(--gray-700);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-features li::before {
            content: "\2713";
            color: var(--success);
            font-weight: 700;
        }

        .result-cta {
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: center;
        }

        .result-cta .btn-primary {
            padding: 1rem 2.5rem;
            font-size: 1rem;
        }

        .result-cta .btn-link {
            color: var(--primary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .result-cta .btn-link:hover {
            text-decoration: underline;
        }

        /* Breadcrumb Trail */
        .breadcrumb-trail {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .breadcrumb-item {
            font-size: 0.75rem;
            color: var(--gray-500);
            background: var(--gray-100);
            padding: 4px 10px;
            border-radius: 100px;
        }

        .breadcrumb-arrow {
            color: var(--gray-400);
            font-size: 0.7rem;
        }

        /* Footer */
        .footer {
            background: var(--dark);
            padding: 2rem 1.5rem;
            color: var(--gray-400);
            text-align: center;
            font-size: 0.85rem;
        }

        .footer a {
            color: var(--gray-300);
            text-decoration: none;
        }

        .footer a:hover {
            color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                padding: 0 16px;
            }

            .site-nav .nav-link:not(.nav-cta) {
                display: none;
            }

            .hub-subnav-content {
                flex-direction: column;
                height: auto;
                padding: 12px 16px;
                gap: 8px;
            }

            .wizard-container {
                padding: 1.5rem 1rem 3rem;
            }

            .wizard-header {
                padding: 1.5rem;
            }

            .wizard-header h1 {
                font-size: 1.4rem;
            }

            .step-container,
            .result-container {
                padding: 1.5rem;
            }

            .progress-bar {
                gap: 8px;
            }

            .progress-line {
                width: 30px;
            }

            .progress-label {
                display: none;
            }

            .option-card {
                padding: 1rem;
            }

            .option-icon {
                font-size: 1.5rem;
            }

            .wizard-nav {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>

<!-- Site Header -->
<header class="site-header">
    <div class="header-content">
        <a href="/" class="site-logo">Terms.Law</a>
        <nav class="site-nav">
            <a href="/Demand-Letters/" class="nav-link">Demands</a>
            <a href="/Templates/" class="nav-link">Contracts</a>
            <a href="/INC/" class="nav-link">Formation</a>
            <a href="/Blog/" class="nav-link">Read</a>
            <a href="mailto:owner@terms.law" class="nav-link nav-cta">Contact</a>
        </nav>
    </div>
</header>

<!-- NDA Studio Sub-Navigation -->
<nav class="hub-subnav">
    <div class="hub-subnav-content">
        <a href="/NDA/" class="hub-subnav-title">NDA Studio</a>
        <div class="hub-subnav-tabs">
            <a href="/NDA/" class="hub-tab">Home</a>
            <a href="/NDA/which-nda.html" class="hub-tab active">Which NDA?</a>
            <a href="/NDA/generator.html" class="hub-tab">Generator</a>
            <a href="/NDA/clause-library/" class="hub-tab">Clauses</a>
        </div>
    </div>
</nav>

<!-- Wizard -->
<div class="wizard-container">
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar">
        <div class="progress-step">
            <div class="progress-circle active" id="step1Circle">1</div>
            <span class="progress-label active" id="step1Label">Situation</span>
        </div>
        <div class="progress-line" id="line1"></div>
        <div class="progress-step">
            <div class="progress-circle inactive" id="step2Circle">2</div>
            <span class="progress-label" id="step2Label">Party</span>
        </div>
        <div class="progress-line" id="line2"></div>
        <div class="progress-step">
            <div class="progress-circle inactive" id="step3Circle">3</div>
            <span class="progress-label" id="step3Label">Details</span>
        </div>
    </div>

    <!-- Wizard Card -->
    <div class="wizard-card">
        <div class="wizard-header">
            <h1>Which NDA Do I Need?</h1>
            <p>Answer a few questions to find your perfect NDA template</p>
        </div>

        <!-- Step 1: Situation -->
        <div class="step-container active" id="step1">
            <h2 class="step-question">What's your situation?</h2>
            <div class="options-grid">
                <div class="option-card" data-value="discloser" onclick="selectOption(1, this, 'discloser')">
                    <span class="option-icon">&#128230;</span>
                    <div class="option-content">
                        <h3>I need to SHARE confidential information</h3>
                        <p>You're the one disclosing secrets and want protection</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="recipient" onclick="selectOption(1, this, 'recipient')">
                    <span class="option-icon">&#128233;</span>
                    <div class="option-content">
                        <h3>Someone wants ME to sign their NDA</h3>
                        <p>You received an NDA and need to review it</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="mutual" onclick="selectOption(1, this, 'mutual')">
                    <span class="option-icon">&#128257;</span>
                    <div class="option-content">
                        <h3>Both of us will share confidential info</h3>
                        <p>Mutual exchange of sensitive information</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
            </div>
        </div>

        <!-- Step 2: Who are you dealing with -->
        <div class="step-container" id="step2">
            <div class="breadcrumb-trail" id="breadcrumb2"></div>
            <h2 class="step-question">Who are you dealing with?</h2>
            <div class="options-grid" id="step2Options">
                <div class="option-card" data-value="business" onclick="selectOption(2, this, 'business')">
                    <span class="option-icon">&#129309;</span>
                    <div class="option-content">
                        <h3>A potential business partner or vendor</h3>
                        <p>Exploring deals, partnerships, or supplier relationships</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="employee" onclick="selectOption(2, this, 'employee')">
                    <span class="option-icon">&#128100;</span>
                    <div class="option-content">
                        <h3>An employee I'm hiring</h3>
                        <p>New hire who will have access to company secrets</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="contractor" onclick="selectOption(2, this, 'contractor')">
                    <span class="option-icon">&#128188;</span>
                    <div class="option-content">
                        <h3>A contractor or freelancer</h3>
                        <p>Independent consultant, designer, or service provider</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="developer" onclick="selectOption(2, this, 'developer')">
                    <span class="option-icon">&#128187;</span>
                    <div class="option-content">
                        <h3>A software developer with code access</h3>
                        <p>Developer who will see source code, APIs, or architecture</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="investor" onclick="selectOption(2, this, 'investor')">
                    <span class="option-icon">&#128200;</span>
                    <div class="option-content">
                        <h3>A potential acquirer or investor (M&A)</h3>
                        <p>Due diligence for acquisition, merger, or investment</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="romantic" onclick="selectOption(2, this, 'romantic')">
                    <span class="option-icon">&#128149;</span>
                    <div class="option-content">
                        <h3>A romantic partner (privacy)</h3>
                        <p>Protecting intimate photos, conversations, or finances</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
                <div class="option-card" data-value="professional" onclick="selectOption(2, this, 'professional')">
                    <span class="option-icon">&#128221;</span>
                    <div class="option-content">
                        <h3>A professional (lawyer, accountant, consultant)</h3>
                        <p>Professional advisors handling sensitive business info</p>
                    </div>
                    <span class="option-arrow">&#8594;</span>
                </div>
            </div>
        </div>

        <!-- Step 3: Contextual Follow-ups -->
        <div class="step-container" id="step3">
            <div class="breadcrumb-trail" id="breadcrumb3"></div>
            <h2 class="step-question" id="step3Question">Additional Details</h2>
            <div class="options-grid" id="step3Options">
                <!-- Dynamically populated -->
            </div>
        </div>

        <!-- Result -->
        <div class="result-container" id="result">
            <div class="breadcrumb-trail" id="breadcrumbResult"></div>
            <div class="result-icon" id="resultIcon">&#128196;</div>
            <h2 class="result-title" id="resultTitle">Your Recommended NDA</h2>
            <p class="result-description" id="resultDescription">Based on your answers, here's the perfect NDA template for your situation.</p>
            <div class="result-features">
                <h4>Key Features</h4>
                <ul id="resultFeatures">
                    <li>Mutual confidentiality protection</li>
                    <li>Standard 2-year term</li>
                    <li>Purpose-limited usage</li>
                </ul>
            </div>
            <div class="result-cta">
                <a href="#" class="btn btn-primary" id="resultCta">Generate This NDA &#8594;</a>
                <a href="/NDA/" class="btn-link">Or explore all NDA scenarios</a>
            </div>
        </div>

        <!-- Navigation -->
        <div class="wizard-nav" id="wizardNav">
            <button class="btn btn-back" id="backBtn" onclick="goBack()" style="visibility: hidden;">
                <span>&#8592;</span> Back
            </button>
            <button class="btn btn-primary" id="nextBtn" disabled onclick="goNext()">
                Continue <span>&#8594;</span>
            </button>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="footer">
    <p>&copy; 2025 Terms.Law - Sergei Tokmakov, Esq. | <a href="/privacy/">Privacy</a> | <a href="/terms/">Terms</a></p>
</footer>

<script>
    // Wizard State
    let currentStep = 1;
    let selections = {
        situation: null,
        party: null,
        context: null
    };

    // Step 3 Options based on Party Selection
    const step3Config = {
        business: {
            question: "What stage are you at?",
            options: [
                { value: "exploratory", icon: "&#128269;", title: "Early exploratory talks", desc: "Just starting discussions, nothing formal yet", scenario: "business-exploratory" },
                { value: "active", icon: "&#128176;", title: "Active negotiation", desc: "Serious discussions, exchanging detailed info", scenario: "business-active" },
                { value: "ongoing", icon: "&#129309;", title: "Ongoing relationship", desc: "Already working together, need to formalize", scenario: "business-ongoing" }
            ]
        },
        employee: {
            question: "What level of access will they have?",
            options: [
                { value: "executive", icon: "&#128081;", title: "Executive or senior role", desc: "Access to financials, strategy, client lists", scenario: "employee-executive" },
                { value: "technical", icon: "&#128295;", title: "Technical/engineering role", desc: "Access to source code, trade secrets", scenario: "employee-technical" },
                { value: "general", icon: "&#128101;", title: "General staff position", desc: "Limited confidential access", scenario: "employee-general" }
            ]
        },
        contractor: {
            question: "What type of work are they doing?",
            options: [
                { value: "creative", icon: "&#127912;", title: "Creative/design work", desc: "Branding, content, marketing materials", scenario: "contractor-creative" },
                { value: "technical", icon: "&#128187;", title: "Technical/development", desc: "Building software, systems, integrations", scenario: "contractor-technical" },
                { value: "consulting", icon: "&#128202;", title: "Strategy/consulting", desc: "Business advice, market research", scenario: "contractor-consulting" }
            ]
        },
        developer: {
            question: "What will they access?",
            options: [
                { value: "sourcecode", icon: "&#128187;", title: "Full source code access", desc: "Complete repository, architecture docs", scenario: "developer-source" },
                { value: "api", icon: "&#128268;", title: "API/integration access only", desc: "External interfaces, documentation", scenario: "developer-api" },
                { value: "review", icon: "&#128270;", title: "Code review/audit", desc: "Security audit, technical due diligence", scenario: "developer-audit" }
            ]
        },
        investor: {
            question: "What's the context?",
            options: [
                { value: "fundraising", icon: "&#128176;", title: "Fundraising round", desc: "Sharing data room with potential investors", scenario: "investor-fundraise" },
                { value: "acquisition", icon: "&#127970;", title: "Acquisition/merger", desc: "Full due diligence, potential exit", scenario: "investor-ma" },
                { value: "strategic", icon: "&#129309;", title: "Strategic partnership", desc: "Joint venture or strategic investment", scenario: "investor-strategic" }
            ]
        },
        romantic: {
            question: "What do you need to protect?",
            options: [
                { value: "photos", icon: "&#128247;", title: "Intimate photos/videos", desc: "Preventing revenge porn or leaks", scenario: "romantic-photos" },
                { value: "finances", icon: "&#128178;", title: "Financial information", desc: "Income, assets, business dealings", scenario: "romantic-finance" },
                { value: "all", icon: "&#128274;", title: "Everything (comprehensive)", desc: "Full relationship privacy protection", scenario: "romantic-comprehensive" }
            ]
        },
        professional: {
            question: "What type of professional?",
            options: [
                { value: "legal", icon: "&#9878;", title: "Legal counsel (attorney)", desc: "Already has ethical confidentiality duties", scenario: "professional-legal" },
                { value: "financial", icon: "&#128202;", title: "Accountant/financial advisor", desc: "Access to books, taxes, financial data", scenario: "professional-financial" },
                { value: "consultant", icon: "&#128188;", title: "Business consultant", desc: "Strategy, operations, market analysis", scenario: "professional-consultant" }
            ]
        }
    };

    // Result configurations
    const results = {
        // Business scenarios
        "business-exploratory": {
            icon: "&#129309;",
            title: "Mutual Business NDA (Standard)",
            description: "Perfect for initial exploratory discussions. Protects both parties equally with a standard 2-year term and balanced obligations.",
            features: [
                "Mutual confidentiality (both sides protected)",
                "Standard 2-year term",
                "Purpose-limited to exploring potential relationship",
                "Standard return/destroy provisions"
            ],
            scenario: "business-mutual"
        },
        "business-active": {
            icon: "&#128200;",
            title: "Mutual Business NDA (Enhanced)",
            description: "For active negotiations with detailed information exchange. Includes non-circumvent and non-solicit clauses.",
            features: [
                "Mutual protection with enhanced provisions",
                "Non-circumvention clause",
                "Non-solicitation of employees",
                "Detailed definition of confidential info",
                "3-year term recommended"
            ],
            scenario: "business-enhanced"
        },
        "business-ongoing": {
            icon: "&#129309;",
            title: "Ongoing Business Relationship NDA",
            description: "For formalizing an existing partnership. Covers past and future disclosures with perpetual trade secret protection.",
            features: [
                "Covers prior and future disclosures",
                "Perpetual protection for trade secrets",
                "Annual review provisions",
                "Amendment procedures included"
            ],
            scenario: "business-ongoing"
        },
        // Employee scenarios
        "employee-executive": {
            icon: "&#128081;",
            title: "Executive Employee NDA",
            description: "Comprehensive protection for senior hires with access to strategic information, client relationships, and financial data.",
            features: [
                "One-way protection (company favor)",
                "Broad definition of confidential info",
                "Non-solicitation of clients and employees",
                "Post-termination obligations (2+ years)",
                "Injunctive relief provisions"
            ],
            scenario: "employee-executive"
        },
        "employee-technical": {
            icon: "&#128187;",
            title: "Technical Employee NDA",
            description: "Specialized for engineers and developers. Includes source code protection, IP assignment integration, and invention disclosure.",
            features: [
                "Source code and trade secret protection",
                "Works with IP assignment agreement",
                "Invention disclosure requirements",
                "No residuals clause protection",
                "Survival beyond employment"
            ],
            scenario: "employee-technical"
        },
        "employee-general": {
            icon: "&#128101;",
            title: "Standard Employee NDA",
            description: "Balanced protection for general staff positions with proportionate obligations.",
            features: [
                "One-way confidentiality",
                "Reasonable scope limitations",
                "1-year post-termination term",
                "Standard return of materials"
            ],
            scenario: "employee-standard"
        },
        // Contractor scenarios
        "contractor-creative": {
            icon: "&#127912;",
            title: "Creative Contractor NDA",
            description: "For designers, content creators, and marketing professionals. Balances confidentiality with portfolio rights.",
            features: [
                "Mutual confidentiality provisions",
                "Portfolio exception for public work",
                "Works with IP assignment clause",
                "Project-based term options"
            ],
            scenario: "contractor-creative"
        },
        "contractor-technical": {
            icon: "&#128295;",
            title: "Technical Contractor NDA",
            description: "For developers and technical consultants. Strong source code protection with IP ownership clarity.",
            features: [
                "Source code protection",
                "No reverse engineering clause",
                "Clear IP ownership provisions",
                "Residuals clause protection",
                "Audit rights included"
            ],
            scenario: "contractor-technical"
        },
        "contractor-consulting": {
            icon: "&#128202;",
            title: "Consulting Contractor NDA",
            description: "For business consultants and advisors. Protects strategy while allowing consultant's methodology.",
            features: [
                "Mutual protection (balanced)",
                "Consultant residual knowledge carve-out",
                "Client list protection",
                "Competitive work restrictions"
            ],
            scenario: "contractor-consulting"
        },
        // Developer scenarios
        "developer-source": {
            icon: "&#128187;",
            title: "Source Code Access NDA",
            description: "Maximum protection for full repository access. Includes no-residuals, anti-reverse-engineering, and strict audit rights.",
            features: [
                "Strict no-residuals clause",
                "Anti-reverse engineering",
                "Code access audit trail",
                "Immediate return/destroy obligations",
                "Criminal penalty acknowledgment"
            ],
            scenario: "developer-source"
        },
        "developer-api": {
            icon: "&#128268;",
            title: "API Integration NDA",
            description: "For API documentation and integration work. Lighter touch while protecting implementation details.",
            features: [
                "API documentation protection",
                "Rate limiting and usage rights",
                "Integration security requirements",
                "Reasonable developer flexibility"
            ],
            scenario: "developer-api"
        },
        "developer-audit": {
            icon: "&#128270;",
            title: "Code Audit NDA",
            description: "For security audits and technical due diligence. Time-limited access with strict reporting controls.",
            features: [
                "Time-limited access window",
                "Report confidentiality",
                "Vulnerability disclosure protocol",
                "No retention of code copies"
            ],
            scenario: "developer-audit"
        },
        // Investor scenarios
        "investor-fundraise": {
            icon: "&#128176;",
            title: "Fundraising NDA",
            description: "For sharing your data room with potential investors. Balanced to not scare away VCs while protecting key info.",
            features: [
                "Investor-friendly standard terms",
                "Data room access protocol",
                "Non-circumvent provisions",
                "Reasonable return obligations",
                "Standard 18-month term"
            ],
            scenario: "investor-fundraise"
        },
        "investor-ma": {
            icon: "&#127970;",
            title: "M&A Due Diligence NDA",
            description: "Comprehensive protection for acquisition discussions. Includes standstill, non-circumvent, and strict data handling.",
            features: [
                "Standstill clause included",
                "Non-circumvent and non-hire",
                "Strict return/destroy protocol",
                "Deal-specific purpose limitation",
                "Announcement coordination"
            ],
            scenario: "investor-ma"
        },
        "investor-strategic": {
            icon: "&#129309;",
            title: "Strategic Partnership NDA",
            description: "For joint ventures and strategic investments. Mutual protection with clear competitive boundaries.",
            features: [
                "Mutual comprehensive protection",
                "Competitive use restrictions",
                "Joint venture carve-outs",
                "Long-term relationship provisions"
            ],
            scenario: "investor-strategic"
        },
        // Romantic scenarios
        "romantic-photos": {
            icon: "&#128247;",
            title: "Intimate Content NDA",
            description: "Specifically protects intimate photos and videos. Enforceable with clear breach penalties and takedown rights.",
            features: [
                "Explicit content definition",
                "Lifetime confidentiality",
                "Automatic takedown rights",
                "Liquidated damages clause",
                "Criminal law reference"
            ],
            scenario: "romantic-intimate"
        },
        "romantic-finance": {
            icon: "&#128178;",
            title: "Financial Privacy NDA",
            description: "Protects income, assets, and business information shared in a relationship.",
            features: [
                "Income and asset protection",
                "Business dealings confidentiality",
                "Investment information",
                "Reasonable exceptions (legal requirements)"
            ],
            scenario: "romantic-financial"
        },
        "romantic-comprehensive": {
            icon: "&#128274;",
            title: "Comprehensive Relationship NDA",
            description: "Full privacy protection covering all aspects of the relationship - intimate, financial, and personal.",
            features: [
                "Intimate content protection",
                "Financial information",
                "Personal conversations and experiences",
                "Third-party disclosure prohibition",
                "Post-relationship obligations"
            ],
            scenario: "romantic-comprehensive"
        },
        // Professional scenarios
        "professional-legal": {
            icon: "&#9878;",
            title: "Attorney Engagement NDA Supplement",
            description: "Attorneys already have ethical duties. This supplements with specific business protections beyond privilege.",
            features: [
                "Supplements attorney-client privilege",
                "Business strategy protection",
                "Third-party information handling",
                "Conflict disclosure provisions"
            ],
            scenario: "professional-legal"
        },
        "professional-financial": {
            icon: "&#128202;",
            title: "Financial Advisor NDA",
            description: "For accountants and financial advisors handling your books, taxes, and financial strategy.",
            features: [
                "Tax return confidentiality",
                "Financial statement protection",
                "Banking information",
                "Business valuation data",
                "Regulatory compliance provisions"
            ],
            scenario: "professional-financial"
        },
        "professional-consultant": {
            icon: "&#128188;",
            title: "Business Consultant NDA",
            description: "For strategy consultants, market researchers, and business advisors with deep company access.",
            features: [
                "Mutual protection provisions",
                "Strategy and planning confidentiality",
                "Client/vendor information",
                "Consultant methodology carve-out",
                "Non-compete considerations"
            ],
            scenario: "professional-consultant"
        }
    };

    // Handle option selection
    function selectOption(step, element, value) {
        // Remove selected from siblings
        const container = element.parentElement;
        container.querySelectorAll('.option-card').forEach(card => {
            card.classList.remove('selected');
        });

        // Add selected to clicked
        element.classList.add('selected');

        // Store selection
        if (step === 1) {
            selections.situation = value;
        } else if (step === 2) {
            selections.party = value;
        } else if (step === 3) {
            selections.context = value;
        }

        // Enable next button
        document.getElementById('nextBtn').disabled = false;

        // Auto-advance after short delay
        setTimeout(() => {
            goNext();
        }, 300);
    }

    // Navigate to next step
    function goNext() {
        if (currentStep === 1 && selections.situation) {
            // Special case: if recipient (reviewing someone else's NDA), redirect to analyzer
            if (selections.situation === 'recipient') {
                showRecipientResult();
                return;
            }
            showStep(2);
        } else if (currentStep === 2 && selections.party) {
            showStep(3);
        } else if (currentStep === 3 && selections.context) {
            showResult();
        }
    }

    // Navigate back
    function goBack() {
        if (currentStep === 2) {
            showStep(1);
        } else if (currentStep === 3) {
            showStep(2);
        } else if (currentStep === 4) {
            showStep(3);
        }
    }

    // Show specific step
    function showStep(step) {
        currentStep = step;

        // Hide all steps
        document.querySelectorAll('.step-container').forEach(s => s.classList.remove('active'));
        document.getElementById('result').classList.remove('active');

        // Show target step
        document.getElementById('step' + step).classList.add('active');

        // Update progress
        updateProgress(step);

        // Update navigation
        document.getElementById('backBtn').style.visibility = step > 1 ? 'visible' : 'hidden';
        document.getElementById('nextBtn').disabled = true;
        document.getElementById('wizardNav').style.display = 'flex';

        // Populate step 3 if showing
        if (step === 3 && selections.party) {
            populateStep3();
        }

        // Update breadcrumbs
        updateBreadcrumbs(step);
    }

    // Populate step 3 options based on party selection
    function populateStep3() {
        const config = step3Config[selections.party];
        if (!config) return;

        document.getElementById('step3Question').textContent = config.question;

        const container = document.getElementById('step3Options');
        container.innerHTML = '';

        config.options.forEach(opt => {
            const card = document.createElement('div');
            card.className = 'option-card';
            card.setAttribute('data-value', opt.value);
            card.setAttribute('data-scenario', opt.scenario);
            card.onclick = function() { selectOption(3, this, opt.scenario); };

            card.innerHTML = `
                <span class="option-icon">${opt.icon}</span>
                <div class="option-content">
                    <h3>${opt.title}</h3>
                    <p>${opt.desc}</p>
                </div>
                <span class="option-arrow">&#8594;</span>
            `;

            container.appendChild(card);
        });
    }

    // Update progress indicator
    function updateProgress(step) {
        for (let i = 1; i <= 3; i++) {
            const circle = document.getElementById('step' + i + 'Circle');
            const label = document.getElementById('step' + i + 'Label');
            const line = document.getElementById('line' + (i - 1));

            if (i < step) {
                circle.className = 'progress-circle completed';
                circle.innerHTML = '&#10003;';
                label.className = 'progress-label';
                if (line) line.className = 'progress-line active';
            } else if (i === step) {
                circle.className = 'progress-circle active';
                circle.innerHTML = i;
                label.className = 'progress-label active';
                if (line) line.className = 'progress-line active';
            } else {
                circle.className = 'progress-circle inactive';
                circle.innerHTML = i;
                label.className = 'progress-label';
                if (line) line.className = 'progress-line';
            }
        }
    }

    // Update breadcrumbs
    function updateBreadcrumbs(step) {
        const labels = {
            discloser: "Sharing Info",
            recipient: "Reviewing NDA",
            mutual: "Mutual Exchange",
            business: "Business Partner",
            employee: "Employee",
            contractor: "Contractor",
            developer: "Developer",
            investor: "Investor/M&A",
            romantic: "Romantic Partner",
            professional: "Professional"
        };

        let html = '';

        if (step >= 2 && selections.situation) {
            html += `<span class="breadcrumb-item">${labels[selections.situation] || selections.situation}</span>`;
        }

        if (step >= 3 && selections.party) {
            html += `<span class="breadcrumb-arrow">&#8594;</span>`;
            html += `<span class="breadcrumb-item">${labels[selections.party] || selections.party}</span>`;
        }

        if (document.getElementById('breadcrumb2')) {
            document.getElementById('breadcrumb2').innerHTML = step >= 2 ? html : '';
        }
        if (document.getElementById('breadcrumb3')) {
            document.getElementById('breadcrumb3').innerHTML = step >= 3 ? html : '';
        }
        if (document.getElementById('breadcrumbResult')) {
            document.getElementById('breadcrumbResult').innerHTML = html;
        }
    }

    // Show result for recipient flow
    function showRecipientResult() {
        currentStep = 4;

        document.querySelectorAll('.step-container').forEach(s => s.classList.remove('active'));
        document.getElementById('result').classList.add('active');
        document.getElementById('wizardNav').style.display = 'none';

        // Update progress to show completion
        updateProgress(4);

        document.getElementById('resultIcon').innerHTML = '&#128270;';
        document.getElementById('resultTitle').textContent = 'NDA Review & Negotiation Mode';
        document.getElementById('resultDescription').textContent = 'Since you received an NDA to sign, you need our NDA Analyzer tool to identify risks and get negotiation language.';

        document.getElementById('resultFeatures').innerHTML = `
            <li>Upload or paste the NDA you received</li>
            <li>Get clause-by-clause risk analysis</li>
            <li>Identify one-sided or dangerous terms</li>
            <li>Get ready-to-send pushback language</li>
            <li>Suggested fallback provisions</li>
        `;

        document.getElementById('resultCta').textContent = 'Analyze This NDA';
        document.getElementById('resultCta').href = '/NDA/analyzer.html';

        updateBreadcrumbs(4);
    }

    // Show final result
    function showResult() {
        currentStep = 4;

        document.querySelectorAll('.step-container').forEach(s => s.classList.remove('active'));
        document.getElementById('result').classList.add('active');
        document.getElementById('wizardNav').style.display = 'none';

        // Update progress
        updateProgress(4);

        // Get result config
        const resultKey = selections.context;
        const config = results[resultKey];

        if (config) {
            document.getElementById('resultIcon').innerHTML = config.icon;
            document.getElementById('resultTitle').textContent = config.title;
            document.getElementById('resultDescription').textContent = config.description;

            let featuresHtml = '';
            config.features.forEach(f => {
                featuresHtml += `<li>${f}</li>`;
            });
            document.getElementById('resultFeatures').innerHTML = featuresHtml;

            document.getElementById('resultCta').textContent = 'Generate This NDA';
            document.getElementById('resultCta').href = `/NDA/generator.html?scenario=${config.scenario}`;
        }

        updateBreadcrumbs(4);
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
        showStep(1);
    });
</script>

<!-- Chat Widget -->
<script src="/chat-widget/chat-widget.js"></script>

</body>
</html>
