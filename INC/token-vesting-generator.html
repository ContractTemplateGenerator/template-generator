<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Professional Token Vesting Agreement Generator</title>
  <meta name="description" content="Create comprehensive, attorney-quality token vesting agreements with cliff periods, acceleration provisions, and full legal protections.">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #2c3e50;
      background-color: #f5f7fa;
      padding: 20px;
    }

    .vesting-container {
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      border-radius: 12px 12px 0 0;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: center;
    }

    .header h1 {
      font-size: 28px;
      margin-bottom: 10px;
      font-weight: 600;
    }

    .header p {
      font-size: 16px;
      opacity: 0.95;
    }

    .main-grid {
      display: grid;
      grid-template-columns: 1fr 500px;
      gap: 0;
      background: white;
      border-radius: 0 0 12px 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .form-column {
      padding: 30px;
      overflow-y: auto;
      max-height: 900px;
      border-right: 1px solid #e2e8f0;
    }

    .preview-column {
      padding: 30px;
      background: #f8fafc;
      overflow-y: auto;
      max-height: 900px;
      position: relative;
    }

    .form-section {
      margin-bottom: 30px;
      padding-bottom: 25px;
      border-bottom: 2px solid #e2e8f0;
    }

    .form-section:last-child {
      border-bottom: none;
    }

    .section-title {
      font-size: 18px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-icon {
      font-size: 20px;
    }

    .form-group {
      margin-bottom: 18px;
    }

    .form-label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      color: #334155;
      font-size: 14px;
    }

    .required {
      color: #ef4444;
      margin-left: 2px;
    }

    .form-input,
    .form-select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #cbd5e1;
      border-radius: 6px;
      font-size: 14px;
      color: #1e293b;
      transition: all 0.2s;
    }

    .form-input:focus,
    .form-select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .form-input[type="number"] {
      -moz-appearance: textfield;
    }

    .form-input[type="number"]::-webkit-inner-spin-button,
    .form-input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .help-text {
      font-size: 12px;
      color: #64748b;
      margin-top: 4px;
      font-style: italic;
    }

    .radio-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .radio-option {
      display: flex;
      align-items: flex-start;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .radio-option:hover {
      border-color: #667eea;
      background-color: #f8f9ff;
    }

    .radio-option.selected {
      border-color: #667eea;
      background-color: #f0f4ff;
    }

    .radio-option input[type="radio"] {
      margin-right: 10px;
      margin-top: 2px;
      accent-color: #667eea;
      cursor: pointer;
    }

    .radio-content {
      flex: 1;
    }

    .radio-label {
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 3px;
      display: block;
    }

    .radio-description {
      font-size: 12px;
      color: #64748b;
      line-height: 1.4;
    }

    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .checkbox-option {
      display: flex;
      align-items: center;
      padding: 10px;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .checkbox-option:hover {
      background-color: #f8fafc;
    }

    .checkbox-option input[type="checkbox"] {
      margin-right: 10px;
      accent-color: #667eea;
      cursor: pointer;
      width: 18px;
      height: 18px;
    }

    .checkbox-label {
      font-size: 14px;
      color: #334155;
      cursor: pointer;
    }

    .info-box {
      background: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
      border-left: 4px solid #667eea;
      padding: 14px;
      border-radius: 6px;
      margin-bottom: 15px;
    }

    .info-box-title {
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 6px;
      font-size: 13px;
    }

    .info-box-content {
      font-size: 12px;
      color: #475569;
      line-height: 1.5;
    }

    .alert-box {
      padding: 12px;
      border-radius: 6px;
      margin-bottom: 15px;
      font-size: 13px;
      border-left: 4px solid;
    }

    .alert-warning {
      background-color: #fffbeb;
      border-color: #f59e0b;
      color: #92400e;
    }

    .alert-success {
      background-color: #f0fdf4;
      border-color: #10b981;
      color: #065f46;
    }

    .btn-group {
      display: flex;
      gap: 10px;
      margin-top: 25px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      text-align: center;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .btn-secondary {
      background-color: #f1f5f9;
      color: #475569;
    }

    .btn-secondary:hover {
      background-color: #e2e8f0;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Preview Styles */
    .preview-header {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #e2e8f0;
    }

    .preview-title {
      font-size: 18px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 5px;
    }

    .preview-subtitle {
      font-size: 12px;
      color: #64748b;
      font-style: italic;
    }

    .preview-box {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 25px;
      min-height: 700px;
      font-size: 13px;
      line-height: 1.8;
      color: #1e293b;
      position: relative;
    }

    .doc-title {
      text-align: center;
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 25px;
      text-transform: uppercase;
    }

    .doc-section {
      margin-bottom: 25px;
    }

    .doc-section-title {
      font-size: 15px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 12px;
    }

    .doc-paragraph {
      margin-bottom: 12px;
      text-align: justify;
    }

    .doc-list {
      margin-left: 25px;
      margin-bottom: 12px;
    }

    .doc-list li {
      margin-bottom: 6px;
    }

    .highlight {
      background-color: #fef3c7;
      padding: 2px 4px;
      border-radius: 3px;
    }

    /* Vesting Calculator */
    .vesting-calculator {
      background: white;
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
    }

    .calculator-title {
      font-size: 16px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 15px;
      text-align: center;
    }

    .vesting-timeline {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .timeline-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background: #f8fafc;
      border-radius: 6px;
    }

    .timeline-date {
      font-weight: 600;
      color: #1e293b;
      font-size: 12px;
    }

    .timeline-amount {
      font-weight: 700;
      color: #667eea;
      font-size: 13px;
    }

    .vesting-chart {
      margin-top: 15px;
      height: 200px;
      background: linear-gradient(to top, #f0f4ff 0%, transparent 100%);
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      position: relative;
      padding: 10px;
    }

    .chart-bar {
      position: absolute;
      bottom: 10px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 4px 4px 0 0;
      transition: all 0.3s;
    }

    /* Payment Modal */
    .payment-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .payment-content {
      background: white;
      border-radius: 12px;
      padding: 30px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    .payment-header {
      text-align: center;
      margin-bottom: 20px;
    }

    .payment-icon {
      font-size: 48px;
      margin-bottom: 10px;
    }

    .payment-title {
      font-size: 22px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 8px;
    }

    .payment-description {
      font-size: 14px;
      color: #64748b;
      line-height: 1.5;
    }

    .payment-features {
      margin: 20px 0;
      padding: 15px;
      background: #f8fafc;
      border-radius: 8px;
    }

    .feature-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      font-size: 13px;
    }

    .feature-icon {
      color: #10b981;
      margin-right: 10px;
      font-size: 16px;
    }

    .price-display {
      text-align: center;
      margin: 20px 0;
    }

    .price-amount {
      font-size: 36px;
      font-weight: 700;
      color: #667eea;
    }

    .price-label {
      font-size: 13px;
      color: #64748b;
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .main-grid {
        grid-template-columns: 1fr;
      }

      .form-column {
        border-right: none;
        border-bottom: 1px solid #e2e8f0;
        max-height: none;
      }

      .preview-column {
        max-height: 600px;
      }
    }

    @media (max-width: 768px) {
      .header h1 {
        font-size: 22px;
      }

      .btn-group {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <div class="vesting-container">
    <!-- Header -->
    <div class="header">
      <h1>Professional Token Vesting Agreement Generator</h1>
      <p>Create comprehensive, attorney-quality token vesting agreements with advanced provisions</p>
    </div>

    <div class="main-grid">
      <!-- Form Column -->
      <div class="form-column">
        <form id="vestingForm">

          <!-- Company Information -->
          <div class="form-section">
            <div class="section-title">
              <span class="section-icon">üè¢</span>
              <span>Company Information</span>
            </div>

            <div class="form-group">
              <label class="form-label">Company/Project Name <span class="required">*</span></label>
              <input type="text" class="form-input" id="companyName" value="BlockChain Innovations LLC" required>
            </div>

            <div class="form-group">
              <label class="form-label">Company Address <span class="required">*</span></label>
              <input type="text" class="form-input" id="companyAddress" value="251 Little Falls Drive, Wilmington, DE 19808" required>
            </div>

            <div class="form-group">
              <label class="form-label">Authorized Signatory Name <span class="required">*</span></label>
              <input type="text" class="form-input" id="signatoryName" value="Jane Smith" required>
              <div class="help-text">Person authorized to sign on behalf of the company</div>
            </div>

            <div class="form-group">
              <label class="form-label">Signatory Title <span class="required">*</span></label>
              <input type="text" class="form-input" id="signatoryTitle" value="Chief Executive Officer" required>
            </div>
          </div>

          <!-- Recipient Information -->
          <div class="form-section">
            <div class="section-title">
              <span class="section-icon">üë§</span>
              <span>Recipient Information</span>
            </div>

            <div class="form-group">
              <label class="form-label">Recipient Name <span class="required">*</span></label>
              <input type="text" class="form-input" id="recipientName" value="John Anderson" required>
            </div>

            <div class="form-group">
              <label class="form-label">Recipient Address <span class="required">*</span></label>
              <input type="text" class="form-input" id="recipientAddress" value="123 Main Street, San Francisco, CA 94102" required>
            </div>

            <div class="form-group">
              <label class="form-label">Recipient Role/Position <span class="required">*</span></label>
              <input type="text" class="form-input" id="recipientRole" value="Chief Technology Officer" required>
            </div>

            <div class="form-group">
              <label class="form-label">Relationship to Company <span class="required">*</span></label>
              <select class="form-select" id="relationship" required>
                <option value="employee">Employee</option>
                <option value="founder" selected>Founder</option>
                <option value="advisor">Advisor</option>
                <option value="consultant">Consultant</option>
                <option value="investor">Investor</option>
                <option value="partner">Strategic Partner</option>
              </select>
            </div>
          </div>

          <!-- Token Details -->
          <div class="form-section">
            <div class="section-title">
              <span class="section-icon">ü™ô</span>
              <span>Token Details</span>
            </div>

            <div class="form-group">
              <label class="form-label">Token Name <span class="required">*</span></label>
              <input type="text" class="form-input" id="tokenName" value="Innovation Token" required>
            </div>

            <div class="form-group">
              <label class="form-label">Token Symbol <span class="required">*</span></label>
              <input type="text" class="form-input" id="tokenSymbol" value="INNOV" required>
            </div>

            <div class="form-group">
              <label class="form-label">Total Token Amount <span class="required">*</span></label>
              <input type="number" class="form-input" id="tokenAmount" value="1000000" min="1" required>
              <div class="help-text">Total number of tokens subject to this vesting agreement</div>
            </div>

            <div class="form-group">
              <label class="form-label">Token Standard</label>
              <select class="form-select" id="tokenStandard">
                <option value="ERC-20" selected>ERC-20 (Ethereum)</option>
                <option value="BEP-20">BEP-20 (Binance Smart Chain)</option>
                <option value="SPL">SPL (Solana)</option>
                <option value="TRC-20">TRC-20 (Tron)</option>
                <option value="NEP-141">NEP-141 (NEAR)</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Smart Contract Address</label>
              <input type="text" class="form-input" id="contractAddress" placeholder="0x... (if deployed)">
              <div class="help-text">Leave blank if contract not yet deployed</div>
            </div>

            <div class="form-group">
              <label class="form-label">Token Price per Unit (USD)</label>
              <input type="number" class="form-input" id="tokenPrice" placeholder="0.50" step="0.01" min="0">
              <div class="help-text">Optional: For reference and potential tax reporting</div>
            </div>
          </div>

          <!-- Vesting Schedule -->
          <div class="form-section">
            <div class="section-title">
              <span class="section-icon">üìÖ</span>
              <span>Vesting Schedule</span>
            </div>

            <div class="info-box">
              <div class="info-box-title">üí° Understanding Vesting Schedules</div>
              <div class="info-box-content">
                A cliff period delays initial vesting. Linear vesting releases tokens continuously, while interval vesting releases in chunks at regular periods.
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Start Date <span class="required">*</span></label>
              <input type="date" class="form-input" id="startDate" required>
            </div>

            <div class="form-group">
              <label class="form-label">Cliff Period (months)</label>
              <input type="number" class="form-input" id="cliffMonths" value="12" min="0" max="48">
              <div class="help-text">Period before any tokens vest (0 for no cliff)</div>
            </div>

            <div class="form-group">
              <label class="form-label">Total Vesting Period (months) <span class="required">*</span></label>
              <input type="number" class="form-input" id="totalMonths" value="48" min="1" max="120" required>
              <div class="help-text">Total duration including cliff period</div>
            </div>

            <div class="form-group">
              <label class="form-label">Vesting Type <span class="required">*</span></label>
              <div class="radio-group">
                <label class="radio-option selected">
                  <input type="radio" name="vestingType" value="linear" checked>
                  <div class="radio-content">
                    <span class="radio-label">Linear (Continuous)</span>
                    <span class="radio-description">Tokens vest continuously every day after cliff</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="vestingType" value="monthly">
                  <div class="radio-content">
                    <span class="radio-label">Monthly Intervals</span>
                    <span class="radio-description">Equal portions vest monthly after cliff</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="vestingType" value="quarterly">
                  <div class="radio-content">
                    <span class="radio-label">Quarterly Intervals</span>
                    <span class="radio-description">Equal portions vest quarterly after cliff</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="vestingType" value="yearly">
                  <div class="radio-content">
                    <span class="radio-label">Yearly Intervals</span>
                    <span class="radio-description">Equal portions vest annually after cliff</span>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Advanced Provisions -->
          <div class="form-section">
            <div class="section-title">
              <span class="section-icon">‚öôÔ∏è</span>
              <span>Advanced Provisions</span>
            </div>

            <div class="form-group">
              <label class="form-label">Termination Provisions</label>
              <div class="radio-group">
                <label class="radio-option selected">
                  <input type="radio" name="termination" value="standard" checked>
                  <div class="radio-content">
                    <span class="radio-label">Standard Termination</span>
                    <span class="radio-description">Vesting stops on termination; vested tokens remain with recipient</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="termination" value="for-cause">
                  <div class="radio-content">
                    <span class="radio-label">For-Cause Forfeiture</span>
                    <span class="radio-description">All tokens (vested & unvested) forfeited if terminated for cause</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="termination" value="partial">
                  <div class="radio-content">
                    <span class="radio-label">Partial Acceleration</span>
                    <span class="radio-description">50% of unvested tokens vest on termination without cause</span>
                  </div>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Change of Control Acceleration</label>
              <div class="radio-group">
                <label class="radio-option selected">
                  <input type="radio" name="changeControl" value="double-trigger" checked>
                  <div class="radio-content">
                    <span class="radio-label">Double Trigger Acceleration</span>
                    <span class="radio-description">100% vesting if change of control AND subsequent termination</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="changeControl" value="full">
                  <div class="radio-content">
                    <span class="radio-label">Full Acceleration</span>
                    <span class="radio-description">All unvested tokens vest immediately on change of control</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="changeControl" value="none">
                  <div class="radio-content">
                    <span class="radio-label">No Acceleration</span>
                    <span class="radio-description">Vesting continues as scheduled</span>
                  </div>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Transfer Restrictions (Post-Vesting)</label>
              <div class="checkbox-group">
                <label class="checkbox-option">
                  <input type="checkbox" id="lockupPeriod">
                  <span class="checkbox-label">Include lockup period after vesting</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" id="companyConsent">
                  <span class="checkbox-label">Require company consent for transfers</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" id="rightFirstRefusal">
                  <span class="checkbox-label">Company right of first refusal on sales</span>
                </label>
              </div>
            </div>

            <div class="form-group" id="lockupMonthsGroup" style="display: none;">
              <label class="form-label">Lockup Period (months)</label>
              <input type="number" class="form-input" id="lockupMonths" value="6" min="1" max="24">
              <div class="help-text">Additional restriction period after tokens vest</div>
            </div>
          </div>

          <!-- Legal Provisions -->
          <div class="form-section">
            <div class="section-title">
              <span class="section-icon">‚öñÔ∏è</span>
              <span>Legal Provisions</span>
            </div>

            <div class="form-group">
              <label class="form-label">Governing Law <span class="required">*</span></label>
              <select class="form-select" id="governingLaw" required>
                <option value="Delaware" selected>Delaware</option>
                <option value="California">California</option>
                <option value="New York">New York</option>
                <option value="Texas">Texas</option>
                <option value="Wyoming">Wyoming</option>
                <option value="Nevada">Nevada</option>
                <option value="Florida">Florida</option>
                <option value="Washington">Washington</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Dispute Resolution</label>
              <div class="radio-group">
                <label class="radio-option selected">
                  <input type="radio" name="disputes" value="arbitration" checked>
                  <div class="radio-content">
                    <span class="radio-label">Binding Arbitration (AAA)</span>
                    <span class="radio-description">Private, efficient dispute resolution</span>
                  </div>
                </label>
                <label class="radio-option">
                  <input type="radio" name="disputes" value="litigation">
                  <div class="radio-content">
                    <span class="radio-label">Court Litigation</span>
                    <span class="radio-description">Traditional court proceedings</span>
                  </div>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Additional Provisions</label>
              <div class="checkbox-group">
                <label class="checkbox-option">
                  <input type="checkbox" id="confidentiality" checked>
                  <span class="checkbox-label">Confidentiality provisions</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" id="securities" checked>
                  <span class="checkbox-label">Securities law representations</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" id="taxProvisions" checked>
                  <span class="checkbox-label">Tax acknowledgments (83(b) election notice)</span>
                </label>
                <label class="checkbox-option">
                  <input type="checkbox" id="assignmentRestriction" checked>
                  <span class="checkbox-label">Anti-assignment provisions</span>
                </label>
              </div>
            </div>

            <div class="alert-box alert-warning">
              <strong>‚ö†Ô∏è Legal Notice:</strong> This generator creates a template agreement. Always have your final agreement reviewed by a qualified attorney familiar with securities law and digital assets in your jurisdiction.
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="btn-group">
            <button type="button" class="btn btn-primary" id="generateBtn">
              üìÑ Generate Agreement
            </button>
            <button type="button" class="btn btn-secondary" id="downloadBtn" disabled>
              ‚¨áÔ∏è Download DOCX
            </button>
            <button type="reset" class="btn btn-secondary">
              üîÑ Reset Form
            </button>
          </div>
        </form>
      </div>

      <!-- Preview Column -->
      <div class="preview-column">
        <div class="preview-header">
          <div class="preview-title">üìã Agreement Preview</div>
          <div class="preview-subtitle">Live preview of your vesting agreement</div>
        </div>

        <div class="preview-box" id="previewBox">
          <div class="doc-title">Token Vesting Agreement</div>
          <p style="text-align: center; color: #64748b; font-size: 12px; margin-bottom: 25px;">
            Complete the form to generate your customized agreement
          </p>
        </div>

        <!-- Vesting Calculator -->
        <div class="vesting-calculator">
          <div class="calculator-title">üìä Vesting Schedule Calculator</div>
          <div id="vestingTimeline"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Payment Modal -->
  <div class="payment-modal" id="paymentModal">
    <div class="payment-content">
      <div class="payment-header">
        <div class="payment-icon">üîê</div>
        <div class="payment-title">Unlock Your Token Vesting Agreement</div>
        <div class="payment-description">
          Get instant access to download your professionally-drafted, comprehensive token vesting agreement.
        </div>
      </div>

      <div class="payment-features">
        <div class="feature-item">
          <span class="feature-icon">‚úì</span>
          <span>Attorney-quality legal document</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">‚úì</span>
          <span>Fully customized to your specifications</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">‚úì</span>
          <span>Download as editable DOCX file</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">‚úì</span>
          <span>Includes comprehensive legal provisions</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">‚úì</span>
          <span>Vesting schedule calculator included</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">‚úì</span>
          <span>Immediate access after payment</span>
        </div>
      </div>

      <div class="price-display">
        <div class="price-amount">$199</div>
        <div class="price-label">One-time payment ‚Ä¢ Instant download</div>
      </div>

      <div class="btn-group">
        <button class="btn btn-primary" style="flex: 1;" onclick="window.location.href='mailto:owner@terms.law?subject=Token Vesting Agreement Purchase'">
          üí≥ Purchase Now
        </button>
        <button class="btn btn-secondary" onclick="document.getElementById('paymentModal').style.display='none'">
          Cancel
        </button>
      </div>

      <p style="text-align: center; font-size: 11px; color: #64748b; margin-top: 15px;">
        Secure payment via PayPal or credit card. Contact <a href="mailto:owner@terms.law" style="color: #667eea;">owner@terms.law</a> for questions.
      </p>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/docx/7.8.2/docx.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

  <script>
    // Set today's date as default
    document.getElementById('startDate').valueAsDate = new Date();

    // Handle radio option selection
    document.querySelectorAll('.radio-option').forEach(option => {
      option.addEventListener('click', function() {
        const radio = this.querySelector('input[type="radio"]');
        if (radio) {
          radio.checked = true;

          // Update visual selection
          this.closest('.radio-group').querySelectorAll('.radio-option').forEach(opt => {
            opt.classList.remove('selected');
          });
          this.classList.add('selected');

          updatePreview();
        }
      });
    });

    // Handle lockup period visibility
    document.getElementById('lockupPeriod').addEventListener('change', function() {
      document.getElementById('lockupMonthsGroup').style.display =
        this.checked ? 'block' : 'none';
    });

    // Update preview on form changes
    const formInputs = document.querySelectorAll('.form-input, .form-select, input[type="radio"], input[type="checkbox"]');
    formInputs.forEach(input => {
      input.addEventListener('change', updatePreview);
      input.addEventListener('input', updatePreview);
    });

    function updatePreview() {
      const companyName = document.getElementById('companyName').value || '[Company Name]';
      const tokenName = document.getElementById('tokenName').value || '[Token Name]';
      const tokenSymbol = document.getElementById('tokenSymbol').value || '[SYMBOL]';
      const recipientName = document.getElementById('recipientName').value || '[Recipient Name]';
      const tokenAmount = document.getElementById('tokenAmount').value || '[Amount]';
      const cliffMonths = document.getElementById('cliffMonths').value || '0';
      const totalMonths = document.getElementById('totalMonths').value || '48';
      const governingLaw = document.getElementById('governingLaw').value;

      let vestingType = '';
      document.querySelectorAll('input[name="vestingType"]').forEach(radio => {
        if (radio.checked) {
          vestingType = radio.value === 'linear' ? 'linear (continuous)' :
                        radio.value === 'monthly' ? 'monthly' :
                        radio.value === 'quarterly' ? 'quarterly' : 'yearly';
        }
      });

      const html = `
        <div class="doc-title">${tokenName} Token Vesting Agreement</div>

        <div class="doc-section">
          <p class="doc-paragraph">
            This Token Vesting Agreement (the "Agreement") is entered into as of ${document.getElementById('startDate').value || '[Date]'} (the "Effective Date"), by and between:
          </p>
          <p class="doc-paragraph">
            <strong>${companyName}</strong>, a company organized under the laws of ${governingLaw} (the "Company"), and
          </p>
          <p class="doc-paragraph">
            <strong>${recipientName}</strong> (the "Recipient").
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">1. GRANT OF TOKENS</div>
          <p class="doc-paragraph">
            Subject to the terms and conditions of this Agreement, the Company hereby grants to Recipient the right to receive <strong class="highlight">${formatNumber(tokenAmount)} ${tokenSymbol}</strong> tokens (the "Tokens"), subject to the vesting schedule described in Section 2 below.
          </p>
          <p class="doc-paragraph">
            The Tokens are ${tokenName} tokens with the symbol ${tokenSymbol}, implemented as ${document.getElementById('tokenStandard').value} tokens.
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">2. VESTING SCHEDULE</div>
          <p class="doc-paragraph">
            <strong>Cliff Period:</strong> ${cliffMonths > 0 ? `No Tokens shall vest during the initial ${cliffMonths}-month cliff period.` : 'No cliff period applies; vesting begins immediately.'}
          </p>
          <p class="doc-paragraph">
            <strong>Vesting Type:</strong> Following any applicable cliff period, Tokens shall vest on a <strong class="highlight">${vestingType}</strong> basis over a total period of ${totalMonths} months from the Effective Date.
          </p>
          <p class="doc-paragraph">
            <strong>Vesting Commencement:</strong> The vesting schedule shall commence on the Effective Date.
          </p>
          <p class="doc-paragraph">
            The Company shall maintain accurate records of all vested and unvested Tokens and shall provide such information to Recipient upon reasonable request.
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">3. TERMINATION PROVISIONS</div>
          <p class="doc-paragraph">
            ${getTerminationText()}
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">4. CHANGE OF CONTROL</div>
          <p class="doc-paragraph">
            ${getChangeOfControlText()}
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">5. TRANSFER RESTRICTIONS</div>
          <p class="doc-paragraph">
            ${getTransferRestrictionText()}
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">6. REPRESENTATIONS AND WARRANTIES</div>
          <p class="doc-paragraph">
            Recipient represents and warrants that: (a) Recipient has full power and authority to enter into this Agreement; (b) Recipient understands that the Tokens may constitute securities under applicable law; (c) Recipient is acquiring the Tokens for investment purposes and not with a view to distribution; and (d) Recipient has had the opportunity to ask questions and receive answers regarding the Company and the Tokens.
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">7. GOVERNING LAW AND DISPUTE RESOLUTION</div>
          <p class="doc-paragraph">
            This Agreement shall be governed by and construed in accordance with the laws of the State of ${governingLaw}, without regard to conflicts of law principles.
          </p>
          <p class="doc-paragraph">
            ${getDisputeResolutionText()}
          </p>
        </div>

        <div class="doc-section">
          <div class="doc-section-title">8. MISCELLANEOUS</div>
          <p class="doc-paragraph">
            <strong>Entire Agreement:</strong> This Agreement constitutes the entire agreement between the parties regarding the subject matter hereof.
          </p>
          <p class="doc-paragraph">
            <strong>Amendment:</strong> This Agreement may only be amended by a written instrument signed by both parties.
          </p>
          <p class="doc-paragraph">
            <strong>Assignment:</strong> ${document.getElementById('assignmentRestriction').checked ? 'Neither party may assign this Agreement without the prior written consent of the other party.' : 'This Agreement shall bind and inure to the benefit of the parties and their respective successors and permitted assigns.'}
          </p>
          <p class="doc-paragraph">
            <strong>Severability:</strong> If any provision of this Agreement is held invalid or unenforceable, the remaining provisions shall continue in full force and effect.
          </p>
        </div>

        ${document.getElementById('taxProvisions').checked ? `
        <div class="doc-section">
          <div class="doc-section-title">9. TAX MATTERS</div>
          <p class="doc-paragraph">
            <strong>Tax Responsibility:</strong> Recipient acknowledges sole responsibility for any tax consequences arising from this Agreement or the vesting of Tokens.
          </p>
          <p class="doc-paragraph">
            <strong>83(b) Election Notice:</strong> Recipient acknowledges that they have been advised to consult with their tax advisor regarding the advisability of filing an Internal Revenue Code Section 83(b) election with respect to the Tokens. If applicable, any such election must be filed within 30 days of the Effective Date.
          </p>
        </div>
        ` : ''}

        <div class="doc-section" style="margin-top: 40px;">
          <div class="doc-section-title">SIGNATURES</div>
          <p class="doc-paragraph">
            IN WITNESS WHEREOF, the parties have executed this Token Vesting Agreement as of the Effective Date.
          </p>
          <div style="margin-top: 30px;">
            <p><strong>COMPANY:</strong></p>
            <p>${companyName}</p>
            <p style="margin-top: 20px;">By: _________________________</p>
            <p>Name: ${document.getElementById('signatoryName').value || '_______________________'}</p>
            <p>Title: ${document.getElementById('signatoryTitle').value || '_______________________'}</p>
          </div>
          <div style="margin-top: 30px;">
            <p><strong>RECIPIENT:</strong></p>
            <p>By: _________________________</p>
            <p>Name: ${recipientName}</p>
            <p>Date: _________________________</p>
          </div>
        </div>
      `;

      document.getElementById('previewBox').innerHTML = html;
      updateVestingCalculator();
    }

    function getTerminationText() {
      let terminationType = '';
      document.querySelectorAll('input[name="termination"]').forEach(radio => {
        if (radio.checked) terminationType = radio.value;
      });

      switch(terminationType) {
        case 'standard':
          return 'In the event that Recipient\'s service relationship with the Company terminates for any reason, all unvested Tokens shall cease vesting as of the termination date and shall be forfeited. All Tokens that have vested as of the termination date shall remain the property of Recipient.';
        case 'for-cause':
          return 'In the event that Recipient\'s service relationship with the Company is terminated for Cause (as defined below), all Tokens, whether vested or unvested, shall be immediately forfeited to the Company. For purposes of this Agreement, "Cause" means: (i) conviction of any felony or crime involving fraud or dishonesty; (ii) participation in fraud, embezzlement, or misappropriation against the Company; (iii) material breach of this Agreement; or (iv) gross negligence or willful misconduct materially harmful to the Company. If the relationship terminates for any reason other than for Cause, unvested Tokens shall be forfeited and vested Tokens shall remain with Recipient.';
        case 'partial':
          return 'In the event that Recipient\'s service relationship with the Company is terminated by the Company without Cause, 50% of the then-unvested Tokens shall immediately vest and the remaining unvested Tokens shall be forfeited. If the relationship terminates for any other reason, all unvested Tokens shall be forfeited and vested Tokens shall remain with Recipient.';
        default:
          return '';
      }
    }

    function getChangeOfControlText() {
      let controlType = '';
      document.querySelectorAll('input[name="changeControl"]').forEach(radio => {
        if (radio.checked) controlType = radio.value;
      });

      const cocDefinition = 'For purposes of this Agreement, "Change of Control" means: (a) the acquisition of the Company by another entity by means of merger, consolidation, or similar transaction; (b) a sale of all or substantially all of the Company\'s assets; or (c) any transaction resulting in a change of ownership of more than 50% of the Company\'s voting securities.';

      switch(controlType) {
        case 'double-trigger':
          return `<strong>Double-Trigger Acceleration:</strong> In the event of a Change of Control, if Recipient's service relationship is terminated without Cause within 12 months following such Change of Control, all unvested Tokens shall immediately vest in full. ${cocDefinition}`;
        case 'full':
          return `<strong>Full Acceleration:</strong> In the event of a Change of Control, all unvested Tokens shall immediately vest in full upon the closing of such transaction. ${cocDefinition}`;
        case 'none':
          return `<strong>No Acceleration:</strong> The vesting schedule shall continue unchanged in the event of a Change of Control. ${cocDefinition}`;
        default:
          return '';
      }
    }

    function getTransferRestrictionText() {
      let restrictions = [];

      if (document.getElementById('lockupPeriod').checked) {
        const lockupMonths = document.getElementById('lockupMonths').value || '6';
        restrictions.push(`Even after vesting, all Tokens shall be subject to a lockup period of ${lockupMonths} months from the date of vesting, during which Recipient may not sell, transfer, or otherwise dispose of such Tokens.`);
      }

      if (document.getElementById('companyConsent').checked) {
        restrictions.push('Recipient may not sell, transfer, assign, or otherwise dispose of any vested Tokens without the prior written consent of the Company.');
      }

      if (document.getElementById('rightFirstRefusal').checked) {
        restrictions.push('Prior to any proposed transfer of vested Tokens to a third party, Recipient must first offer such Tokens to the Company at the proposed transfer price. The Company shall have 30 days to exercise its right of first refusal.');
      }

      if (restrictions.length === 0) {
        return 'Subject to applicable securities laws and the terms of this Agreement, vested Tokens may be freely transferred by Recipient.';
      }

      return restrictions.join(' ');
    }

    function getDisputeResolutionText() {
      let disputeType = '';
      document.querySelectorAll('input[name="disputes"]').forEach(radio => {
        if (radio.checked) disputeType = radio.value;
      });

      const governingLaw = document.getElementById('governingLaw').value;

      if (disputeType === 'arbitration') {
        return `Any dispute arising out of or relating to this Agreement shall be resolved by binding arbitration in ${governingLaw} administered by the American Arbitration Association under its Commercial Arbitration Rules. The arbitrator's award shall be final and binding and may be entered as a judgment in any court of competent jurisdiction.`;
      } else {
        return `The parties consent to the exclusive jurisdiction and venue of the state and federal courts located in ${governingLaw} for any legal proceedings arising out of or relating to this Agreement.`;
      }
    }

    function formatNumber(num) {
      return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    function updateVestingCalculator() {
      const tokenAmount = parseInt(document.getElementById('tokenAmount').value) || 0;
      const cliffMonths = parseInt(document.getElementById('cliffMonths').value) || 0;
      const totalMonths = parseInt(document.getElementById('totalMonths').value) || 48;
      const startDate = new Date(document.getElementById('startDate').value);

      if (!tokenAmount || !totalMonths || isNaN(startDate.getTime())) {
        document.getElementById('vestingTimeline').innerHTML = '<p style="text-align: center; color: #64748b; font-size: 13px;">Complete the form to see vesting schedule</p>';
        return;
      }

      let vestingType = 'linear';
      document.querySelectorAll('input[name="vestingType"]').forEach(radio => {
        if (radio.checked) vestingType = radio.value;
      });

      const timeline = [];

      // Cliff event
      if (cliffMonths > 0) {
        const cliffDate = new Date(startDate);
        cliffDate.setMonth(cliffDate.getMonth() + cliffMonths);

        let cliffAmount = 0;
        if (vestingType === 'linear') {
          cliffAmount = Math.floor((tokenAmount / totalMonths) * cliffMonths);
        } else if (vestingType === 'monthly') {
          cliffAmount = Math.floor((tokenAmount / totalMonths) * cliffMonths);
        } else if (vestingType === 'quarterly') {
          const quartersElapsed = Math.floor(cliffMonths / 3);
          cliffAmount = Math.floor((tokenAmount / (totalMonths / 3)) * quartersElapsed);
        } else if (vestingType === 'yearly') {
          const yearsElapsed = Math.floor(cliffMonths / 12);
          cliffAmount = Math.floor((tokenAmount / (totalMonths / 12)) * yearsElapsed);
        }

        timeline.push({
          date: cliffDate,
          label: `Cliff (${cliffMonths} months)`,
          amount: cliffAmount,
          cumulative: cliffAmount
        });
      }

      // Subsequent vesting events
      let cumulativeVested = timeline.length > 0 ? timeline[0].cumulative : 0;
      const vestingMonths = totalMonths - cliffMonths;

      if (vestingType === 'monthly') {
        const monthlyAmount = Math.floor(tokenAmount / totalMonths);
        for (let i = 1; i <= Math.min(5, vestingMonths); i++) {
          const vestDate = new Date(startDate);
          vestDate.setMonth(vestDate.getMonth() + cliffMonths + i);
          cumulativeVested += monthlyAmount;
          timeline.push({
            date: vestDate,
            label: `Month ${cliffMonths + i}`,
            amount: monthlyAmount,
            cumulative: Math.min(cumulativeVested, tokenAmount)
          });
        }
      } else if (vestingType === 'quarterly') {
        const quarterlyAmount = Math.floor(tokenAmount / (totalMonths / 3));
        const quarters = Math.floor(vestingMonths / 3);
        for (let i = 1; i <= Math.min(4, quarters); i++) {
          const vestDate = new Date(startDate);
          vestDate.setMonth(vestDate.getMonth() + cliffMonths + (i * 3));
          cumulativeVested += quarterlyAmount;
          timeline.push({
            date: vestDate,
            label: `Quarter ${i}`,
            amount: quarterlyAmount,
            cumulative: Math.min(cumulativeVested, tokenAmount)
          });
        }
      } else if (vestingType === 'yearly') {
        const yearlyAmount = Math.floor(tokenAmount / (totalMonths / 12));
        const years = Math.floor(vestingMonths / 12);
        for (let i = 1; i <= Math.min(4, years); i++) {
          const vestDate = new Date(startDate);
          vestDate.setMonth(vestDate.getMonth() + cliffMonths + (i * 12));
          cumulativeVested += yearlyAmount;
          timeline.push({
            date: vestDate,
            label: `Year ${i}`,
            amount: yearlyAmount,
            cumulative: Math.min(cumulativeVested, tokenAmount)
          });
        }
      } else {
        // Linear - show key milestones
        const milestones = [25, 50, 75, 100];
        milestones.forEach(pct => {
          const monthsToVest = Math.floor((totalMonths * pct) / 100);
          if (monthsToVest > cliffMonths) {
            const vestDate = new Date(startDate);
            vestDate.setMonth(vestDate.getMonth() + monthsToVest);
            const amount = Math.floor((tokenAmount * pct) / 100);
            timeline.push({
              date: vestDate,
              label: `${pct}% Vested`,
              amount: 0,
              cumulative: amount
            });
          }
        });
      }

      let html = '<div class="vesting-timeline">';
      timeline.forEach(item => {
        html += `
          <div class="timeline-item">
            <span class="timeline-date">${item.date.toLocaleDateString()}</span>
            <span class="timeline-amount">${formatNumber(item.cumulative)} tokens</span>
          </div>
        `;
      });
      html += '</div>';

      document.getElementById('vestingTimeline').innerHTML = html;
    }

    // Generate button handler
    document.getElementById('generateBtn').addEventListener('click', function() {
      updatePreview();
      document.getElementById('paymentModal').style.display = 'flex';
    });

    // Initialize preview
    updatePreview();
  </script>

</body>
</html>
