<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mobile App Development Agreement Generator</title>
  <style>
    /* Base Styles */
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
      color: #333;
      line-height: 1.5;
      margin: 0;
      padding: 20px;
      background-color: #f5f7fa;
    }
    
    * {
      box-sizing: border-box;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      padding: 20px;
    }
    
    h1 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 30px;
      font-size: 28px;
    }
    
    /* Tabs Navigation */
    .tabs-container {
      margin-bottom: 20px;
    }
    
    .tabs {
      display: flex;
      flex-wrap: wrap;
      margin: 0;
      padding: 0;
      list-style: none;
      border-bottom: 1px solid #ddd;
    }
    
    .tab {
      padding: 12px 18px;
      margin-right: 5px;
      cursor: pointer;
      border: 1px solid transparent;
      border-bottom: none;
      border-radius: 4px 4px 0 0;
      font-weight: 500;
      color: #555;
      background-color: transparent;
      transition: background-color 0.2s;
    }
    
    .tab:hover {
      background-color: #f5f5f5;
    }
    
    .tab.active {
      background-color: white;
      border-color: #ddd;
      color: #2c3e50;
      margin-bottom: -1px;
      padding-bottom: 13px;
    }
    
    /* Tab Content */
    .tab-content {
      display: none;
      padding: 20px 0;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Form Elements */
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      font-weight: 500;
      margin-bottom: 8px;
      font-size: 15px;
    }
    
    .form-input, 
    .form-select, 
    .form-textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 15px;
      line-height: 1.5;
    }
    
    .form-select {
      height: 42px;
    }
    
    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    .form-hint {
      font-size: 13px;
      color: #777;
      margin-top: 5px;
    }
    
    /* Radio and Checkbox Groups */
    .radio-group,
    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 10px;
    }
    
    .radio-item,
    .checkbox-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 0;
    }
    
    .radio-item input[type="radio"],
    .checkbox-item input[type="checkbox"] {
      margin-right: 10px;
      margin-top: 3px;
    }
    
    .radio-label,
    .checkbox-label {
      font-size: 15px;
    }
    
    /* Action Buttons */
    .button-group {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
      border-top: 1px solid #eee;
      padding-top: 20px;
    }
    
    .nav-buttons {
      display: flex;
      gap: 10px;
    }
    
    .btn {
      padding: 10px 16px;
      background-color: #2c3e50;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 15px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    
    .btn:hover {
      background-color: #1a252f;
    }
    
    .btn-secondary {
      background-color: #95a5a6;
    }
    
    .btn-secondary:hover {
      background-color: #7f8c8d;
    }
    
    /* Industry Presets */
    .industry-presets {
      margin-bottom: 25px;
      padding: 15px;
      background: #f5f7fa;
      border-radius: 6px;
      border: 1px solid #e1e5e9;
    }
    
    .preset-title {
      font-weight: 600;
      margin-bottom: 12px;
      font-size: 16px;
      color: #2c3e50;
    }
    
    .preset-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .preset-btn {
      padding: 8px 15px;
      font-size: 14px;
      background: white;
      border: 1px solid #cfd8dc;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .preset-btn:hover {
      background: #ecf0f1;
      border-color: #b0bec5;
    }
    
    /* Section Headers */
    .section-header {
      font-size: 18px;
      font-weight: 600;
      color: #2c3e50;
      margin: 25px 0 15px;
      padding-bottom: 8px;
      border-bottom: 1px solid #eee;
    }
    
    /* Preview Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .modal {
      background-color: white;
      width: 90%;
      max-width: 900px;
      max-height: 90vh;
      border-radius: 6px;
      padding: 25px;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .modal-title {
      font-size: 20px;
      font-weight: 600;
      color: #2c3e50;
      margin: 0;
    }
    
    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #777;
    }
    
    .modal-content {
      overflow-y: auto;
      flex-grow: 1;
      padding: 15px 0;
    }
    
    .modal-footer {
      display: flex;
      justify-content: flex-end;
      padding-top: 15px;
      border-top: 1px solid #eee;
    }
    
    /* Agreement Preview Styling */
    .agreement-preview {
      white-space: pre-wrap;
      font-family: "Times New Roman", Times, serif;
      font-size: 16px;
      line-height: 1.6;
      color: #333;
    }
    
    .agreement-preview h2 {
      font-size: 18px;
      margin-top: 30px;
      margin-bottom: 15px;
      font-weight: bold;
      text-transform: uppercase;
    }
    
    .agreement-preview h3 {
      font-size: 16px;
      margin-top: 20px;
      margin-bottom: 10px;
      font-weight: bold;
    }
    
    /* Tooltip Styles */
    .tooltip-container {
      position: relative;
      display: inline-block;
      margin-left: 5px;
    }
    
    .tooltip-trigger {
      display: inline-block;
      width: 16px;
      height: 16px;
      background: #3498db;
      color: white;
      font-size: 11px;
      line-height: 16px;
      text-align: center;
      border-radius: 50%;
      cursor: help;
    }
    
    .tooltip-content {
      visibility: hidden;
      position: absolute;
      background: #2c3e50;
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      width: 250px;
      font-size: 13px;
      line-height: 1.4;
      z-index: 100;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
      left: 100%;
      transform: translateX(-25px);
      top: 50%;
      margin-top: -25px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .tooltip-container:hover .tooltip-content {
      visibility: visible;
      opacity: 1;
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .tabs {
        flex-direction: column;
        border-bottom: none;
      }
      
      .tab {
        border: 1px solid #ddd;
        border-radius: 4px;
        margin-bottom: 5px;
      }
      
      .tab.active {
        border-color: #2c3e50;
        background-color: #2c3e50;
        color: white;
      }
      
      .button-group {
        flex-direction: column;
        gap: 15px;
      }
      
      .nav-buttons {
        width: 100%;
        justify-content: space-between;
      }
      
      .modal {
        width: 95%;
        padding: 15px;
      }
      
      .tooltip-content {
        width: 200px;
        left: 50%;
        transform: translateX(-50%);
        top: 30px;
      }
    }
    
    /* Loading Indicator */
    .loading {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(255, 255, 255, 0.8);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    
    .spinner {
      border: 5px solid #f3f3f3;
      border-top: 5px solid #3498db;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Mobile App Development Agreement Generator</h1>
    
    <!-- Tabs Navigation -->
    <div class="tabs-container">
      <ul class="tabs">
        <li class="tab active" data-tab="project-details">Project Details</li>
        <li class="tab" data-tab="timeline">Timeline & Milestones</li>
        <li class="tab" data-tab="payment">Payment Terms</li>
        <li class="tab" data-tab="ip-rights">Intellectual Property</li>
        <li class="tab" data-tab="warranties">Warranties</li>
        <li class="tab" data-tab="confidentiality">Confidentiality</li>
        <li class="tab" data-tab="termination">Termination</li>
        <li class="tab" data-tab="delivery">Acceptance & Delivery</li>
        <li class="tab" data-tab="maintenance">Maintenance & Support</li>
        <li class="tab" data-tab="general-terms">General Terms</li>
      </ul>
    </div>
    
    <!-- Tab Content - Project Details -->
    <div id="project-details-tab" class="tab-content active">
      <!-- Industry Presets -->
      <div class="industry-presets">
        <div class="preset-title">Quick Start: Select Your App Type</div>
        <div class="preset-buttons">
          <button class="preset-btn" onclick="applyPreset('ecommerce')">E-commerce App</button>
          <button class="preset-btn" onclick="applyPreset('social')">Social Media App</button>
          <button class="preset-btn" onclick="applyPreset('gaming')">Gaming App</button>
          <button class="preset-btn" onclick="applyPreset('education')">Educational App</button>
          <button class="preset-btn" onclick="applyPreset('enterprise')">Enterprise App</button>
        </div>
      </div>
      
      <!-- Parties Information -->
      <div class="section-header">Parties Information</div>
      
      <div class="form-group">
        <label class="form-label" for="developer_name">Developer Name</label>
        <input type="text" id="developer_name" class="form-input" value="Your Company, Inc." placeholder="Enter developer company name">
        <div class="form-hint">Full legal name of the developer company or individual</div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="developer_address">Developer Address</label>
        <textarea id="developer_address" class="form-textarea" placeholder="Enter developer's full address">123 Developer Way, San Francisco, CA 94107, USA</textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="client_name">Client Name</label>
        <input type="text" id="client_name" class="form-input" value="Client Company, LLC" placeholder="Enter client company name">
        <div class="form-hint">Full legal name of the client company or individual</div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="client_address">Client Address</label>
        <textarea id="client_address" class="form-textarea" placeholder="Enter client's full address">456 Client Street, New York, NY 10001, USA</textarea>
      </div>
      
      <!-- Project Information -->
      <div class="section-header">Project Information</div>
      
      <div class="form-group">
        <label class="form-label" for="app_name">App Name</label>
        <input type="text" id="app_name" class="form-input" value="My Mobile App" placeholder="Enter app name">
      </div>
      
      <div class="form-group">
        <label class="form-label" for="app_description">App Description</label>
        <textarea id="app_description" class="form-textarea" placeholder="Provide a brief description of the app">A mobile application that allows users to [describe main functionality].</textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label">Platform(s)</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="platform_ios" checked>
            <span class="checkbox-label">iOS</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="platform_android" checked>
            <span class="checkbox-label">Android</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="platform_web">
            <span class="checkbox-label">Web App</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="platform_other">
            <span class="checkbox-label">Other</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="platform_other_group" style="display:none;">
        <label class="form-label" for="platform_other_text">Other Platform Details</label>
        <input type="text" id="platform_other_text" class="form-input" placeholder="Specify other platform(s)">
      </div>
      
      <div class="form-group">
        <label class="form-label" for="app_features">App Features</label>
        <textarea id="app_features" class="form-textarea" placeholder="List the main features of the app">1. User authentication and profile management
2. [Feature 2]
3. [Feature 3]
4. [Feature 4]
5. [Feature 5]</textarea>
        <div class="form-hint">List the key features that will be developed</div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Development Approach</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="dev_approach" id="approach_native" value="native" checked>
            <span class="radio-label">Native Development</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="dev_approach" id="approach_hybrid" value="hybrid">
            <span class="radio-label">Hybrid Development</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="dev_approach" id="approach_cross" value="cross-platform">
            <span class="radio-label">Cross-Platform Development</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="tech_stack">Technology Stack</label>
        <textarea id="tech_stack" class="form-textarea" placeholder="Specify technologies to be used">- Programming Languages: Swift, Kotlin
- Frameworks: [List frameworks]
- Databases: [List databases]
- APIs: [List APIs]
- Third-party services: [List services]</textarea>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button id="preview-btn" class="btn">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button id="next-btn" class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Timeline & Milestones -->
    <div id="timeline-tab" class="tab-content">
      <div class="section-header">Project Timeline</div>
      
      <div class="form-group">
        <label class="form-label" for="start_date">Project Start Date</label>
        <input type="date" id="start_date" class="form-input">
      </div>
      
      <div class="form-group">
        <label class="form-label" for="end_date">Estimated Completion Date</label>
        <input type="date" id="end_date" class="form-input">
      </div>
      
      <div class="form-group">
        <label class="form-label" for="project_phases">Project Phases & Milestones</label>
        <textarea id="project_phases" class="form-textarea" rows="10" placeholder="List the project phases and milestones">1. Project Kickoff & Requirements Finalization - [Date]
2. Design Phase Completion - [Date]
3. Development Phase 1 Completion - [Date]
4. Development Phase 2 Completion - [Date]
5. Quality Assurance & Testing Completion - [Date]
6. Beta Release - [Date]
7. Final Release - [Date]</textarea>
        <div class="form-hint">List each phase with expected completion dates</div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Delay Provisions</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="delay_provisions" id="delay_standard" value="standard" checked>
            <span class="radio-label">Standard (Developer must notify of delays, parties agree on revised timeline)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="delay_provisions" id="delay_strict" value="strict">
            <span class="radio-label">Strict (Penalties for delays beyond Developer's control)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="delay_provisions" id="delay_flexible" value="flexible">
            <span class="radio-label">Flexible (Accommodating timeline adjustments)</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="revision_rounds">Included Revision Rounds</label>
        <select id="revision_rounds" class="form-select">
          <option value="1">1 round</option>
          <option value="2" selected>2 rounds</option>
          <option value="3">3 rounds</option>
          <option value="unlimited">Unlimited within reason</option>
        </select>
        <div class="form-hint">Number of revision rounds included in the project scope</div>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Payment Terms -->
    <div id="payment-tab" class="tab-content">
      <div class="section-header">Payment Structure</div>
      
      <div class="form-group">
        <label class="form-label">Payment Model</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="payment_model" id="payment_fixed" value="fixed" checked>
            <span class="radio-label">Fixed Price</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="payment_model" id="payment_hourly" value="hourly">
            <span class="radio-label">Hourly Rate</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="payment_model" id="payment_milestone" value="milestone">
            <span class="radio-label">Milestone-Based</span>
          </label>
        </div>
      </div>
      
      <!-- Fixed Price Options -->
      <div id="fixed_price_options">
        <div class="form-group">
          <label class="form-label" for="fixed_price_amount">Total Project Price</label>
          <input type="text" id="fixed_price_amount" class="form-input" value="$50,000" placeholder="Enter total project price">
        </div>
      </div>
      
      <!-- Hourly Rate Options -->
      <div id="hourly_rate_options" style="display:none;">
        <div class="form-group">
          <label class="form-label" for="hourly_rate">Hourly Rate</label>
          <input type="text" id="hourly_rate" class="form-input" value="$150" placeholder="Enter hourly rate">
        </div>
        
        <div class="form-group">
          <label class="form-label" for="estimated_hours">Estimated Total Hours</label>
          <input type="text" id="estimated_hours" class="form-input" value="300" placeholder="Enter estimated hours">
        </div>
        
        <div class="form-group">
          <label class="form-label" for="max_hours">Maximum Hours Cap (if any)</label>
          <input type="text" id="max_hours" class="form-input" value="350" placeholder="Enter maximum hours if applicable">
          <div class="form-hint">Leave blank if no cap</div>
        </div>
      </div>
      
      <!-- Milestone Payment Options -->
      <div id="milestone_payment_options" style="display:none;">
        <div class="form-group">
          <label class="form-label" for="milestone_payments">Milestone Payment Schedule</label>
          <textarea id="milestone_payments" class="form-textarea" rows="6" placeholder="List each milestone with associated payment amount">1. Project Kickoff - 20% ($10,000)
2. Design Approval - 20% ($10,000)
3. Development Phase 1 Completion - 20% ($10,000)
4. Development Phase 2 Completion - 20% ($10,000)
5. Final Delivery - 20% ($10,000)</textarea>
        </div>
      </div>
      
      <div class="section-header">Payment Terms</div>
      
      <div class="form-group">
        <label class="form-label" for="payment_due">Payment Due</label>
        <select id="payment_due" class="form-select">
          <option value="receipt">Upon Receipt</option>
          <option value="15days">Net 15 (15 days)</option>
          <option value="30days" selected>Net 30 (30 days)</option>
          <option value="45days">Net 45 (45 days)</option>
          <option value="60days">Net 60 (60 days)</option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="late_payment">Late Payment Fee</label>
        <select id="late_payment" class="form-select">
          <option value="none">None</option>
          <option value="1percent">1% per month</option>
          <option value="1.5percent" selected>1.5% per month</option>
          <option value="2percent">2% per month</option>
          <option value="custom">Custom</option>
        </select>
      </div>
      
      <div class="form-group" id="custom_late_payment" style="display:none;">
        <label class="form-label" for="custom_late_fee">Custom Late Payment Terms</label>
        <input type="text" id="custom_late_fee" class="form-input" placeholder="Specify custom late payment terms">
      </div>
      
      <div class="form-group">
        <label class="form-label">Currency</label>
        <select id="currency" class="form-select">
          <option value="USD" selected>USD (United States Dollar)</option>
          <option value="EUR">EUR (Euro)</option>
          <option value="GBP">GBP (British Pound)</option>
          <option value="CAD">CAD (Canadian Dollar)</option>
          <option value="AUD">AUD (Australian Dollar)</option>
          <option value="JPY">JPY (Japanese Yen)</option>
          <option value="CNY">CNY (Chinese Yuan)</option>
          <option value="INR">INR (Indian Rupee)</option>
          <option value="custom">Other (specify below)</option>
        </select>
      </div>
      
      <div class="form-group" id="custom_currency" style="display:none;">
        <label class="form-label" for="custom_currency_text">Custom Currency</label>
        <input type="text" id="custom_currency_text" class="form-input" placeholder="Specify currency">
      </div>
      
      <div class="form-group">
        <label class="form-label">Additional Expenses</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="additional_expenses" id="expenses_included" value="included" checked>
            <span class="radio-label">All expenses included in the price</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="additional_expenses" id="expenses_billed" value="billed">
            <span class="radio-label">Additional expenses billed separately with approval</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="additional_expenses" id="expenses_threshold" value="threshold">
            <span class="radio-label">Expenses above a threshold require approval</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="expenses_threshold_amount" style="display:none;">
        <label class="form-label" for="expense_threshold">Expense Approval Threshold</label>
        <input type="text" id="expense_threshold" class="form-input" value="$500" placeholder="Enter threshold amount">
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Intellectual Property -->
    <div id="ip-rights-tab" class="tab-content">
      <div class="section-header">Intellectual Property Rights</div>
      
      <div class="form-group">
        <label class="form-label">IP Ownership Model</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="ip_model" id="ip_client" value="client" checked>
            <span class="radio-label">Client owns all IP upon final payment</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="ip_model" id="ip_developer" value="developer">
            <span class="radio-label">Developer retains IP, grants client a license</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="ip_model" id="ip_mixed" value="mixed">
            <span class="radio-label">Mixed ownership (customizable)</span>
          </label>
        </div>
      </div>
      
      <div id="ip_license_options" style="display:none;">
        <div class="form-group">
          <label class="form-label">License Type</label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="license_type" id="license_nonexclusive" value="nonexclusive" checked>
              <span class="radio-label">Non-exclusive license</span>
            </label>
            <label class="radio-item">
              <input type="radio" name="license_type" id="license_exclusive" value="exclusive">
              <span class="radio-label">Exclusive license</span>
            </label>
          </div>
        </div>
        
        <div class="form-group">
          <label class="form-label">License Duration</label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="license_duration" id="license_perpetual" value="perpetual" checked>
              <span class="radio-label">Perpetual</span>
            </label>
            <label class="radio-item">
              <input type="radio" name="license_duration" id="license_limited" value="limited">
              <span class="radio-label">Limited Term</span>
            </label>
          </div>
        </div>
        
        <div class="form-group" id="license_term_group" style="display:none;">
          <label class="form-label" for="license_term">License Term (years)</label>
          <input type="number" id="license_term" class="form-input" value="5" min="1" max="99">
        </div>
      </div>
      
      <div id="ip_mixed_options" style="display:none;">
        <div class="form-group">
          <label class="form-label" for="ip_mixed_terms">Custom IP Ownership Terms</label>
          <textarea id="ip_mixed_terms" class="form-textarea" rows="6" placeholder="Describe the IP ownership arrangement">Client owns all custom-developed code and design elements specific to the App.
Developer retains ownership of pre-existing frameworks, libraries, and tools.
Developer grants Client a perpetual, worldwide, non-exclusive license to use Developer's pre-existing IP as incorporated in the App.</textarea>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Third-Party Components</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="third_party" id="third_party_disclosed" value="disclosed" checked>
            <span class="radio-label">Developer must disclose all third-party components</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="third_party" id="third_party_unrestricted" value="unrestricted">
            <span class="radio-label">Developer may use third-party components as needed</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="third_party" id="third_party_approval" value="approval">
            <span class="radio-label">All third-party components require Client approval</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="third_party_list">Known Third-Party Components</label>
        <textarea id="third_party_list" class="form-textarea" rows="4" placeholder="List third-party libraries, services, or components that will be used">- [Library/Component 1] - [License type]
- [Library/Component 2] - [License type]
- [Library/Component 3] - [License type]</textarea>
        <div class="form-hint">Include license types if known</div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Open Source Software</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="open_source" id="open_source_allowed" value="allowed" checked>
            <span class="radio-label">Allowed with appropriate licenses and disclosure</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="open_source" id="open_source_restricted" value="restricted">
            <span class="radio-label">Restricted to specific approved licenses</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="open_source" id="open_source_prohibited" value="prohibited">
            <span class="radio-label">Prohibited</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="open_source_licenses" style="display:none;">
        <label class="form-label" for="approved_licenses">Approved Open Source Licenses</label>
        <textarea id="approved_licenses" class="form-textarea" rows="4" placeholder="List approved open source licenses">- MIT License
- Apache License 2.0
- BSD License</textarea>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Warranties -->
    <div id="warranties-tab" class="tab-content">
      <div class="section-header">Warranties and Representations</div>
      
      <div class="form-group">
        <label class="form-label">Developer Warranties</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_workmanship" checked>
            <span class="checkbox-label">Professional workmanship</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_ip" checked>
            <span class="checkbox-label">No IP infringement</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_code" checked>
            <span class="checkbox-label">Code quality</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_malware" checked>
            <span class="checkbox-label">No viruses or malware</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_compliance" checked>
            <span class="checkbox-label">Compliance with applicable laws</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_requirements" checked>
            <span class="checkbox-label">Meets requirements specification</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="warranty_period">Warranty Period</label>
        <select id="warranty_period" class="form-select">
          <option value="30days">30 Days</option>
          <option value="60days">60 Days</option>
          <option value="90days" selected>90 Days</option>
          <option value="180days">180 Days</option>
          <option value="1year">1 Year</option>
          <option value="custom">Custom Period</option>
        </select>
      </div>
      
      <div class="form-group" id="custom_warranty_group" style="display:none;">
        <label class="form-label" for="custom_warranty">Custom Warranty Period</label>
        <input type="text" id="custom_warranty" class="form-input" placeholder="Specify custom warranty period">
      </div>
      
      <div class="form-group">
        <label class="form-label">Warranty Remedies</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_repair" checked>
            <span class="checkbox-label">Repair/fix of defects</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_replace">
            <span class="checkbox-label">Replacement of defective components</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="warranty_refund">
            <span class="checkbox-label">Refund (if issues cannot be fixed)</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Performance Warranty</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="performance_warranty" id="performance_basic" value="basic" checked>
            <span class="radio-label">Basic (App will perform substantially as documented)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="performance_warranty" id="performance_detailed" value="detailed">
            <span class="radio-label">Detailed (Specific performance metrics)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="performance_warranty" id="performance_none" value="none">
            <span class="radio-label">None</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="performance_metrics_group" style="display:none;">
        <label class="form-label" for="performance_metrics">Performance Metrics</label>
        <textarea id="performance_metrics" class="form-textarea" rows="4" placeholder="Specify performance metrics">- Maximum response time: [specify]
- Maximum crash rate: [specify]
- Minimum uptime: [specify]
- Maximum memory usage: [specify]</textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label">Warranty Disclaimer</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="warranty_disclaimer" id="disclaimer_standard" value="standard" checked>
            <span class="radio-label">Standard (disclaims all other warranties)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="warranty_disclaimer" id="disclaimer_minimal" value="minimal">
            <span class="radio-label">Minimal (fewer disclaimers)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="warranty_disclaimer" id="disclaimer_none" value="none">
            <span class="radio-label">None (no disclaimers)</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Limitation of Liability</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="liability_limitation" id="liability_standard" value="standard" checked>
            <span class="radio-label">Standard (excludes consequential, special damages, caps at fees paid)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="liability_limitation" id="liability_custom" value="custom">
            <span class="radio-label">Custom Cap</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="liability_limitation" id="liability_none" value="none">
            <span class="radio-label">None (no liability limitation)</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="liability_cap_group" style="display:none;">
        <label class="form-label" for="liability_cap">Liability Cap Amount</label>
        <input type="text" id="liability_cap" class="form-input" value="2x contract amount" placeholder="Specify liability cap">
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Confidentiality -->
    <div id="confidentiality-tab" class="tab-content">
      <div class="section-header">Confidentiality</div>
      
      <div class="form-group">
        <label class="form-label">Confidentiality Term</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="confidentiality_term" id="confidentiality_project" value="project" checked>
            <span class="radio-label">Project duration + 1 year</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="confidentiality_term" id="confidentiality_2years" value="2years">
            <span class="radio-label">2 years after project completion</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="confidentiality_term" id="confidentiality_3years" value="3years">
            <span class="radio-label">3 years after project completion</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="confidentiality_term" id="confidentiality_5years" value="5years">
            <span class="radio-label">5 years after project completion</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="confidentiality_term" id="confidentiality_perpetual" value="perpetual">
            <span class="radio-label">Perpetual</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="confidentiality_term" id="confidentiality_custom" value="custom">
            <span class="radio-label">Custom</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="custom_confidentiality_group" style="display:none;">
        <label class="form-label" for="custom_confidentiality">Custom Confidentiality Term</label>
        <input type="text" id="custom_confidentiality" class="form-input" placeholder="Specify custom confidentiality term">
      </div>
      
      <div class="form-group">
        <label class="form-label">Confidential Information</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="confidential_business" checked>
            <span class="checkbox-label">Business information</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="confidential_technical" checked>
            <span class="checkbox-label">Technical information</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="confidential_financial" checked>
            <span class="checkbox-label">Financial information</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="confidential_personal" checked>
            <span class="checkbox-label">Personal data of users</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="confidential_software">
            <span class="checkbox-label">Software architecture and design</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="confidential_marketing">
            <span class="checkbox-label">Marketing and promotional materials</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Confidentiality Exceptions</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="exception_public" checked>
            <span class="checkbox-label">Publicly available information</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="exception_known" checked>
            <span class="checkbox-label">Information already known to recipient</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="exception_independent" checked>
            <span class="checkbox-label">Independently developed information</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="exception_third_party" checked>
            <span class="checkbox-label">Information from third party without restriction</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="exception_court" checked>
            <span class="checkbox-label">Information required by court order</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Portfolio Rights</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="portfolio_rights" id="portfolio_limited" value="limited" checked>
            <span class="radio-label">Limited (Developer can reference Client in portfolio)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="portfolio_rights" id="portfolio_screenshots" value="screenshots">
            <span class="radio-label">Include screenshots (Developer can show app screenshots)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="portfolio_rights" id="portfolio_detailed" value="detailed">
            <span class="radio-label">Detailed case study (Developer can create detailed case study)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="portfolio_rights" id="portfolio_approval" value="approval">
            <span class="radio-label">With approval (All portfolio use requires approval)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="portfolio_rights" id="portfolio_none" value="none">
            <span class="radio-label">None (No portfolio rights)</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Non-Disclosure Agreement (NDA)</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="nda" id="nda_included" value="included" checked>
            <span class="radio-label">Included in this agreement</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="nda" id="nda_separate" value="separate">
            <span class="radio-label">Separate NDA already executed</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="nda" id="nda_none" value="none">
            <span class="radio-label">No NDA required</span>
          </label>
        </div>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Termination -->
    <div id="termination-tab" class="tab-content">
      <div class="section-header">Termination</div>
      
      <div class="form-group">
        <label class="form-label">Termination by Client</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="client_terminate_convenience" checked>
            <span class="checkbox-label">For convenience with notice</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="client_terminate_breach" checked>
            <span class="checkbox-label">For Developer's material breach</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="client_terminate_bankruptcy" checked>
            <span class="checkbox-label">For Developer bankruptcy/insolvency</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="client_terminate_force" checked>
            <span class="checkbox-label">For force majeure events</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="client_termination_notice">Client Termination Notice Period</label>
        <select id="client_termination_notice" class="form-select">
          <option value="7days">7 Days</option>
          <option value="14days">14 Days</option>
          <option value="30days" selected>30 Days</option>
          <option value="45days">45 Days</option>
          <option value="60days">60 Days</option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="form-label">Termination by Developer</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="dev_terminate_convenience">
            <span class="checkbox-label">For convenience with notice</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="dev_terminate_breach" checked>
            <span class="checkbox-label">For Client's material breach</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="dev_terminate_nonpayment" checked>
            <span class="checkbox-label">For Client's non-payment</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="dev_terminate_bankruptcy" checked>
            <span class="checkbox-label">For Client bankruptcy/insolvency</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="dev_terminate_force" checked>
            <span class="checkbox-label">For force majeure events</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="dev_termination_notice">Developer Termination Notice Period</label>
        <select id="dev_termination_notice" class="form-select">
          <option value="7days">7 Days</option>
          <option value="14days">14 Days</option>
          <option value="30days" selected>30 Days</option>
          <option value="45days">45 Days</option>
          <option value="60days">60 Days</option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="form-label">Payment Upon Termination</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="termination_payment" id="termination_completed" value="completed" checked>
            <span class="radio-label">Payment for completed work only</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="termination_payment" id="termination_milestone" value="milestone">
            <span class="radio-label">Payment through current milestone</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="termination_payment" id="termination_cancellation" value="cancellation">
            <span class="radio-label">Payment plus cancellation fee</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="cancellation_fee_group" style="display:none;">
        <label class="form-label" for="cancellation_fee">Cancellation Fee</label>
        <input type="text" id="cancellation_fee" class="form-input" value="20% of remaining contract value" placeholder="Specify cancellation fee">
      </div>
      
      <div class="form-group">
        <label class="form-label">Return of Materials Upon Termination</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="return_code" checked>
            <span class="checkbox-label">Source code</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="return_designs" checked>
            <span class="checkbox-label">Designs and assets</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="return_documentation" checked>
            <span class="checkbox-label">Documentation</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="return_data" checked>
            <span class="checkbox-label">Client data</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="return_credentials" checked>
            <span class="checkbox-label">All access credentials</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Survival Clauses</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="survive_ip" checked>
            <span class="checkbox-label">Intellectual property</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="survive_confidentiality" checked>
            <span class="checkbox-label">Confidentiality</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="survive_payment" checked>
            <span class="checkbox-label">Payment obligations</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="survive_warranties" checked>
            <span class="checkbox-label">Warranties</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="survive_indemnification" checked>
            <span class="checkbox-label">Indemnification</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="survive_limitations" checked>
            <span class="checkbox-label">Limitation of liability</span>
          </label>
        </div>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Acceptance & Delivery -->
    <div id="delivery-tab" class="tab-content">
      <div class="section-header">Acceptance Testing & Delivery</div>
      
      <div class="form-group">
        <label class="form-label">Acceptance Process</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="acceptance_process" id="acceptance_formal" value="formal" checked>
            <span class="radio-label">Formal acceptance testing</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="acceptance_process" id="acceptance_informal" value="informal">
            <span class="radio-label">Informal review and approval</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="acceptance_process" id="acceptance_milestone" value="milestone">
            <span class="radio-label">Milestone-based acceptance</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="acceptance_process" id="acceptance_custom" value="custom">
            <span class="radio-label">Custom process</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="custom_acceptance_group" style="display:none;">
        <label class="form-label" for="custom_acceptance">Custom Acceptance Process</label>
        <textarea id="custom_acceptance" class="form-textarea" rows="4" placeholder="Describe the custom acceptance process"></textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="acceptance_criteria">Acceptance Criteria</label>
        <textarea id="acceptance_criteria" class="form-textarea" rows="5" placeholder="Define the acceptance criteria">1. App must function according to the approved specifications
2. App must be free of critical defects
3. All features listed in the scope must be operational
4. App must pass security testing requirements
5. App must meet performance requirements</textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="acceptance_period">Acceptance Testing Period</label>
        <select id="acceptance_period" class="form-select">
          <option value="3days">3 Business Days</option>
          <option value="5days">5 Business Days</option>
          <option value="10days" selected>10 Business Days</option>
          <option value="15days">15 Business Days</option>
          <option value="20days">20 Business Days</option>
          <option value="30days">30 Business Days</option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="form-label">Deemed Acceptance</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="deemed_acceptance" id="deemed_yes" value="yes" checked>
            <span class="radio-label">Yes (Acceptance is deemed after testing period if no response)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="deemed_acceptance" id="deemed_no" value="no">
            <span class="radio-label">No (Explicit acceptance required)</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="defect_categories">Defect Categories</label>
        <textarea id="defect_categories" class="form-textarea" rows="5" placeholder="Define defect categories">Critical Defects: Defects that prevent the app from functioning or cause data loss/corruption
Major Defects: Defects that significantly impact functionality but allow the app to operate
Minor Defects: Defects that cause inconvenience but do not prevent functionality
Cosmetic Defects: Visual or design issues that do not impact functionality</textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label">Defect Resolution</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="resolve_critical" checked>
            <span class="checkbox-label">Critical defects must be resolved before acceptance</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="resolve_major" checked>
            <span class="checkbox-label">Major defects must be resolved before acceptance</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="resolve_minor">
            <span class="checkbox-label">Minor defects must be resolved before acceptance</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="resolve_cosmetic">
            <span class="checkbox-label">Cosmetic defects must be resolved before acceptance</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="delivery_method">Final Delivery Method</label>
        <select id="delivery_method" class="form-select">
          <option value="app_store" selected>App Store Submission</option>
          <option value="source_code">Source Code Repository Transfer</option>
          <option value="binary">Compiled Binary Package</option>
          <option value="deployment">Direct Deployment to Client Environment</option>
          <option value="custom">Custom Delivery Method</option>
        </select>
      </div>
      
      <div class="form-group" id="custom_delivery_group" style="display:none;">
        <label class="form-label" for="custom_delivery">Custom Delivery Method</label>
        <textarea id="custom_delivery" class="form-textarea" rows="2" placeholder="Describe the custom delivery method"></textarea>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - Maintenance & Support -->
    <div id="maintenance-tab" class="tab-content">
      <div class="section-header">Maintenance & Support</div>
      
      <div class="form-group">
        <label class="form-label">Post-Delivery Support</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="post_delivery" id="post_delivery_included" value="included" checked>
            <span class="radio-label">Included for a defined period</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="post_delivery" id="post_delivery_separate" value="separate">
            <span class="radio-label">Separate maintenance agreement</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="post_delivery" id="post_delivery_none" value="none">
            <span class="radio-label">Not included</span>
          </label>
        </div>
      </div>
      
      <div id="support_period_group">
        <div class="form-group">
          <label class="form-label" for="support_period">Support Period</label>
          <select id="support_period" class="form-select">
            <option value="30days">30 Days</option>
            <option value="60days">60 Days</option>
            <option value="90days" selected>90 Days</option>
            <option value="6months">6 Months</option>
            <option value="1year">1 Year</option>
            <option value="custom">Custom Period</option>
          </select>
        </div>
        
        <div class="form-group" id="custom_support_group" style="display:none;">
          <label class="form-label" for="custom_support">Custom Support Period</label>
          <input type="text" id="custom_support" class="form-input" placeholder="Specify custom support period">
        </div>
      </div>
      
      <div id="separate_agreement_group" style="display:none;">
        <div class="form-group">
          <label class="form-label" for="separate_agreement_terms">Separate Agreement Terms (Optional)</label>
          <textarea id="separate_agreement_terms" class="form-textarea" rows="3" placeholder="Specify terms for separate agreement (optional)">Parties will negotiate a separate maintenance and support agreement prior to the final delivery of the App.</textarea>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Support Coverage</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="support_bug_fixes" checked>
            <span class="checkbox-label">Bug fixes</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="support_security" checked>
            <span class="checkbox-label">Security updates</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="support_os" checked>
            <span class="checkbox-label">OS compatibility updates</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="support_minor" checked>
            <span class="checkbox-label">Minor enhancements</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="support_major">
            <span class="checkbox-label">Major feature additions</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="support_performance">
            <span class="checkbox-label">Performance optimization</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Response Time SLA</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="response_sla" id="response_standard" value="standard" checked>
            <span class="radio-label">Standard (Critical: 24 hrs, Major: 48 hrs, Minor: 72 hrs)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="response_sla" id="response_expedited" value="expedited">
            <span class="radio-label">Expedited (Critical: 4 hrs, Major: 24 hrs, Minor: 48 hrs)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="response_sla" id="response_basic" value="basic">
            <span class="radio-label">Basic (Best effort response)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="response_sla" id="response_custom" value="custom">
            <span class="radio-label">Custom</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="custom_sla_group" style="display:none;">
        <label class="form-label" for="custom_sla">Custom SLA</label>
        <textarea id="custom_sla" class="form-textarea" rows="3" placeholder="Specify custom response time SLA"></textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label">Support Hours</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="support_hours" id="hours_business" value="business" checked>
            <span class="radio-label">Business hours (9am-5pm, Mon-Fri)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="support_hours" id="hours_extended" value="extended">
            <span class="radio-label">Extended hours (8am-8pm, Mon-Sat)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="support_hours" id="hours_24_5" value="24_5">
            <span class="radio-label">24/5 (24 hours, Mon-Fri)</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="support_hours" id="hours_24_7" value="24_7">
            <span class="radio-label">24/7 (24 hours, all days)</span>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Support Channels</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="channel_email" checked>
            <span class="checkbox-label">Email</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="channel_phone" checked>
            <span class="checkbox-label">Phone</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="channel_ticket" checked>
            <span class="checkbox-label">Ticket system</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="channel_chat">
            <span class="checkbox-label">Live chat</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="channel_video">
            <span class="checkbox-label">Video calls</span>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="channel_onsite">
            <span class="checkbox-label">On-site support</span>
          </label>
        </div>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
          <button class="btn" onclick="nextTab()">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Tab Content - General Terms -->
    <div id="general-terms-tab" class="tab-content">
      <div class="section-header">Jurisdiction & Dispute Resolution</div>
      
      <div class="form-group">
        <label class="form-label" for="governing_law">Governing Law</label>
        <input type="text" id="governing_law" class="form-input" value="California, United States" placeholder="State/Country of governing law">
      </div>
      
      <div class="form-group">
        <label class="form-label">Dispute Resolution Method</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="dispute_resolution" id="dispute_mediation" value="mediation" checked>
            <span class="radio-label">Mediation then litigation</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="dispute_resolution" id="dispute_arbitration" value="arbitration">
            <span class="radio-label">Binding arbitration</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="dispute_resolution" id="dispute_litigation" value="litigation">
            <span class="radio-label">Litigation only</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="dispute_resolution" id="dispute_escalation" value="escalation">
            <span class="radio-label">Escalation procedure</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="arbitration_group" style="display:none;">
        <label class="form-label" for="arbitration_rules">Arbitration Rules/Provider</label>
        <input type="text" id="arbitration_rules" class="form-input" value="American Arbitration Association (AAA)" placeholder="Specify arbitration provider">
      </div>
      
      <div class="form-group" id="escalation_group" style="display:none;">
        <label class="form-label" for="escalation_procedure">Escalation Procedure</label>
        <textarea id="escalation_procedure" class="form-textarea" rows="3" placeholder="Describe dispute escalation procedure">1. Project managers will attempt to resolve the dispute within 10 business days
2. If unresolved, executive management will meet within 15 business days
3. If still unresolved, parties will proceed to mediation before pursuing legal remedies</textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="venue">Venue for Disputes</label>
        <input type="text" id="venue" class="form-input" value="San Francisco, California" placeholder="City, State/Country for disputes">
      </div>
      
      <div class="section-header">General Provisions</div>
      
      <div class="form-group">
        <label class="form-label">Include Standard Clauses</label>
        <div class="checkbox-group">
          <label class="checkbox-item">
            <input type="checkbox" id="clause_force_majeure" checked>
            <span class="checkbox-label">Force Majeure</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Excuses non-performance due to circumstances beyond reasonable control.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_severability" checked>
            <span class="checkbox-label">Severability</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                If one part of the agreement is invalid, the rest remains enforceable.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_assignment" checked>
            <span class="checkbox-label">Assignment</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Restricts transferring rights or obligations under this agreement.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_notices" checked>
            <span class="checkbox-label">Notices</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                How official communications between parties must be delivered.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_waiver" checked>
            <span class="checkbox-label">No Waiver</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Not enforcing a right does not waive that right in the future.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_relationship" checked>
            <span class="checkbox-label">Independent Contractor Relationship</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Clarifies that Developer is an independent contractor, not an employee.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_entire_agreement" checked>
            <span class="checkbox-label">Entire Agreement</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                This document supersedes all prior agreements and understandings.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_amendment" checked>
            <span class="checkbox-label">Amendments</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                How changes to this agreement must be made.
              </div>
            </div>
          </label>
          <label class="checkbox-item">
            <input type="checkbox" id="clause_counterparts" checked>
            <span class="checkbox-label">Counterparts</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Agreement may be signed in multiple copies with the same effect.
              </div>
            </div>
          </label>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">Non-Solicitation</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="non_solicitation" id="nonsolicit_mutual" value="mutual" checked>
            <span class="radio-label">Mutual non-solicitation</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Neither party may solicit or hire the other's employees during and after the project.
              </div>
            </div>
          </label>
          <label class="radio-item">
            <input type="radio" name="non_solicitation" id="nonsolicit_client" value="client">
            <span class="radio-label">Client-only non-solicitation</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Client agrees not to solicit or hire Developer's employees.
              </div>
            </div>
          </label>
          <label class="radio-item">
            <input type="radio" name="non_solicitation" id="nonsolicit_developer" value="developer">
            <span class="radio-label">Developer-only non-solicitation</span>
            <div class="tooltip-container">
              <span class="tooltip-trigger">?</span>
              <div class="tooltip-content">
                Developer agrees not to solicit or hire Client's employees.
              </div>
            </div>
          </label>
          <label class="radio-item">
            <input type="radio" name="non_solicitation" id="nonsolicit_none" value="none">
            <span class="radio-label">No non-solicitation clause</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="nonsolicit_term_group">
        <label class="form-label" for="nonsolicit_term">Non-Solicitation Term</label>
        <select id="nonsolicit_term" class="form-select">
          <option value="6months">6 months after project completion</option>
          <option value="1year" selected>1 year after project completion</option>
          <option value="18months">18 months after project completion</option>
          <option value="2years">2 years after project completion</option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="form-label">Non-Compete Clause</label>
        <div class="radio-group">
          <label class="radio-item">
            <input type="radio" name="non_compete" id="noncompete_yes" value="yes">
            <span class="radio-label">Include non-compete clause</span>
          </label>
          <label class="radio-item">
            <input type="radio" name="non_compete" id="noncompete_no" value="no" checked>
            <span class="radio-label">No non-compete clause</span>
          </label>
        </div>
      </div>
      
      <div class="form-group" id="noncompete_group" style="display:none;">
        <label class="form-label" for="noncompete_terms">Non-Compete Terms</label>
        <textarea id="noncompete_terms" class="form-textarea" rows="3" placeholder="Specify non-compete terms">Developer agrees not to create competing mobile apps in the same industry sector as Client's app for a period of one year following the completion of this project.</textarea>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="additional_terms">Additional Terms (Optional)</label>
        <textarea id="additional_terms" class="form-textarea" rows="5" placeholder="Any additional terms you'd like to include"></textarea>
      </div>
      
      <div class="button-group">
        <div class="preview-button">
          <button class="btn" onclick="previewAgreement()">Preview Agreement</button>
        </div>
        <div class="nav-buttons">
          <button class="btn btn-secondary" onclick="prevTab()">Previous</button>
        </div>
      </div>
    </div>
    
    <!-- Preview Modal -->
    <div id="preview-modal" class="modal-overlay">
      <div class="modal">
        <div class="modal-header">
          <h2 class="modal-title">Mobile App Development Agreement Preview</h2>
          <button class="modal-close" onclick="closePreview()">&times;</button>
        </div>
        <div class="modal-content">
          <div id="agreement-preview" class="agreement-preview"></div>
        </div>
        <div class="modal-footer">
          <button class="btn" onclick="downloadAgreement()">Download as TXT</button>
          <button class="btn btn-secondary" onclick="closePreview()">Close</button>
        </div>
      </div>
    </div>
    
    <!-- Loading Indicator -->
    <div id="loading" class="loading">
      <div class="spinner"></div>
    </div>
  </div>

  <script>
    // Tab Navigation
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    
    // Initialize date inputs with today's date
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date();
      
      // Format date as YYYY-MM-DD for input[type="date"]
      const todayFormatted = today.toISOString().split('T')[0];
      
      // Set start date to today
      document.getElementById('start_date').value = todayFormatted;
      
      // Set end date to 3 months from today
      const endDate = new Date();
      endDate.setMonth(today.getMonth() + 3);
      document.getElementById('end_date').value = endDate.toISOString().split('T')[0];
      
      // Show/hide elements based on initial values
      setupConditionalFields();
    });
    
    // Set up dynamic form visibility
    function setupConditionalFields() {
      // Platform Other
      document.getElementById('platform_other').addEventListener('change', function() {
        document.getElementById('platform_other_group').style.display = this.checked ? 'block' : 'none';
      });
      
      // Payment Model Options
      const paymentModels = document.querySelectorAll('input[name="payment_model"]');
      paymentModels.forEach(function(model) {
        model.addEventListener('change', function() {
          document.getElementById('fixed_price_options').style.display = 'none';
          document.getElementById('hourly_rate_options').style.display = 'none';
          document.getElementById('milestone_payment_options').style.display = 'none';
          
          if (this.value === 'fixed') {
            document.getElementById('fixed_price_options').style.display = 'block';
          } else if (this.value === 'hourly') {
            document.getElementById('hourly_rate_options').style.display = 'block';
          } else if (this.value === 'milestone') {
            document.getElementById('milestone_payment_options').style.display = 'block';
          }
        });
      });
      
      // Late Payment Fee
      document.getElementById('late_payment').addEventListener('change', function() {
        document.getElementById('custom_late_payment').style.display = this.value === 'custom' ? 'block' : 'none';
      });
      
      // Currency
      document.getElementById('currency').addEventListener('change', function() {
        document.getElementById('custom_currency').style.display = this.value === 'custom' ? 'block' : 'none';
      });
      
      // Additional Expenses
      const expenseOptions = document.querySelectorAll('input[name="additional_expenses"]');
      expenseOptions.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('expenses_threshold_amount').style.display = this.value === 'threshold' ? 'block' : 'none';
        });
      });
      
      // IP Model
      const ipModels = document.querySelectorAll('input[name="ip_model"]');
      ipModels.forEach(function(model) {
        model.addEventListener('change', function() {
          document.getElementById('ip_license_options').style.display = 'none';
          document.getElementById('ip_mixed_options').style.display = 'none';
          
          if (this.value === 'developer') {
            document.getElementById('ip_license_options').style.display = 'block';
          } else if (this.value === 'mixed') {
            document.getElementById('ip_mixed_options').style.display = 'block';
          }
        });
      });
      
      // License Duration
      const licenseDurations = document.querySelectorAll('input[name="license_duration"]');
      licenseDurations.forEach(function(duration) {
        duration.addEventListener('change', function() {
          document.getElementById('license_term_group').style.display = this.value === 'limited' ? 'block' : 'none';
        });
      });
      
      // Open Source Options
      document.getElementById('open_source_restricted').addEventListener('change', function() {
        document.getElementById('open_source_licenses').style.display = this.checked ? 'block' : 'none';
      });
      
      // Custom Warranty Period
      document.getElementById('warranty_period').addEventListener('change', function() {
        document.getElementById('custom_warranty_group').style.display = this.value === 'custom' ? 'block' : 'none';
      });
      
      // Performance Metrics
      const performanceWarranty = document.querySelectorAll('input[name="performance_warranty"]');
      performanceWarranty.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('performance_metrics_group').style.display = this.value === 'detailed' ? 'block' : 'none';
        });
      });
      
      // Liability Cap
      const liabilityLimitation = document.querySelectorAll('input[name="liability_limitation"]');
      liabilityLimitation.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('liability_cap_group').style.display = this.value === 'custom' ? 'block' : 'none';
        });
      });
      
      // Custom Confidentiality Term
      const confidentialityTerm = document.querySelectorAll('input[name="confidentiality_term"]');
      confidentialityTerm.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('custom_confidentiality_group').style.display = this.value === 'custom' ? 'block' : 'none';
        });
      });
      
      // Cancellation Fee
      const terminationPayment = document.querySelectorAll('input[name="termination_payment"]');
      terminationPayment.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('cancellation_fee_group').style.display = this.value === 'cancellation' ? 'block' : 'none';
        });
      });
      
      // Custom Acceptance Process
      const acceptanceProcess = document.querySelectorAll('input[name="acceptance_process"]');
      acceptanceProcess.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('custom_acceptance_group').style.display = this.value === 'custom' ? 'block' : 'none';
        });
      });
      
      // Custom Delivery Method
      document.getElementById('delivery_method').addEventListener('change', function() {
        document.getElementById('custom_delivery_group').style.display = this.value === 'custom' ? 'block' : 'none';
      });
      
      // Post-Delivery Support Options
      const postDelivery = document.querySelectorAll('input[name="post_delivery"]');
      postDelivery.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('support_period_group').style.display = this.value === 'included' ? 'block' : 'none';
          document.getElementById('separate_agreement_group').style.display = this.value === 'separate' ? 'block' : 'none';
        });
      });
      
      // Custom Support Period
      document.getElementById('support_period').addEventListener('change', function() {
        document.getElementById('custom_support_group').style.display = this.value === 'custom' ? 'block' : 'none';
      });
      
      // Response Time SLA
      const responseSLA = document.querySelectorAll('input[name="response_sla"]');
      responseSLA.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('custom_sla_group').style.display = this.value === 'custom' ? 'block' : 'none';
        });
      });
      
      // Dispute Resolution Method
      const disputeResolution = document.querySelectorAll('input[name="dispute_resolution"]');
      disputeResolution.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('arbitration_group').style.display = this.value === 'arbitration' ? 'block' : 'none';
          document.getElementById('escalation_group').style.display = this.value === 'escalation' ? 'block' : 'none';
        });
      });
      
      // Non-Solicitation Terms
      const nonSolicitation = document.querySelectorAll('input[name="non_solicitation"]');
      nonSolicitation.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('nonsolicit_term_group').style.display = this.value === 'none' ? 'none' : 'block';
        });
      });
      
      // Non-Compete Clause
      const nonCompete = document.querySelectorAll('input[name="non_compete"]');
      nonCompete.forEach(function(option) {
        option.addEventListener('change', function() {
          document.getElementById('noncompete_group').style.display = this.value === 'yes' ? 'block' : 'none';
        });
      });
    }
    
    // Call setup function to initialize conditional fields
    setupConditionalFields();
    
    // Tab Navigation
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const tabId = tab.getAttribute('data-tab');
        switchTab(tabId);
      });
    });
    
    function switchTab(tabId) {
      // Remove active class from all tabs and tab contents
      tabs.forEach(tab => tab.classList.remove('active'));
      tabContents.forEach(content => content.classList.remove('active'));
      
      // Add active class to current tab and tab content
      document.querySelector(`.tab[data-tab="${tabId}"]`).classList.add('active');
      document.getElementById(`${tabId}-tab`).classList.add('active');
      
      // Scroll to top of tab content
      window.scrollTo(0, 0);
    }
    
    function nextTab() {
      const currentTab = document.querySelector('.tab.active');
      const nextTab = currentTab.nextElementSibling;
      
      if (nextTab) {
        const tabId = nextTab.getAttribute('data-tab');
        switchTab(tabId);
      }
    }
    
    function prevTab() {
      const currentTab = document.querySelector('.tab.active');
      const prevTab = currentTab.previousElementSibling;
      
      if (prevTab) {
        const tabId = prevTab.getAttribute('data-tab');
        switchTab(tabId);
      }
    }
    
    // Preview Agreement
    function previewAgreement() {
      showLoading();
      
      // Short delay to allow loading indicator to appear
      setTimeout(function() {
        const agreementText = generateAgreement();
        document.getElementById('agreement-preview').innerHTML = agreementText;
        
        // Show the preview modal
        document.getElementById('preview-modal').style.display = 'flex';
        hideLoading();
      }, 500);
    }
    
    // Close Preview
    function closePreview() {
      document.getElementById('preview-modal').style.display = 'none';
    }
    
    // Download Agreement
    function downloadAgreement() {
      const agreementText = document.getElementById('agreement-preview').innerText;
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(agreementText));
      
      // Use app name for filename if available, otherwise use generic name
      const appName = document.getElementById('app_name').value || 'Mobile_App';
      const safeAppName = appName.replace(/[^a-z0-9]/gi, '_');
      element.setAttribute('download', `${safeAppName}_Development_Agreement.txt`);
      
      element.style.display = 'none';
      document.body.appendChild(element);
      element.click();
      document.body.removeChild(element);
    }
    
    // Show Loading Indicator
    function showLoading() {
      document.getElementById('loading').style.display = 'flex';
    }
    
    // Hide Loading Indicator
    function hideLoading() {
      document.getElementById('loading').style.display = 'none';
    }
    
    // Apply Industry Preset
    function applyPreset(preset) {
      // Common fields for all presets
      document.getElementById('start_date').value = new Date().toISOString().split('T')[0];
      const endDate = new Date();
      endDate.setMonth(endDate.getMonth() + 3);
      document.getElementById('end_date').value = endDate.toISOString().split('T')[0];
      
      // Set fields based on preset
      if (preset === 'ecommerce') {
        // E-commerce App Preset
        document.getElementById('app_name').value = 'E-commerce Shopping App';
        document.getElementById('app_description').value = 'A mobile application that allows users to browse products, make purchases, and track orders.';
        document.getElementById('platform_ios').checked = true;
        document.getElementById('platform_android').checked = true;
        document.getElementById('app_features').value = '1. User registration and authentication\n2. Product browsing and search\n3. Shopping cart and checkout\n4. Payment processing\n5. Order tracking\n6. Push notifications';
        document.getElementById('approach_native').checked = true;
        document.getElementById('tech_stack').value = '- Programming Languages: Swift, Kotlin\n- Frameworks: UIKit, Jetpack Compose\n- Databases: SQLite, Firebase\n- APIs: Payment gateway, Shipping integrations\n- Third-party services: Analytics, Push notification services';
        
        // Payment terms
        document.getElementById('payment_fixed').checked = true;
        document.getElementById('fixed_price_amount').value = '$60,000';
        
        // IP terms
        document.getElementById('ip_client').checked = true;
        
        // Warranties
        document.getElementById('warranty_workmanship').checked = true;
        document.getElementById('warranty_requirements').checked = true;
        document.getElementById('warranty_malware').checked = true;
        
      } else if (preset === 'social') {
        // Social Media App Preset
        document.getElementById('app_name').value = 'Social Connect App';
        document.getElementById('app_description').value = 'A social networking application that allows users to connect, share content, and interact with each other.';
        document.getElementById('platform_ios').checked = true;
        document.getElementById('platform_android').checked = true;
        document.getElementById('app_features').value = '1. User profiles and authentication\n2. News feed\n3. Content creation and sharing\n4. Messaging system\n5. Notifications\n6. User discovery and following';
        document.getElementById('approach_cross').checked = true;
        document.getElementById('tech_stack').value = '- Programming Languages: JavaScript/TypeScript\n- Frameworks: React Native\n- Databases: Firebase, MongoDB\n- APIs: Social login, Content delivery\n- Third-party services: Real-time messaging, Analytics';
        
        // Payment terms
        document.getElementById('payment_milestone').checked = true;
        document.getElementById('milestone_payments').value = '1. Project Kickoff - 20% ($15,000)\n2. Design Approval - 20% ($15,000)\n3. MVP Development - 20% ($15,000)\n4. Beta Testing - 20% ($15,000)\n5. Final Delivery - 20% ($15,000)';
        
        // IP terms
        document.getElementById('ip_client').checked = true;
        
        // Delivery
        document.getElementById('acceptance_period').value = '15days';
        
      } else if (preset === 'gaming') {
        // Gaming App Preset
        document.getElementById('app_name').value = 'Mobile Game App';
        document.getElementById('app_description').value = 'A mobile game that offers engaging gameplay with interactive features and in-app purchases.';
        document.getElementById('platform_ios').checked = true;
        document.getElementById('platform_android').checked = true;
        document.getElementById('app_features').value = '1. User accounts and profiles\n2. Core gameplay mechanics\n3. Level progression system\n4. In-app purchases\n5. Leaderboards and achievements\n6. Social features and sharing';
        document.getElementById('approach_native').checked = true;
        document.getElementById('tech_stack').value = '- Game Engines: Unity\n- Programming Languages: C#\n- Databases: Player data storage\n- APIs: Game services, Social sharing\n- Third-party services: Analytics, Ad networks, IAP processing';
        
        // Payment terms
        document.getElementById('payment_milestone').checked = true;
        document.getElementById('milestone_payments').value = '1. Project Kickoff - 15% ($12,000)\n2. Game Design Document - 15% ($12,000)\n3. Core Gameplay Development - 25% ($20,000)\n4. Feature Complete Build - 20% ($16,000)\n5. Testing & Polish - 15% ($12,000)\n6. Final Release - 10% ($8,000)';
        
        // IP terms
        document.getElementById('ip_client').checked = true;
        
        // Support
        document.getElementById('post_delivery_included').checked = true;
        document.getElementById('support_period').value = '6months';
        
      } else if (preset === 'education') {
        // Educational App Preset
        document.getElementById('app_name').value = 'Educational Learning App';
        document.getElementById('app_description').value = 'An educational application that provides interactive learning experiences for students.';
        document.getElementById('platform_ios').checked = true;
        document.getElementById('platform_android').checked = true;
        document.getElementById('app_features').value = '1. User accounts (students and teachers)\n2. Course/lesson structure\n3. Interactive learning materials\n4. Progress tracking\n5. Quizzes and assessments\n6. Achievement system';
        document.getElementById('approach_hybrid').checked = true;
        document.getElementById('tech_stack').value = '- Programming Languages: JavaScript/TypeScript\n- Frameworks: Ionic, Angular\n- Databases: SQLite, Firebase\n- APIs: Content delivery, Authentication\n- Third-party services: Analytics, Educational content services';
        
        // Payment terms
        document.getElementById('payment_hourly').checked = true;
        document.getElementById('hourly_rate').value = '$120';
        document.getElementById('estimated_hours').value = '400';
        document.getElementById('max_hours').value = '450';
        
        // IP terms
        document.getElementById('ip_client').checked = true;
        
        // Support
        document.getElementById('post_delivery_included').checked = true;
        document.getElementById('support_period').value = '1year';
        
      } else if (preset === 'enterprise') {
        // Enterprise App Preset
        document.getElementById('app_name').value = 'Enterprise Business App';
        document.getElementById('app_description').value = 'A business application that streamlines internal processes and improves workflow efficiency.';
        document.getElementById('platform_ios').checked = true;
        document.getElementById('platform_android').checked = true;
        document.getElementById('platform_web').checked = true;
        document.getElementById('app_features').value = '1. User authentication and role-based access\n2. Business process automation\n3. Data visualization and reporting\n4. Secure data storage and retrieval\n5. Integration with existing systems\n6. Offline capabilities';
        document.getElementById('approach_cross').checked = true;
        document.getElementById('tech_stack').value = '- Programming Languages: JavaScript/TypeScript\n- Frameworks: React Native, React.js\n- Databases: SQL Server, AWS DynamoDB\n- APIs: RESTful APIs, GraphQL\n- Third-party services: Authentication, Cloud storage, Analytics';
        
        // Payment terms
        document.getElementById('payment_fixed').checked = true;
        document.getElementById('fixed_price_amount').value = '$80,000';
        
        // IP terms
        document.getElementById('ip_mixed').checked = true;
        document.getElementById('ip_mixed_terms').value = 'Client owns all custom-developed code and design elements specific to the App.\nDeveloper retains ownership of pre-existing frameworks, libraries, and tools.\nDeveloper grants Client a perpetual, worldwide, non-exclusive license to use Developer\'s pre-existing IP as incorporated in the App.';
        
        // Security provisions
        document.getElementById('warranty_compliance').checked = true;
        document.getElementById('warranty_security').checked = true;
        
        // Support
        document.getElementById('post_delivery_separate').checked = true;
        document.getElementById('separate_agreement_terms').value = 'Parties will negotiate a separate maintenance and support agreement prior to the final delivery of the App, including enterprise-level SLAs and support services.';
      }
      
      // Update conditional form fields
      setupConditionalFields();
      
      // Trigger change events for radio buttons
      const radioInputs = document.querySelectorAll('input[type="radio"]:checked');
      radioInputs.forEach(input => {
        const event = new Event('change');
        input.dispatchEvent(event);
      });
      
      // Show confirmation message
      alert(`${preset.charAt(0).toUpperCase() + preset.slice(1)} app preset applied successfully.`);
    }
    
    // Generate Agreement Text
    function generateAgreement() {
      // Get form values
      const developerName = document.getElementById('developer_name').value;
      const developerAddress = document.getElementById('developer_address').value;
      const clientName = document.getElementById('client_name').value;
      const clientAddress = document.getElementById('client_address').value;
      const appName = document.getElementById('app_name').value;
      const appDescription = document.getElementById('app_description').value;
      
      // Get platform selection
      let platforms = [];
      if (document.getElementById('platform_ios').checked) platforms.push("iOS");
      if (document.getElementById('platform_android').checked) platforms.push("Android");
      if (document.getElementById('platform_web').checked) platforms.push("Web");
      if (document.getElementById('platform_other').checked) {
        platforms.push(document.getElementById('platform_other_text').value);
      }
      const platformsText = platforms.join(", ");
      
      // Get development approach
      const approachElement = document.querySelector('input[name="dev_approach"]:checked');
      const approach = approachElement ? approachElement.value : "native";
      
      let approachText = "";
      if (approach === "native") approachText = "Native Development";
      else if (approach === "hybrid") approachText = "Hybrid Development";
      else if (approach === "cross-platform") approachText = "Cross-Platform Development";
      
      // Generate full agreement text
      let agreement = `
MOBILE APP DEVELOPMENT AGREEMENT

THIS MOBILE APP DEVELOPMENT AGREEMENT (the "Agreement") is made as of ${new Date().toLocaleDateString()} (the "Effective Date")

BETWEEN:

${developerName} with its principal place of business at ${developerAddress}
(the "Developer")

AND:

${clientName} with its principal place of business at ${clientAddress}
(the "Client")

WHEREAS:

A. Client wishes to engage Developer to design, develop, and deliver a mobile application as described in this Agreement.

B. Developer has the necessary skills, experience, and resources to provide these services and wishes to provide them to Client.

NOW, THEREFORE, in consideration of the mutual covenants and agreements contained herein and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the parties agree as follows:

1. DEFINITIONS

1.1. "App" means the mobile application to be developed pursuant to this Agreement, known as "${appName}".

1.2. "Acceptance Criteria" means the criteria for evaluating whether the App meets the Specifications, as set forth in Section 8 of this Agreement.

1.3. "Deliverables" means all items to be delivered by Developer to Client under this Agreement, including but not limited to the App, source code, object code, documentation, and other materials.

1.4. "Intellectual Property Rights" means all intellectual property rights, including but not limited to patents, copyrights, trademarks, trade secrets, and any other proprietary rights.

1.5. "Specifications" means the functional and technical specifications for the App as described in this Agreement, including all features, functionality, and performance requirements.

2. PROJECT SCOPE

2.1. App Description: ${appDescription}

2.2. Platforms: The App will be developed for the following platforms: ${platformsText}.

2.3. Development Approach: ${approachText}.

2.4. Features: The App will include the following features:
${document.getElementById('app_features').value}

2.5. Technology Stack:
${document.getElementById('tech_stack').value}

3. PROJECT TIMELINE
`;

      // Add timeline information
      const startDate = document.getElementById('start_date').value;
      const endDate = document.getElementById('end_date').value;
      const projectPhases = document.getElementById('project_phases').value;
      
      agreement += `
3.1. Project Start Date: ${startDate ? new Date(startDate).toLocaleDateString() : 'To be determined'}

3.2. Estimated Completion Date: ${endDate ? new Date(endDate).toLocaleDateString() : 'To be determined'}

3.3. Project Phases and Milestones:
${projectPhases}

`;

      // Add delay provisions based on selection
      const delayProvisionsElement = document.querySelector('input[name="delay_provisions"]:checked');
      const delayProvisions = delayProvisionsElement ? delayProvisionsElement.value : "standard";
      
      if (delayProvisions === "standard") {
        agreement += `3.4. Delay Provisions: If Developer anticipates any delay in meeting the timeline or milestones set forth in this Agreement, Developer shall promptly notify Client in writing, stating the reason for the delay and the proposed revised timeline. The parties shall work together in good faith to address such delays and establish a revised timeline.

`;
      } else if (delayProvisions === "strict") {
        agreement += `3.4. Delay Provisions: Developer shall strictly adhere to the timeline and milestones set forth in this Agreement. If Developer fails to meet any milestone by more than five (5) business days, Developer shall pay liquidated damages in the amount of 1% of the total project fee per week of delay, up to a maximum of 10% of the total project fee.

`;
      } else if (delayProvisions === "flexible") {
        agreement += `3.4. Delay Provisions: Both parties acknowledge that software development timelines are estimates and subject to revision as the project progresses. Either party may request timeline adjustments by submitting a written request. The parties shall work collaboratively to establish revised timelines as necessary throughout the project lifecycle.

`;
      }

      // Add revision rounds
      const revisionRounds = document.getElementById('revision_rounds').value;
      
      agreement += `3.5. Revision Rounds: Developer will provide ${revisionRounds === 'unlimited' ? 'unlimited (within reason)' : revisionRounds} round(s) of revisions for each deliverable.

`;

      // Add payment terms
      const paymentModelElement = document.querySelector('input[name="payment_model"]:checked');
      const paymentModel = paymentModelElement ? paymentModelElement.value : "fixed";
      
      agreement += `4. PAYMENT TERMS

`;

      if (paymentModel === "fixed") {
        const fixedPrice = document.getElementById('fixed_price_amount').value;
        agreement += `4.1. Fixed Price: Client shall pay Developer a fixed price of ${fixedPrice} for the development of the App.

`;
      } else if (paymentModel === "hourly") {
        const hourlyRate = document.getElementById('hourly_rate').value;
        const estimatedHours = document.getElementById('estimated_hours').value;
        const maxHours = document.getElementById('max_hours').value;
        
        agreement += `4.1. Hourly Rate: Client shall pay Developer at an hourly rate of ${hourlyRate}. 

4.2. Estimated Hours: The total estimated hours for the project is ${estimatedHours} hours.

`;
        
        if (maxHours) {
          agreement += `4.3. Maximum Hours: Developer shall not exceed ${maxHours} hours without prior written approval from Client.

`;
        }
      } else if (paymentModel === "milestone") {
        const milestonePayments = document.getElementById('milestone_payments').value;
        
        agreement += `4.1. Milestone-Based Payments: Client shall pay Developer according to the following milestone payment schedule:

${milestonePayments}

4.2. Milestone Achievement: Payments shall be due upon Developer's notification of milestone completion and Client's acceptance of the deliverables associated with each milestone.

`;
      }

      // Add payment due and late payment terms
      const paymentDue = document.getElementById('payment_due').value;
      let paymentDueText = "";
      
      if (paymentDue === "receipt") paymentDueText = "upon receipt of invoice";
      else if (paymentDue === "15days") paymentDueText = "within 15 days of invoice date";
      else if (paymentDue === "30days") paymentDueText = "within 30 days of invoice date";
      else if (paymentDue === "45days") paymentDueText = "within 45 days of invoice date";
      else if (paymentDue === "60days") paymentDueText = "within 60 days of invoice date";
      
      agreement += `4.3. Payment Due: All payments are due ${paymentDueText}.

`;

      const latePayment = document.getElementById('late_payment').value;
      let latePaymentText = "";
      
      if (latePayment === "none") {
        // No late payment fee
      } else if (latePayment === "custom") {
        latePaymentText = document.getElementById('custom_late_fee').value;
      } else if (latePayment === "1percent") {
        latePaymentText = "1% per month";
      } else if (latePayment === "1.5percent") {
        latePaymentText = "1.5% per month";
      } else if (latePayment === "2percent") {
        latePaymentText = "2% per month";
      }
      
      if (latePaymentText) {
        agreement += `4.4. Late Payment: Payments not received when due shall accrue interest at a rate of ${latePaymentText} on the unpaid balance from the due date until the date of payment.

`;
      }

      // Add currency information
      let currency = document.getElementById('currency').value;
      let currencyText = "";
      
      if (currency === "custom") {
        currencyText = document.getElementById('custom_currency_text').value;
      } else {
        const currencySelect = document.getElementById('currency');
        currencyText = currencySelect.options[currencySelect.selectedIndex].text;
      }
      
      agreement += `4.5. Currency: All amounts in this Agreement are stated in ${currencyText}.

`;

      // Add additional expenses
      const additionalExpensesElement = document.querySelector('input[name="additional_expenses"]:checked');
      const additionalExpenses = additionalExpensesElement ? additionalExpensesElement.value : "included";
      
      if (additionalExpenses === "included") {
        agreement += `4.6. Additional Expenses: All expenses are included in the price stated in this Agreement.

`;
      } else if (additionalExpenses === "billed") {
        agreement += `4.6. Additional Expenses: Additional expenses, including but not limited to third-party licenses, API usage fees, and other reasonable expenses incurred by Developer in performing the services, will be billed separately. Developer shall obtain Client's written approval before incurring any such expense.

`;
      } else if (additionalExpenses === "threshold") {
        const expenseThreshold = document.getElementById('expense_threshold').value;
        agreement += `4.6. Additional Expenses: Additional expenses, including but not limited to third-party licenses, API usage fees, and other reasonable expenses incurred by Developer in performing the services, will be billed separately. Developer shall obtain Client's written approval before incurring any such expense exceeding ${expenseThreshold}.

`;
      }

      // Add intellectual property section
      const ipModelElement = document.querySelector('input[name="ip_model"]:checked');
      const ipModel = ipModelElement ? ipModelElement.value : "client";
      
      agreement += `5. INTELLECTUAL PROPERTY RIGHTS

`;

      if (ipModel === "client") {
        agreement += `5.1. Ownership: Upon receipt of full payment from Client, Developer hereby assigns to Client all right, title, and interest in and to the App, including all Intellectual Property Rights therein, except as otherwise provided in this Agreement.

5.2. Developer's Pre-existing IP: Developer shall retain ownership of any pre-existing Intellectual Property Rights that Developer created prior to this Agreement or that Developer creates outside the scope of this Agreement. Developer grants to Client a non-exclusive, perpetual, worldwide, royalty-free license to use such pre-existing Intellectual Property Rights as incorporated into the App.

`;
      } else if (ipModel === "developer") {
        const licenseTypeElement = document.querySelector('input[name="license_type"]:checked');
        const licenseType = licenseTypeElement ? licenseTypeElement.value : "nonexclusive";
        
        const licenseDurationElement = document.querySelector('input[name="license_duration"]:checked');
        const licenseDuration = licenseDurationElement ? licenseDurationElement.value : "perpetual";
        
        let licenseTermText = "";
        if (licenseDuration === "limited") {
          const licenseTerm = document.getElementById('license_term').value;
          licenseTermText = `for a period of ${licenseTerm} years`;
        } else {
          licenseTermText = "perpetually";
        }
        
        agreement += `5.1. Ownership: Developer shall retain all right, title, and interest in and to the App, including all Intellectual Property Rights therein, except as otherwise provided in this Agreement.

5.2. License Grant: Developer grants to Client a ${licenseType === "exclusive" ? "exclusive" : "non-exclusive"}, ${licenseTermText}, worldwide, royalty-free license to use, reproduce, distribute, and display the App.

`;
      } else if (ipModel === "mixed") {
        const mixedTerms = document.getElementById('ip_mixed_terms').value;
        
        agreement += `5.1. Ownership: The ownership of Intellectual Property Rights in the App shall be allocated as follows:

${mixedTerms}

`;
      }

      // Add third-party components section
      const thirdPartyOption = document.querySelector('input[name="third_party"]:checked');
      const thirdParty = thirdPartyOption ? thirdPartyOption.value : "disclosed";
      
      agreement += `5.3. Third-Party Components: `;
      
      if (thirdParty === "disclosed") {
        agreement += `Developer must disclose to Client all third-party components, including open-source software, used in the development of the App. Developer represents and warrants that it has the right to use all such components and that such use will not infringe on the rights of any third party.

`;
      } else if (thirdParty === "unrestricted") {
        agreement += `Developer may use third-party components, including open-source software, as needed in the development of the App, provided that such use does not restrict Client's rights to use, modify, or distribute the App or require Client to disclose proprietary source code.

`;
      } else if (thirdParty === "approval") {
        agreement += `Developer shall obtain Client's prior written approval for all third-party components, including open-source software, that Developer proposes to use in the development of the App.

`;
      }

      // Add known third-party components
      const thirdPartyList = document.getElementById('third_party_list').value;
      
      if (thirdPartyList && thirdPartyList.trim() !== '') {
        agreement += `5.4. Known Third-Party Components: The following third-party components will be used in the App:

${thirdPartyList}

`;
      }

      // Add open source section
      const openSourceOption = document.querySelector('input[name="open_source"]:checked');
      const openSource = openSourceOption ? openSourceOption.value : "allowed";
      
      agreement += `5.5. Open Source Software: `;
      
      if (openSource === "allowed") {
        agreement += `Developer may use open source software in the development of the App, provided that such use does not restrict Client's rights to use, modify, or distribute the App as contemplated by this Agreement. Developer shall provide Client with a list of all open source software used in the App, including the applicable licenses.

`;
      } else if (openSource === "restricted") {
        const approvedLicenses = document.getElementById('approved_licenses').value;
        
        agreement += `Developer may only use open source software in the development of the App that is licensed under the following approved licenses:

${approvedLicenses}

`;
      } else if (openSource === "prohibited") {
        agreement += `Developer shall not use any open source software in the development of the App without the prior written approval of Client.

`;
      }

      // Add warranties section
      agreement += `6. WARRANTIES AND REPRESENTATIONS

6.1. Developer Warranties: Developer represents and warrants that:

`;

      // Add developer warranties based on checkboxes
      const warrantyWorkmanship = document.getElementById('warranty_workmanship').checked;
      const warrantyIP = document.getElementById('warranty_ip').checked;
      const warrantyCode = document.getElementById('warranty_code').checked;
      const warrantyMalware = document.getElementById('warranty_malware').checked;
      const warrantyCompliance = document.getElementById('warranty_compliance').checked;
      const warrantyRequirements = document.getElementById('warranty_requirements').checked;
      
      if (warrantyWorkmanship) {
        agreement += `   a) All services will be performed in a professional and workmanlike manner in accordance with industry standards.
`;
      }
      
      if (warrantyIP) {
        agreement += `   b) The App will not infringe upon or violate any Intellectual Property Rights or other rights of any third party.
`;
      }
      
      if (warrantyCode) {
        agreement += `   c) The App will be developed with clean, documented, and maintainable code according to industry standards.
`;
      }
      
      if (warrantyMalware) {
        agreement += `   d) The App will not contain any viruses, malware, or other harmful code.
`;
      }
      
      if (warrantyCompliance) {
        agreement += `   e) The App will comply with all applicable laws, regulations, and industry standards.
`;
      }
      
      if (warrantyRequirements) {
        agreement += `   f) The App will materially conform to the Specifications and requirements set forth in this Agreement.
`;
      }
      
      agreement += `
`;

      // Add warranty period
      const warrantyPeriod = document.getElementById('warranty_period').value;
      let warrantyPeriodText = "";
      
      if (warrantyPeriod === "custom") {
        warrantyPeriodText = document.getElementById('custom_warranty').value;
      } else if (warrantyPeriod === "30days") {
        warrantyPeriodText = "thirty (30) days";
      } else if (warrantyPeriod === "60days") {
        warrantyPeriodText = "sixty (60) days";
      } else if (warrantyPeriod === "90days") {
        warrantyPeriodText = "ninety (90) days";
      } else if (warrantyPeriod === "180days") {
        warrantyPeriodText = "one hundred eighty (180) days";
      } else if (warrantyPeriod === "1year") {
        warrantyPeriodText = "one (1) year";
      }
      
      agreement += `6.2. Warranty Period: The warranties set forth in Section 6.1 shall remain in effect for a period of ${warrantyPeriodText} from the date of final acceptance of the App by Client.

`;

      // Add warranty remedies
      agreement += `6.3. Warranty Remedies: If the App does not conform to the warranties set forth in Section 6.1, Developer shall, at its expense, `;
      
      const warrantyRepair = document.getElementById('warranty_repair').checked;
      const warrantyReplace = document.getElementById('warranty_replace').checked;
      const warrantyRefund = document.getElementById('warranty_refund').checked;
      
      let remedies = [];
      if (warrantyRepair) remedies.push("promptly correct any defects or errors in the App");
      if (warrantyReplace) remedies.push("replace defective components of the App");
      if (warrantyRefund) remedies.push("if the defects cannot be fixed within a reasonable time, refund to Client a prorated portion of the fees paid for the App");
      
      if (remedies.length > 0) {
        if (remedies.length === 1) {
          agreement += remedies[0] + ".";
        } else if (remedies.length === 2) {
          agreement += remedies.join(" or ") + ".";
        } else {
          const lastRemedy = remedies.pop();
          agreement += remedies.join(", ") + ", or " + lastRemedy + ".";
        }
      } else {
        agreement += "promptly correct any defects or errors in the App.";
      }
      
      agreement += `

`;

      // Add performance warranty
      const performanceWarrantyElement = document.querySelector('input[name="performance_warranty"]:checked');
      const performanceWarranty = performanceWarrantyElement ? performanceWarrantyElement.value : "basic";
      
      if (performanceWarranty === "basic") {
        agreement += `6.4. Performance Warranty: Developer warrants that the App will perform substantially in accordance with the Specifications and documentation.

`;
      } else if (performanceWarranty === "detailed") {
        const performanceMetrics = document.getElementById('performance_metrics').value;
        
        agreement += `6.4. Performance Warranty: Developer warrants that the App will meet the following performance metrics:

${performanceMetrics}

`;
      } else if (performanceWarranty === "none") {
        // No performance warranty
      }

      // Add warranty disclaimer
      const warrantyDisclaimerElement = document.querySelector('input[name="warranty_disclaimer"]:checked');
      const warrantyDisclaimer = warrantyDisclaimerElement ? warrantyDisclaimerElement.value : "standard";
      
      if (warrantyDisclaimer === "standard") {
        agreement += `6.5. Warranty Disclaimer: EXCEPT FOR THE EXPRESS WARRANTIES SET FORTH IN THIS AGREEMENT, DEVELOPER MAKES NO OTHER WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, OR ANY WARRANTIES THAT THE APP WILL BE UNINTERRUPTED OR ERROR-FREE.

`;
      } else if (warrantyDisclaimer === "minimal") {
        agreement += `6.5. Warranty Disclaimer: Except as expressly provided in this Agreement, Developer does not make any other warranties regarding the App.

`;
      } else if (warrantyDisclaimer === "none") {
        // No warranty disclaimer
      }

      // Add limitation of liability
      const liabilityLimitationElement = document.querySelector('input[name="liability_limitation"]:checked');
      const liabilityLimitation = liabilityLimitationElement ? liabilityLimitationElement.value : "standard";
      
      if (liabilityLimitation === "standard") {
        agreement += `6.6. Limitation of Liability: IN NO EVENT SHALL EITHER PARTY BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING WITHOUT LIMITATION, LOSS OF PROFITS, DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM (i) THE ACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE THE APP; (ii) ANY CONDUCT OR CONTENT OF ANY THIRD PARTY WITH RESPECT TO THE APP; (iii) ANY CONTENT OBTAINED FROM THE APP; AND (iv) UNAUTHORIZED ACCESS, USE, OR ALTERATION OF THE APP, WHETHER BASED ON WARRANTY, CONTRACT, TORT (INCLUDING NEGLIGENCE), OR ANY OTHER LEGAL THEORY, WHETHER OR NOT THE PARTY HAS BEEN INFORMED OF THE POSSIBILITY OF SUCH DAMAGE, AND EVEN IF A REMEDY SET FORTH HEREIN IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE. IN NO EVENT SHALL DEVELOPER'S TOTAL LIABILITY TO CLIENT FOR ALL CLAIMS ARISING FROM OR RELATING TO THIS AGREEMENT EXCEED THE TOTAL AMOUNT PAID BY CLIENT TO DEVELOPER UNDER THIS AGREEMENT.

`;
      } else if (liabilityLimitation === "custom") {
        const liabilityCap = document.getElementById('liability_cap').value;
        
        agreement += `6.6. Limitation of Liability: IN NO EVENT SHALL EITHER PARTY BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING WITHOUT LIMITATION, LOSS OF PROFITS, DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES. IN NO EVENT SHALL DEVELOPER'S TOTAL LIABILITY TO CLIENT FOR ALL CLAIMS ARISING FROM OR RELATING TO THIS AGREEMENT EXCEED ${liabilityCap}.

`;
      } else if (liabilityLimitation === "none") {
        // No limitation of liability
      }

      // Add confidentiality section
      const confidentialityTermElement = document.querySelector('input[name="confidentiality_term"]:checked');
      const confidentialityTerm = confidentialityTermElement ? confidentialityTermElement.value : "project";
      
      let confidentialityPeriod = "";
      
      if (confidentialityTerm === "project") {
        confidentialityPeriod = "the term of this Agreement and for one (1) year thereafter";
      } else if (confidentialityTerm === "2years") {
        confidentialityPeriod = "the term of this Agreement and for two (2) years thereafter";
      } else if (confidentialityTerm === "3years") {
        confidentialityPeriod = "the term of this Agreement and for three (3) years thereafter";
      } else if (confidentialityTerm === "5years") {
        confidentialityPeriod = "the term of this Agreement and for five (5) years thereafter";
      } else if (confidentialityTerm === "perpetual") {
        confidentialityPeriod = "perpetuity";
      } else if (confidentialityTerm === "custom") {
        confidentialityPeriod = document.getElementById('custom_confidentiality').value;
      }
      
      agreement += `7. CONFIDENTIALITY

7.1. Confidential Information: Each party (the "Receiving Party") may have access to certain confidential and proprietary information of the other party (the "Disclosing Party"). Confidential Information includes, but is not limited to, `;
      
      // Add confidential information types
      const confidentialBusiness = document.getElementById('confidential_business').checked;
      const confidentialTechnical = document.getElementById('confidential_technical').checked;
      const confidentialFinancial = document.getElementById('confidential_financial').checked;
      const confidentialPersonal = document.getElementById('confidential_personal').checked;
      const confidentialSoftware = document.getElementById('confidential_software').checked;
      const confidentialMarketing = document.getElementById('confidential_marketing').checked;
      
      let confidentialTypes = [];
      
      if (confidentialBusiness) confidentialTypes.push("business information");
      if (confidentialTechnical) confidentialTypes.push("technical information");
      if (confidentialFinancial) confidentialTypes.push("financial information");
      if (confidentialPersonal) confidentialTypes.push("personal data");
      if (confidentialSoftware) confidentialTypes.push("software architecture and design");
      if (confidentialMarketing) confidentialTypes.push("marketing and promotional materials");
      
      if (confidentialTypes.length > 0) {
        if (confidentialTypes.length === 1) {
          agreement += confidentialTypes[0];
        } else if (confidentialTypes.length === 2) {
          agreement += confidentialTypes.join(" and ");
        } else {
          const lastType = confidentialTypes.pop();
          agreement += confidentialTypes.join(", ") + ", and " + lastType;
        }
      } else {
        agreement += "information identified as confidential";
      }
      
      agreement += `, and any other information that would reasonably be considered confidential or proprietary.

7.2. Protection of Confidential Information: The Receiving Party shall (a) use the same degree of care to protect the Disclosing Party's Confidential Information as it uses to protect its own confidential information of a similar nature, but in no case less than reasonable care; (b) use the Confidential Information only for the purpose of fulfilling its obligations under this Agreement; and (c) not disclose the Confidential Information to any third party without the prior written consent of the Disclosing Party.

7.3. Confidentiality Term: The confidentiality obligations set forth in this Section shall remain in effect for ${confidentialityPeriod}.

`;

      // Add confidentiality exceptions
      agreement += `7.4. Exceptions: The obligations in Section 7.2 shall not apply to information that: `;
      
      const exceptionPublic = document.getElementById('exception_public').checked;
      const exceptionKnown = document.getElementById('exception_known').checked;
      const exceptionIndependent = document.getElementById('exception_independent').checked;
      const exceptionThirdParty = document.getElementById('exception_third_party').checked;
      const exceptionCourt = document.getElementById('exception_court').checked;
      
      let exceptions = [];
      
      if (exceptionPublic) exceptions.push("is or becomes publicly available through no fault of the Receiving Party");
      if (exceptionKnown) exceptions.push("was known to the Receiving Party prior to disclosure by the Disclosing Party");
      if (exceptionIndependent) exceptions.push("was independently developed by the Receiving Party without use of the Disclosing Party's Confidential Information");
      if (exceptionThirdParty) exceptions.push("is rightfully obtained by the Receiving Party from a third party without restriction on use or disclosure");
      if (exceptionCourt) exceptions.push("is required to be disclosed by law or court order, provided that the Receiving Party gives the Disclosing Party prompt written notice of such requirement prior to disclosure");
      
      if (exceptions.length > 0) {
        if (exceptions.length === 1) {
          agreement += exceptions[0] + ".";
        } else if (exceptions.length === 2) {
          agreement += exceptions.join("; or ") + ".";
        } else {
          const lastException = exceptions.pop();
          agreement += exceptions.join("; ") + "; or " + lastException + ".";
        }
      } else {
        agreement += "falls under standard legal exceptions to confidentiality.";
      }
      
      agreement += `

`;

      // Add portfolio rights
      const portfolioRightsElement = document.querySelector('input[name="portfolio_rights"]:checked');
      const portfolioRights = portfolioRightsElement ? portfolioRightsElement.value : "limited";
      
      agreement += `7.5. Portfolio Rights: `;
      
      if (portfolioRights === "limited") {
        agreement += `Developer may include Client's name in Developer's client list and may state that Client is a client of Developer, but may not disclose any details about the App or this Agreement without Client's prior written consent.`;
      } else if (portfolioRights === "screenshots") {
        agreement += `Developer may include Client's name in Developer's client list and may use screenshots of the App in Developer's portfolio, but may not disclose any confidential details about the App or this Agreement without Client's prior written consent.`;
      } else if (portfolioRights === "detailed") {
        agreement += `Developer may include Client's name in Developer's client list, use screenshots of the App in Developer's portfolio, and create a detailed case study about the App and the development process, provided that such case study does not disclose any of Client's Confidential Information without Client's prior written consent.`;
      } else if (portfolioRights === "approval") {
        agreement += `Developer may not use Client's name, screenshots of the App, or any other information about the App or this Agreement in Developer's portfolio or marketing materials without Client's prior written approval, which shall not be unreasonably withheld.`;
      } else if (portfolioRights === "none") {
        agreement += `Developer may not use Client's name, screenshots of the App, or any other information about the App or this Agreement in Developer's portfolio or marketing materials.`;
      }
      
      agreement += `

`;

      // Add NDA section
      const ndaElement = document.querySelector('input[name="nda"]:checked');
      const nda = ndaElement ? ndaElement.value : "included";
      
      if (nda === "included") {
        // NDA is included in this agreement, so no additional provisions needed
      } else if (nda === "separate") {
        agreement += `7.6. Separate Non-Disclosure Agreement: The parties acknowledge that they have entered into a separate Non-Disclosure Agreement, which shall continue to govern the treatment of Confidential Information exchanged between the parties and shall control in the event of any conflict with the confidentiality provisions of this Agreement.

`;
      } else if (nda === "none") {
        // No NDA required or mentioned
      }

      // Add acceptance and delivery section
      const acceptanceProcessElement = document.querySelector('input[name="acceptance_process"]:checked');
      const acceptanceProcess = acceptanceProcessElement ? acceptanceProcessElement.value : "formal";
      
      agreement += `8. ACCEPTANCE AND DELIVERY

`;

      if (acceptanceProcess === "formal") {
        agreement += `8.1. Acceptance Process: Upon completion of the App, Developer shall deliver the App to Client for testing. Client shall have a testing period as specified in Section 8.2 to determine whether the App conforms to the Specifications and Acceptance Criteria. Client shall notify Developer in writing of its acceptance or rejection of the App before the end of the testing period.

`;
      } else if (acceptanceProcess === "informal") {
        agreement += `8.1. Acceptance Process: Upon completion of the App, Developer shall deliver the App to Client for review. Client shall review the App and notify Developer of its acceptance or of any issues that need to be addressed before acceptance. The parties shall work together to address any issues in a timely manner.

`;
      } else if (acceptanceProcess === "milestone") {
        agreement += `8.1. Acceptance Process: Acceptance shall be determined on a milestone-by-milestone basis. Upon completion of each milestone, Developer shall deliver the associated deliverables to Client for testing. Client shall have a testing period as specified in Section 8.2 to determine whether the deliverables conform to the Specifications and Acceptance Criteria. Client shall notify Developer in writing of its acceptance or rejection of the deliverables before the end of the testing period for each milestone.

`;
      } else if (acceptanceProcess === "custom") {
        const customAcceptance = document.getElementById('custom_acceptance').value;
        
        agreement += `8.1. Acceptance Process: ${customAcceptance}

`;
      }

      // Add acceptance criteria
      const acceptanceCriteria = document.getElementById('acceptance_criteria').value;
      
      agreement += `8.2. Acceptance Criteria: The App shall be deemed accepted when it meets the following criteria:

${acceptanceCriteria}

`;

      // Add acceptance testing period
      const acceptancePeriod = document.getElementById('acceptance_period').value;
      let acceptancePeriodText = "";
      
      if (acceptancePeriod === "3days") acceptancePeriodText = "three (3) business days";
      else if (acceptancePeriod === "5days") acceptancePeriodText = "five (5) business days";
      else if (acceptancePeriod === "10days") acceptancePeriodText = "ten (10) business days";
      else if (acceptancePeriod === "15days") acceptancePeriodText = "fifteen (15) business days";
      else if (acceptancePeriod === "20days") acceptancePeriodText = "twenty (20) business days";
      else if (acceptancePeriod === "30days") acceptancePeriodText = "thirty (30) business days";
      
      agreement += `8.3. Testing Period: Client shall have ${acceptancePeriodText} from the date of delivery to test the App and notify Developer of any non-conformities.

`;

      // Add deemed acceptance
      const deemedAcceptanceElement = document.querySelector('input[name="deemed_acceptance"]:checked');
      const deemedAcceptance = deemedAcceptanceElement ? deemedAcceptanceElement.value : "yes";
      
      if (deemedAcceptance === "yes") {
        agreement += `8.4. Deemed Acceptance: If Client does not notify Developer of any non-conformities within the testing period, the App shall be deemed accepted by Client.

`;
      } else if (deemedAcceptance === "no") {
        agreement += `8.4. Explicit Acceptance Required: The App shall not be deemed accepted unless Client has provided Developer with explicit written acceptance. If Client does not notify Developer of its acceptance or of any non-conformities within the testing period, Developer may request that Client provide such notification, but the App shall not be deemed accepted based solely on Client's silence.

`;
      }

      // Add defect categories
      const defectCategories = document.getElementById('defect_categories').value;
      
      agreement += `8.5. Defect Categories: Defects shall be categorized as follows:

${defectCategories}

`;

      // Add defect resolution requirements
      agreement += `8.6. Defect Resolution: `;
      
      const resolveCritical = document.getElementById('resolve_critical').checked;
      const resolveMajor = document.getElementById('resolve_major').checked;
      const resolveMinor = document.getElementById('resolve_minor').checked;
      const resolveCosmetic = document.getElementById('resolve_cosmetic').checked;
      
      let resolveRequirements = [];
      
      if (resolveCritical) resolveRequirements.push("All Critical Defects must be resolved before Client's acceptance of the App");
      if (resolveMajor) resolveRequirements.push("All Major Defects must be resolved before Client's acceptance of the App");
      if (resolveMinor) resolveRequirements.push("All Minor Defects must be resolved before Client's acceptance of the App");
      if (resolveCosmetic) resolveRequirements.push("All Cosmetic Defects must be resolved before Client's acceptance of the App");
      
      if (resolveRequirements.length > 0) {
        if (resolveRequirements.length === 1) {
          agreement += resolveRequirements[0] + ".";
        } else if (resolveRequirements.length === 2) {
          agreement += resolveRequirements.join(" and ") + ".";
        } else {
          const lastRequirement = resolveRequirements.pop();
          agreement += resolveRequirements.join(", ") + ", and " + lastRequirement + ".";
        }
      } else {
        agreement += "Client may accept the App with unresolved defects, provided that Developer agrees to resolve such defects within a mutually agreed timeframe after acceptance.";
      }
      
      if (!resolveMinor && !resolveCosmetic) {
        agreement += ` Minor and Cosmetic Defects will be resolved by Developer within a reasonable time after acceptance, but shall not prevent acceptance of the App.`;
      } else if (!resolveMinor && resolveCosmetic) {
        agreement += ` Minor Defects will be resolved by Developer within a reasonable time after acceptance, but shall not prevent acceptance of the App.`;
      } else if (resolveMinor && !resolveCosmetic) {
        agreement += ` Cosmetic Defects will be resolved by Developer within a reasonable time after acceptance, but shall not prevent acceptance of the App.`;
      }
      
      agreement += `

`;

      // Add delivery method
      const deliveryMethod = document.getElementById('delivery_method').value;
      let deliveryMethodText = "";
      
      if (deliveryMethod === "app_store") {
        deliveryMethodText = "Developer shall assist Client with submitting the App to the relevant app stores (e.g., Apple App Store, Google Play Store). Client shall be responsible for creating and maintaining the necessary developer accounts with the app stores and for paying any associated fees.";
      } else if (deliveryMethod === "source_code") {
        deliveryMethodText = "Developer shall deliver the complete source code of the App to Client via a mutually agreed-upon code repository transfer method. Developer shall also provide documentation necessary for Client to build, deploy, and maintain the App.";
      } else if (deliveryMethod === "binary") {
        deliveryMethodText = "Developer shall deliver compiled binary packages of the App for each target platform, along with installation instructions.";
      } else if (deliveryMethod === "deployment") {
        deliveryMethodText = "Developer shall deploy the App directly to Client's environment according to Client's deployment instructions.";
      } else if (deliveryMethod === "custom") {
        deliveryMethodText = document.getElementById('custom_delivery').value;
      }
      
      agreement += `8.7. Final Delivery Method: ${deliveryMethodText}

`;

      // Add maintenance and support section
      const postDeliveryElement = document.querySelector('input[name="post_delivery"]:checked');
      const postDelivery = postDeliveryElement ? postDeliveryElement.value : "included";
      
      agreement += `9. MAINTENANCE AND SUPPORT

`;

      if (postDelivery === "included") {
        const supportPeriod = document.getElementById('support_period').value;
        let supportPeriodText = "";
        
        if (supportPeriod === "custom") {
          supportPeriodText = document.getElementById('custom_support').value;
        } else if (supportPeriod === "30days") {
          supportPeriodText = "thirty (30) days";
        } else if (supportPeriod === "60days") {
          supportPeriodText = "sixty (60) days";
        } else if (supportPeriod === "90days") {
          supportPeriodText = "ninety (90) days";
        } else if (supportPeriod === "6months") {
          supportPeriodText = "six (6) months";
        } else if (supportPeriod === "1year") {
          supportPeriodText = "one (1) year";
        }
        
        agreement += `9.1. Support Period: Developer shall provide post-delivery support for the App for a period of ${supportPeriodText} following Client's acceptance of the App.

`;
      } else if (postDelivery === "separate") {
        const separateAgreementTerms = document.getElementById('separate_agreement_terms').value;
        
        agreement += `9.1. Separate Support Agreement: Post-delivery support is not included in this Agreement. ${separateAgreementTerms}

`;
      } else if (postDelivery === "none") {
        agreement += `9.1. No Support: Post-delivery support is not included in this Agreement. If Client requires support services after delivery, the parties may negotiate a separate support agreement.

`;
      }

      // Add support coverage
      if (postDelivery === "included") {
        agreement += `9.2. Support Coverage: The post-delivery support includes: `;
        
        const supportBugFixes = document.getElementById('support_bug_fixes').checked;
        const supportSecurity = document.getElementById('support_security').checked;
        const supportOS = document.getElementById('support_os').checked;
        const supportMinor = document.getElementById('support_minor').checked;
        const supportMajor = document.getElementById('support_major').checked;
        const supportPerformance = document.getElementById('support_performance').checked;
        
        let supportItems = [];
        
        if (supportBugFixes) supportItems.push("bug fixes");
        if (supportSecurity) supportItems.push("security updates");
        if (supportOS) supportItems.push("operating system compatibility updates");
        if (supportMinor) supportItems.push("minor enhancements");
        if (supportMajor) supportItems.push("major feature additions");
        if (supportPerformance) supportItems.push("performance optimization");
        
        if (supportItems.length > 0) {
          if (supportItems.length === 1) {
            agreement += supportItems[0] + ".";
          } else if (supportItems.length === 2) {
            agreement += supportItems.join(" and ") + ".";
          } else {
            const lastItem = supportItems.pop();
            agreement += supportItems.join(", ") + ", and " + lastItem + ".";
          }
        } else {
          agreement += "basic technical support and guidance on using the App.";
        }
        
        agreement += `

`;

        // Add response time SLA
        const responseSLAElement = document.querySelector('input[name="response_sla"]:checked');
        const responseSLA = responseSLAElement ? responseSLAElement.value : "standard";
        
        agreement += `9.3. Response Time SLA: `;
        
        if (responseSLA === "standard") {
          agreement += `Developer shall respond to support requests according to the following service level agreement: Critical issues within twenty-four (24) hours, Major issues within forty-eight (48) hours, and Minor issues within seventy-two (72) hours.`;
        } else if (responseSLA === "expedited") {
          agreement += `Developer shall respond to support requests according to the following service level agreement: Critical issues within four (4) hours, Major issues within twenty-four (24) hours, and Minor issues within forty-eight (48) hours.`;
        } else if (responseSLA === "basic") {
          agreement += `Developer shall respond to support requests on a best-effort basis, with no guaranteed response times.`;
        } else if (responseSLA === "custom") {
          const customSLA = document.getElementById('custom_sla').value;
          agreement += customSLA;
        }
        
        agreement += `

`;

        // Add support hours
        const supportHoursElement = document.querySelector('input[name="support_hours"]:checked');
        const supportHours = supportHoursElement ? supportHoursElement.value : "business";
        
        agreement += `9.4. Support Hours: `;
        
        if (supportHours === "business") {
          agreement += `Support services shall be available during normal business hours (9:00 AM to 5:00 PM, Monday through Friday, excluding holidays) in Developer's time zone.`;
        } else if (supportHours === "extended") {
          agreement += `Support services shall be available during extended business hours (8:00 AM to 8:00 PM, Monday through Saturday, excluding holidays) in Developer's time zone.`;
        } else if (supportHours === "24_5") {
          agreement += `Support services shall be available twenty-four (24) hours a day, Monday through Friday.`;
        } else if (supportHours === "24_7") {
          agreement += `Support services shall be available twenty-four (24) hours a day, seven (7) days a week.`;
        }
        
        agreement += `

`;

        // Add support channels
        agreement += `9.5. Support Channels: Support shall be provided through the following channels: `;
        
        const channelEmail = document.getElementById('channel_email').checked;
        const channelPhone = document.getElementById('channel_phone').checked;
        const channelTicket = document.getElementById('channel_ticket').checked;
        const channelChat = document.getElementById('channel_chat').checked;
        const channelVideo = document.getElementById('channel_video').checked;
        const channelOnsite = document.getElementById('channel_onsite').checked;
        
        let channels = [];
        
        if (channelEmail) channels.push("email");
        if (channelPhone) channels.push("phone");
        if (channelTicket) channels.push("ticket system");
        if (channelChat) channels.push("live chat");
        if (channelVideo) channels.push("video calls");
        if (channelOnsite) channels.push("on-site support");
        
        if (channels.length > 0) {
          if (channels.length === 1) {
            agreement += channels[0] + ".";
          } else if (channels.length === 2) {
            agreement += channels.join(" and ") + ".";
          } else {
            const lastChannel = channels.pop();
            agreement += channels.join(", ") + ", and " + lastChannel + ".";
          }
        } else {
          agreement += "email.";
        }
        
        agreement += `

`;
      }

      // Add termination section
      agreement += `10. TERMINATION

10.1. Termination by Client: Client may terminate this Agreement:

`;

      // Add client termination rights
      const clientTerminateConvenience = document.getElementById('client_terminate_convenience').checked;
      const clientTerminateBreach = document.getElementById('client_terminate_breach').checked;
      const clientTerminateBankruptcy = document.getElementById('client_terminate_bankruptcy').checked;
      const clientTerminateForce = document.getElementById('client_terminate_force').checked;
      
      let clientTerminationRights = [];
      
      if (clientTerminateConvenience) {
        const clientTerminationNotice = document.getElementById('client_termination_notice').value;
        let noticeText = "";
        
        if (clientTerminationNotice === "7days") noticeText = "seven (7) days'";
        else if (clientTerminationNotice === "14days") noticeText = "fourteen (14) days'";
        else if (clientTerminationNotice === "30days") noticeText = "thirty (30) days'";
        else if (clientTerminationNotice === "45days") noticeText = "forty-five (45) days'";
        else if (clientTerminationNotice === "60days") noticeText = "sixty (60) days'";
        
        clientTerminationRights.push(`For convenience, upon ${noticeText} written notice to Developer`);
      }
      
      if (clientTerminateBreach) {
        clientTerminationRights.push("If Developer materially breaches this Agreement and fails to cure such breach within thirty (30) days after receiving written notice of the breach from Client");
      }
      
      if (clientTerminateBankruptcy) {
        clientTerminationRights.push("If Developer becomes insolvent, files for bankruptcy, or enters into liquidation or similar proceedings");
      }
      
      if (clientTerminateForce) {
        clientTerminationRights.push("If a force majeure event prevents Developer from performing its obligations under this Agreement for more than sixty (60) days");
      }
      
      if (clientTerminationRights.length > 0) {
        clientTerminationRights.forEach((right, index) => {
          agreement += `   ${String.fromCharCode(97 + index)}) ${right}.
`;
        });
      } else {
        agreement += `   a) If Developer materially breaches this Agreement and fails to cure such breach within thirty (30) days after receiving written notice of the breach from Client.
`;
      }
      
      agreement += `
10.2. Termination by Developer: Developer may terminate this Agreement:

`;

      // Add developer termination rights
      const devTerminateConvenience = document.getElementById('dev_terminate_convenience').checked;
      const devTerminateBreach = document.getElementById('dev_terminate_breach').checked;
      const devTerminateNonpayment = document.getElementById('dev_terminate_nonpayment').checked;
      const devTerminateBankruptcy = document.getElementById('dev_terminate_bankruptcy').checked;
      const devTerminateForce = document.getElementById('dev_terminate_force').checked;
      
      let devTerminationRights = [];
      
      if (devTerminateConvenience) {
        const devTerminationNotice = document.getElementById('dev_termination_notice').value;
        let noticeText = "";
        
        if (devTerminationNotice === "7days") noticeText = "seven (7) days'";
        else if (devTerminationNotice === "14days") noticeText = "fourteen (14) days'";
        else if (devTerminationNotice === "30days") noticeText = "thirty (30) days'";
        else if (devTerminationNotice === "45days") noticeText = "forty-five (45) days'";
        else if (devTerminationNotice === "60days") noticeText = "sixty (60) days'";
        
        devTerminationRights.push(`For convenience, upon ${noticeText} written notice to Client`);
      }
      
      if (devTerminateBreach) {
        devTerminationRights.push("If Client materially breaches this Agreement and fails to cure such breach within thirty (30) days after receiving written notice of the breach from Developer");
      }
      
      if (devTerminateNonpayment) {
        devTerminationRights.push("If Client fails to make any payment when due and does not cure such failure within fifteen (15) days after receiving written notice of the failure from Developer");
      }
      
      if (devTerminateBankruptcy) {
        devTerminationRights.push("If Client becomes insolvent, files for bankruptcy, or enters into liquidation or similar proceedings");
      }
      
      if (devTerminateForce) {
        devTerminationRights.push("If a force majeure event prevents Client from performing its obligations under this Agreement for more than sixty (60) days");
      }
      
      if (devTerminationRights.length > 0) {
        devTerminationRights.forEach((right, index) => {
          agreement += `   ${String.fromCharCode(97 + index)}) ${right}.
`;
        });
      } else {
        agreement += `   a) If Client materially breaches this Agreement and fails to cure such breach within thirty (30) days after receiving written notice of the breach from Developer.
`;
      }
      
      agreement += `
`;

      // Add payment upon termination
      const terminationPaymentElement = document.querySelector('input[name="termination_payment"]:checked');
      const terminationPayment = terminationPaymentElement ? terminationPaymentElement.value : "completed";
      
      agreement += `10.3. Payment Upon Termination: `;
      
      if (terminationPayment === "completed") {
        agreement += `Upon termination of this Agreement for any reason, Client shall pay Developer for all services performed and expenses incurred up to the effective date of termination.`;
      } else if (terminationPayment === "milestone") {
        agreement += `Upon termination of this Agreement for any reason, Client shall pay Developer for all completed milestones and for the pro-rated portion of the milestone in progress at the time of termination.`;
      } else if (terminationPayment === "cancellation") {
        const cancellationFee = document.getElementById('cancellation_fee').value;
        agreement += `Upon termination of this Agreement for any reason, Client shall pay Developer for all services performed and expenses incurred up to the effective date of termination, plus a cancellation fee equal to ${cancellationFee}.`;
      }
      
      agreement += `

`;

      // Add return of materials
      agreement += `10.4. Return of Materials: Upon termination of this Agreement, each party shall return or destroy all Confidential Information and other materials provided by the other party. Developer shall deliver to Client `;
      
      const returnCode = document.getElementById('return_code').checked;
      const returnDesigns = document.getElementById('return_designs').checked;
      const returnDocumentation = document.getElementById('return_documentation').checked;
      const returnData = document.getElementById('return_data').checked;
      const returnCredentials = document.getElementById('return_credentials').checked;
      
      let returnItems = [];
      
      if (returnCode) returnItems.push("all source code developed for the App");
      if (returnDesigns) returnItems.push("all designs and assets");
      if (returnDocumentation) returnItems.push("all documentation");
      if (returnData) returnItems.push("all Client data");
      if (returnCredentials) returnItems.push("all access credentials");
      
      if (returnItems.length > 0) {
        if (returnItems.length === 1) {
          agreement += returnItems[0] + ".";
        } else if (returnItems.length === 2) {
          agreement += returnItems.join(" and ") + ".";
        } else {
          const lastItem = returnItems.pop();
          agreement += returnItems.join(", ") + ", and " + lastItem + ".";
        }
      } else {
        agreement += "all Deliverables in their then-current state.";
      }
      
      agreement += `

`;

      // Add survival clauses
      agreement += `10.5. Survival: The following provisions shall survive the termination or expiration of this Agreement: `;
      
      const surviveIP = document.getElementById('survive_ip').checked;
      const surviveConfidentiality = document.getElementById('survive_confidentiality').checked;
      const survivePayment = document.getElementById('survive_payment').checked;
      const surviveWarranties = document.getElementById('survive_warranties').checked;
      const surviveIndemnification = document.getElementById('survive_indemnification').checked;
      const surviveLimitations = document.getElementById('survive_limitations').checked;
      
      let survivalClauses = [];
      
      if (surviveIP) survivalClauses.push("Intellectual Property Rights (Section 5)");
      if (surviveConfidentiality) survivalClauses.push("Confidentiality (Section 7)");
      if (survivePayment) survivalClauses.push("Payment Obligations (Section 4)");
      if (surviveWarranties) survivalClauses.push("Warranties (Section 6)");
      if (surviveIndemnification) survivalClauses.push("Indemnification");
      if (surviveLimitations) survivalClauses.push("Limitation of Liability (Section 6.6)");
      
      if (survivalClauses.length > 0) {
        if (survivalClauses.length === 1) {
          agreement += survivalClauses[0] + ".";
        } else if (survivalClauses.length === 2) {
          agreement += survivalClauses.join(" and ") + ".";
        } else {
          const lastClause = survivalClauses.pop();
          agreement += survivalClauses.join(", ") + ", and " + lastClause + ".";
        }
      } else {
        agreement += "Intellectual Property Rights (Section 5), Confidentiality (Section 7), and Limitation of Liability (Section 6.6).";
      }
      
      agreement += `

`;

      // Add general provisions section
      const governingLaw = document.getElementById('governing_law').value;
      const venue = document.getElementById('venue').value;
      
      agreement += `11. GENERAL PROVISIONS

11.1. Governing Law: This Agreement shall be governed by and construed in accordance with the laws of ${governingLaw}, without giving effect to any choice of law or conflict of law provisions.

`;

      // Add dispute resolution
      const disputeResolutionElement = document.querySelector('input[name="dispute_resolution"]:checked');
      const disputeResolution = disputeResolutionElement ? disputeResolutionElement.value : "mediation";
      
      agreement += `11.2. Dispute Resolution: `;
      
      if (disputeResolution === "mediation") {
        agreement += `Any dispute arising out of or relating to this Agreement shall first be submitted to mediation in ${venue}. If mediation is unsuccessful, either party may then initiate legal proceedings in the courts located in ${venue}, which shall have exclusive jurisdiction over such disputes.`;
      } else if (disputeResolution === "arbitration") {
        const arbitrationRules = document.getElementById('arbitration_rules').value;
        
        agreement += `Any dispute arising out of or relating to this Agreement shall be resolved by binding arbitration in ${venue} in accordance with the rules of the ${arbitrationRules}. The decision of the arbitrator shall be final and binding on the parties, and judgment on the award rendered by the arbitrator may be entered in any court having jurisdiction thereof.`;
      } else if (disputeResolution === "litigation") {
        agreement += `Any dispute arising out of or relating to this Agreement shall be resolved exclusively in the courts located in ${venue}, and the parties hereby consent to the personal jurisdiction and venue of such courts.`;
      } else if (disputeResolution === "escalation") {
        const escalationProcedure = document.getElementById('escalation_procedure').value;
        
        agreement += `Any dispute arising out of or relating to this Agreement shall be resolved according to the following escalation procedure:

${escalationProcedure}`;
      }
      
      agreement += `

`;

      // Add standard clauses
      const clauseForceMajeure = document.getElementById('clause_force_majeure').checked;
      const clauseSeverability = document.getElementById('clause_severability').checked;
      const clauseAssignment = document.getElementById('clause_assignment').checked;
      const clauseNotices = document.getElementById('clause_notices').checked;
      const clauseWaiver = document.getElementById('clause_waiver').checked;
      const clauseRelationship = document.getElementById('clause_relationship').checked;
      const clauseEntireAgreement = document.getElementById('clause_entire_agreement').checked;
      const clauseAmendment = document.getElementById('clause_amendment').checked;
      const clauseCounterparts = document.getElementById('clause_counterparts').checked;
      
      let standardClauseNumber = 3;
      
      if (clauseForceMajeure) {
        agreement += `11.${standardClauseNumber}. Force Majeure: Neither party shall be liable for any failure or delay in performance under this Agreement due to causes beyond that party's reasonable control, including but not limited to acts of God, acts of government, flood, fire, earthquake, civil unrest, acts of terror, strikes or other labor problems, or internet service provider failures or delays.

`;
        standardClauseNumber++;
      }
      
      if (clauseSeverability) {
        agreement += `11.${standardClauseNumber}. Severability: If any provision of this Agreement is held to be invalid or unenforceable, such provision shall be struck and the remaining provisions shall be enforced.

`;
        standardClauseNumber++;
      }
      
      if (clauseAssignment) {
        agreement += `11.${standardClauseNumber}. Assignment: Neither party may assign this Agreement or any rights or obligations hereunder without the prior written consent of the other party, which consent shall not be unreasonably withheld. Notwithstanding the foregoing, either party may assign this Agreement to a successor in interest in the event of a merger, acquisition, or sale of substantially all of its assets.

`;
        standardClauseNumber++;
      }
      
      if (clauseNotices) {
        agreement += `11.${standardClauseNumber}. Notices: All notices under this Agreement shall be in writing and shall be deemed given upon delivery when delivered personally, by email with confirmation of receipt, or by nationally recognized overnight courier service to the address specified by the receiving party.

`;
        standardClauseNumber++;
      }
      
      if (clauseWaiver) {
        agreement += `11.${standardClauseNumber}. No Waiver: The failure of either party to enforce any right or provision of this Agreement shall not constitute a waiver of such right or provision.

`;
        standardClauseNumber++;
      }
      
      if (clauseRelationship) {
        agreement += `11.${standardClauseNumber}. Independent Contractor Relationship: The parties are independent contractors, and nothing in this Agreement shall be construed as creating an employer-employee relationship, a partnership, or a joint venture between the parties.

`;
        standardClauseNumber++;
      }
      
      if (clauseEntireAgreement) {
        agreement += `11.${standardClauseNumber}. Entire Agreement: This Agreement constitutes the entire agreement between the parties with respect to its subject matter and supersedes all prior or contemporaneous communications, representations, or agreements, whether oral or written.

`;
        standardClauseNumber++;
      }
      
      if (clauseAmendment) {
        agreement += `11.${standardClauseNumber}. Amendments: This Agreement may be amended only by a written instrument signed by both parties.

`;
        standardClauseNumber++;
      }
      
      if (clauseCounterparts) {
        agreement += `11.${standardClauseNumber}. Counterparts: This Agreement may be executed in counterparts, each of which shall be deemed an original, but all of which together shall constitute one and the same instrument.

`;
        standardClauseNumber++;
      }

      // Add non-solicitation
      const nonSolicitationElement = document.querySelector('input[name="non_solicitation"]:checked');
      const nonSolicitation = nonSolicitationElement ? nonSolicitationElement.value : "mutual";
      
      if (nonSolicitation !== "none") {
        const nonSolicitTerm = document.getElementById('nonsolicit_term').value;
        let nonSolicitTermText = "";
        
        if (nonSolicitTerm === "6months") nonSolicitTermText = "six (6) months";
        else if (nonSolicitTerm === "1year") nonSolicitTermText = "one (1) year";
        else if (nonSolicitTerm === "18months") nonSolicitTermText = "eighteen (18) months";
        else if (nonSolicitTerm === "2years") nonSolicitTermText = "two (2) years";
        
        agreement += `11.${standardClauseNumber}. Non-Solicitation: `;
        
        if (nonSolicitation === "mutual") {
          agreement += `During the term of this Agreement and for ${nonSolicitTermText} thereafter, neither party shall directly or indirectly solicit or attempt to solicit for employment any person employed by the other party with whom the soliciting party had contact as a result of this Agreement.`;
        } else if (nonSolicitation === "client") {
          agreement += `During the term of this Agreement and for ${nonSolicitTermText} thereafter, Client shall not directly or indirectly solicit or attempt to solicit for employment any person employed by Developer with whom Client had contact as a result of this Agreement.`;
        } else if (nonSolicitation === "developer") {
          agreement += `During the term of this Agreement and for ${nonSolicitTermText} thereafter, Developer shall not directly or indirectly solicit or attempt to solicit for employment any person employed by Client with whom Developer had contact as a result of this Agreement.`;
        }
        
        agreement += `

`;
        standardClauseNumber++;
      }

      // Add non-compete
      const nonCompeteElement = document.querySelector('input[name="non_compete"]:checked');
      const nonCompete = nonCompeteElement ? nonCompeteElement.value : "no";
      
      if (nonCompete === "yes") {
        const nonCompeteTerms = document.getElementById('noncompete_terms').value;
        
        agreement += `11.${standardClauseNumber}. Non-Compete: ${nonCompeteTerms}

`;
        standardClauseNumber++;
      }

      // Add additional terms
      const additionalTerms = document.getElementById('additional_terms').value;
      
      if (additionalTerms && additionalTerms.trim() !== '') {
        agreement += `11.${standardClauseNumber}. Additional Terms: ${additionalTerms}

`;
        standardClauseNumber++;
      }

      // Add signature block
      agreement += `
IN WITNESS WHEREOF, the parties hereto have executed this Agreement as of the Effective Date.

${developerName}

By: ____________________________
Name: _________________________
Title: __________________________
Date: __________________________


${clientName}

By: ____________________________
Name: _________________________
Title: __________________________
Date: __________________________
`;

      return agreement;
    }
  </script>
</body>
</html>
