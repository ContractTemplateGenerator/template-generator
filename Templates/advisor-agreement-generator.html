<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-901N2Y3CDZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-901N2Y3CDZ');
    </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advisor Agreement Generator | Startup Advisory Contracts | Terms.Law</title>
  <meta name="description" content="Free Advisor Agreement generator for startups. Create professional advisory agreements with equity compensation, vesting schedules, and confidentiality provisions. Attorney-drafted with real-time preview.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Calendly Widget -->
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
  <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>

  <style>
    /* ============================================
       CSS VARIABLES - Professional Theme
       ============================================ */
    :root {
      --color-primary: #1e40af;
      --color-primary-dark: #1e3a8a;
      --color-primary-light: #3b82f6;
      --color-accent: #7c3aed;
      --color-accent-light: #8b5cf6;
      --color-success: #059669;
      --color-warning: #d97706;
      --color-danger: #dc2626;

      --color-bg: #f8fafc;
      --color-surface: #ffffff;
      --color-border: #e2e8f0;
      --color-border-light: #f1f5f9;
      --color-text: #0f172a;
      --color-text-secondary: #334155;
      --color-text-muted: #64748b;
      --color-text-light: #94a3b8;

      --color-dark: #0f172a;
      --color-dark-surface: #1e293b;

      /* Document preview colors */
      --doc-bg: #fefefe;
      --doc-border: #d1d5db;
      --doc-highlight: #fef3c7;
      --doc-highlight-border: #fcd34d;
      --doc-text: #1f2937;
      --doc-clause-title: #1e40af;
      --doc-section-num: #6366f1;

      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

      --radius-sm: 6px;
      --radius-md: 10px;
      --radius-lg: 14px;
      --radius-xl: 20px;
      --radius-full: 9999px;

      --space-xs: 0.25rem;
      --space-sm: 0.5rem;
      --space-md: 1rem;
      --space-lg: 1.5rem;
      --space-xl: 2rem;
      --space-2xl: 3rem;
      --space-3xl: 4rem;

      --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
      --font-serif: Georgia, 'Times New Roman', serif;
      --max-width: 1280px;

      --transition-fast: 150ms ease;
      --transition-base: 200ms ease;
    }

    /* ============================================
       RESET & BASE
       ============================================ */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
    }

    body {
      font-family: var(--font-sans);
      font-size: 16px;
      line-height: 1.6;
      color: var(--color-text);
      background: var(--color-bg);
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    a:hover {
      color: var(--color-primary-dark);
    }

    .container {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--space-lg);
    }

    /* ============================================
       HEADER - Dark Professional
       ============================================ */
    .site-header {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      padding: 0;
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 52px;
      max-width: var(--max-width);
      margin: 0 auto;
    }

    .header-nav {
      display: flex;
      align-items: center;
      gap: 0;
      height: 100%;
    }

    .nav-link {
      color: #94a3b8;
      font-size: 0.85rem;
      font-weight: 600;
      padding: 16px 24px;
      transition: all 150ms ease;
      text-decoration: none;
      height: 100%;
      display: flex;
      align-items: center;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
    }

    .nav-link:hover {
      color: #ffffff;
      background: rgba(255, 255, 255, 0.05);
    }

    .nav-link.active {
      color: #ffffff;
      background: rgba(255, 255, 255, 0.08);
      border-bottom-color: #3b82f6;
    }

    .nav-link.home-logo {
      padding: 12px 20px;
      font-size: 1.1rem;
      font-weight: 800;
      letter-spacing: -0.02em;
      text-transform: none;
    }

    .nav-link.home-logo .logo-text {
      background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Breadcrumb Navigation */
    .breadcrumb {
      background: var(--color-surface);
      border-bottom: 1px solid var(--color-border);
      padding: var(--space-sm) 0;
    }

    .breadcrumb-content {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-size: 0.85rem;
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--space-lg);
    }

    .breadcrumb-link {
      color: var(--color-text-muted);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    .breadcrumb-link:hover {
      color: var(--color-primary);
    }

    .breadcrumb-separator {
      color: var(--color-text-light);
    }

    .breadcrumb-current {
      color: var(--color-text);
      font-weight: 600;
    }

    /* ============================================
       HERO
       ============================================ */
    .hero {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #312e81 100%);
      padding: var(--space-2xl) 0;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 50%;
      height: 100%;
      background: radial-gradient(ellipse at 70% 30%, rgba(124, 58, 237, 0.15) 0%, transparent 60%);
      pointer-events: none;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 800px;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px 6px 6px;
      background: rgba(124, 58, 237, 0.15);
      border: 1px solid rgba(124, 58, 237, 0.3);
      border-radius: var(--radius-full);
      font-size: 0.8rem;
      color: #c4b5fd;
      margin-bottom: var(--space-lg);
    }

    .hero-badge-icon {
      width: 22px;
      height: 22px;
      background: var(--color-accent);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      color: #fff;
    }

    .hero h1 {
      font-size: 2.25rem;
      font-weight: 800;
      color: #fff;
      line-height: 1.15;
      letter-spacing: -0.025em;
      margin-bottom: var(--space-md);
    }

    .hero h1 .highlight {
      background: linear-gradient(135deg, #a78bfa, #60a5fa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-subtitle {
      font-size: 1.1rem;
      color: #94a3b8;
      line-height: 1.7;
      margin-bottom: var(--space-lg);
      max-width: 650px;
    }

    .hero-subtitle strong {
      color: #e2e8f0;
    }

    .hero-features {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-lg);
    }

    .hero-feature {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #94a3b8;
      font-size: 0.9rem;
    }

    .hero-feature-icon {
      color: var(--color-accent-light);
    }

    /* ============================================
       MAIN LAYOUT - Split View
       ============================================ */
    .builder-layout {
      display: grid;
      grid-template-columns: 420px 1fr;
      gap: 0;
      min-height: calc(100vh - 200px);
    }

    @media (max-width: 1024px) {
      .builder-layout {
        grid-template-columns: 1fr;
      }
    }

    /* ============================================
       BUILDER SIDEBAR (Left Panel)
       ============================================ */
    .builder-sidebar {
      background: var(--color-surface);
      border-right: 1px solid var(--color-border);
      padding: var(--space-xl);
      overflow-y: auto;
      max-height: calc(100vh - 150px);
      position: sticky;
      top: 70px;
    }

    @media (max-width: 1024px) {
      .builder-sidebar {
        max-height: none;
        position: static;
      }
    }

    .builder-section {
      margin-bottom: var(--space-xl);
      padding-bottom: var(--space-xl);
      border-bottom: 1px solid var(--color-border-light);
    }

    .builder-section:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }

    .builder-section-title {
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--color-text-muted);
      margin-bottom: var(--space-md);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }

    .builder-section-title .icon {
      font-size: 1rem;
    }

    /* Form Elements */
    .form-group {
      margin-bottom: var(--space-lg);
    }

    .form-label {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: var(--space-sm);
    }

    .form-label .help-trigger {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      background: var(--color-border);
      color: var(--color-text-muted);
      border-radius: 50%;
      font-size: 10px;
      font-weight: 700;
      cursor: help;
      position: relative;
    }

    .form-label .help-trigger:hover .help-tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .help-tooltip {
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%) translateY(5px);
      width: 280px;
      background: var(--color-dark);
      color: #fff;
      padding: 12px 14px;
      border-radius: var(--radius-md);
      font-size: 0.8rem;
      font-weight: 400;
      line-height: 1.5;
      box-shadow: var(--shadow-xl);
      opacity: 0;
      visibility: hidden;
      transition: all var(--transition-base);
      z-index: 100;
      text-align: left;
    }

    .help-tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: var(--color-dark);
    }

    .form-input,
    .form-textarea,
    .form-select {
      width: 100%;
      padding: 12px 14px;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      font-size: 0.95rem;
      font-family: inherit;
      transition: all var(--transition-fast);
      background: var(--color-surface);
    }

    .form-input:focus,
    .form-textarea:focus,
    .form-select:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
    }

    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }

    .form-hint {
      font-size: 0.8rem;
      color: var(--color-text-muted);
      margin-top: 6px;
    }

    /* Info Boxes */
    .info-box {
      margin-top: 12px;
      padding: 12px 14px;
      background: linear-gradient(135deg, rgba(124, 58, 237, 0.08), rgba(59, 130, 246, 0.05));
      border-left: 3px solid var(--color-accent);
      border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
      font-size: 0.85rem;
      line-height: 1.5;
      color: var(--color-text-secondary);
    }

    .info-box-title {
      font-weight: 600;
      color: var(--color-accent);
      margin-bottom: 4px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.02em;
    }

    .info-box p {
      margin: 0;
    }

    /* Radio button groups */
    .radio-group {
      display: flex;
      flex-direction: column;
      gap: var(--space-sm);
    }

    .radio-item {
      display: flex;
      align-items: flex-start;
      gap: var(--space-sm);
      cursor: pointer;
    }

    .radio-item input[type="radio"] {
      width: 18px;
      height: 18px;
      margin-top: 2px;
      accent-color: var(--color-primary);
    }

    .radio-item label {
      font-size: 0.9rem;
      color: var(--color-text);
      cursor: pointer;
    }

    /* ============================================
       SIGNATURE COMPONENTS
       ============================================ */
    .signature-type-toggle {
      display: flex;
      gap: 4px;
      margin-bottom: 12px;
    }

    .sig-toggle-btn {
      flex: 1;
      padding: 8px 12px;
      background: var(--color-bg);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-size: 0.85rem;
      font-weight: 500;
      color: var(--color-text-muted);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .sig-toggle-btn:hover {
      border-color: var(--color-primary-light);
    }

    .sig-toggle-btn.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: #fff;
    }

    .signature-draw-container {
      margin-bottom: 12px;
    }

    .signature-canvas {
      width: 100%;
      height: 100px;
      border: 2px dashed var(--color-border);
      border-radius: var(--radius-md);
      background: #fff;
      cursor: crosshair;
    }

    .signature-actions {
      display: flex;
      gap: 8px;
      margin-top: 8px;
    }

    .signature-actions button {
      padding: 6px 12px;
      background: var(--color-bg);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-size: 0.8rem;
      color: var(--color-text-muted);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .signature-actions button:hover {
      border-color: var(--color-primary);
      color: var(--color-primary);
    }

    .signature-type-container {
      display: none;
    }

    .signature-typed-input {
      font-family: 'Dancing Script', cursive;
      font-size: 1.5rem;
      text-align: center;
    }

    .signature-typed-preview {
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      color: var(--color-text);
      text-align: center;
      padding: 10px;
      min-height: 60px;
      border: 2px dashed var(--color-border);
      border-radius: var(--radius-md);
      margin-bottom: 8px;
    }

    /* ============================================
       PREVIEW PANEL (Right Side)
       ============================================ */
    .preview-panel {
      background: var(--color-bg);
      padding: var(--space-xl);
      overflow-y: auto;
    }

    .preview-toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-md);
      margin-bottom: var(--space-lg);
      flex-wrap: wrap;
    }

    .preview-title {
      font-size: 0.85rem;
      font-weight: 700;
      color: var(--color-text-muted);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }

    .preview-hint {
      font-size: 0.75rem;
      color: var(--color-text-muted);
      font-weight: 400;
      margin-left: var(--space-sm);
    }

    .preview-actions {
      display: flex;
      gap: var(--space-sm);
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 10px 16px;
      border-radius: var(--radius-md);
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-fast);
      border: none;
    }

    .btn-primary {
      background: var(--color-primary);
      color: #fff;
    }

    .btn-primary:hover {
      background: var(--color-primary-dark);
    }

    .btn-secondary {
      background: var(--color-surface);
      color: var(--color-text);
      border: 1px solid var(--color-border);
    }

    .btn-secondary:hover {
      border-color: var(--color-primary);
      color: var(--color-primary);
    }

    .btn-sm {
      padding: 8px 12px;
      font-size: 0.85rem;
    }

    #editModeBtn.active {
      background: var(--color-primary);
      color: #fff;
      border-color: var(--color-primary);
    }

    /* Edit Toolbar */
    .edit-toolbar {
      display: none;
      align-items: center;
      gap: 4px;
      padding: 8px 12px;
      background: var(--color-dark);
      border-radius: var(--radius-md);
      margin-top: var(--space-sm);
    }

    .edit-toolbar button {
      padding: 6px 10px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: var(--radius-sm);
      color: #fff;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .edit-toolbar button:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .edit-toolbar .cancel-btn {
      background: rgba(220, 38, 38, 0.3);
      border-color: rgba(220, 38, 38, 0.5);
    }

    .edit-toolbar .cancel-btn:hover {
      background: rgba(220, 38, 38, 0.5);
    }

    .toolbar-divider {
      width: 1px;
      height: 20px;
      background: rgba(255, 255, 255, 0.2);
      margin: 0 4px;
    }

    /* Document Container */
    .document-container {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
    }

    .document-header {
      background: linear-gradient(135deg, var(--color-dark) 0%, var(--color-dark-surface) 100%);
      padding: var(--space-md) var(--space-lg);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .document-title {
      color: #fff;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .document-status {
      font-size: 0.75rem;
      color: var(--color-accent-light);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .document-body {
      padding: 50px;
      background: var(--doc-bg);
      font-family: var(--font-serif);
      font-size: 14px;
      line-height: 1.8;
      color: var(--doc-text);
    }

    .document-body.full-edit-mode {
      outline: 3px solid var(--color-primary);
      background: #fffef8;
    }

    /* Document Typography */
    .doc-title {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 8px;
      color: var(--doc-text);
    }

    .doc-subtitle {
      text-align: center;
      font-size: 12px;
      color: var(--color-text-muted);
      margin-bottom: 30px;
      font-family: var(--font-sans);
    }

    .doc-section-header {
      font-size: 13px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 25px;
      margin-bottom: 12px;
      color: var(--doc-clause-title);
      border-bottom: 1px solid var(--color-border);
      padding-bottom: 6px;
    }

    .doc-paragraph {
      margin-bottom: 15px;
      text-align: justify;
    }

    .doc-paragraph.indent {
      text-indent: 40px;
    }

    .doc-list {
      margin: 15px 0 15px 25px;
      padding-left: 20px;
    }

    .doc-list li {
      margin-bottom: 10px;
      text-align: justify;
    }

    .doc-list-alpha {
      list-style-type: lower-alpha;
    }

    .doc-list-roman {
      list-style-type: lower-roman;
    }

    /* Highlighted editable fields */
    .doc-highlight {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      padding: 2px 6px;
      border-radius: 4px;
      border-bottom: 2px solid #f59e0b;
      font-weight: 600;
      transition: all 0.3s ease;
      cursor: text;
    }

    .doc-highlight:hover {
      background: linear-gradient(135deg, #fde68a 0%, #fcd34d 100%);
    }

    .doc-highlight:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.3);
    }

    .doc-highlight.empty {
      background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
      border-bottom-color: #ef4444;
      color: #dc2626;
    }

    /* Animation for highlighted fields - CRITICAL FOR SCROLL-TO-VIEW */
    @keyframes highlightPulse {
      0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7); }
      50% { transform: scale(1.02); box-shadow: 0 0 0 8px rgba(245, 158, 11, 0); }
      100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
    }

    .field-highlight-animation {
      animation: highlightPulse 0.6s ease-out;
      background: linear-gradient(135deg, #fde047 0%, #facc15 100%) !important;
    }

    /* Highlight animation for list elements and other non-span elements */
    ul.field-highlight-animation,
    ol.field-highlight-animation,
    div.field-highlight-animation,
    p.field-highlight-animation {
      background: linear-gradient(135deg, rgba(253, 224, 71, 0.3) 0%, rgba(250, 204, 21, 0.3) 100%) !important;
      border-radius: 8px;
      padding: 10px !important;
      margin: 10px 0 !important;
    }

    /* Signature block in document */
    .doc-signature-block {
      margin-top: 40px;
      page-break-inside: avoid;
    }

    .doc-signature-line {
      display: flex;
      align-items: flex-end;
      margin-bottom: 5px;
      min-height: 50px;
    }

    .doc-signature-line .signature-label {
      width: 80px;
      font-size: 12px;
      color: var(--color-text-muted);
    }

    .doc-signature-line .signature-value {
      flex: 1;
      border-bottom: 1px solid #333;
      min-height: 40px;
      display: flex;
      align-items: flex-end;
      padding-bottom: 4px;
    }

    .doc-signature-line .signature-value.has-signature {
      border-bottom: none;
    }

    .doc-signature-line .signature-value img {
      max-height: 50px;
      max-width: 200px;
    }

    .doc-signature-line .signature-value .typed-sig {
      font-family: 'Dancing Script', cursive;
      font-size: 28px;
      color: #1a1a1a;
    }

    .doc-signature-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      margin-top: 50px;
    }

    .doc-signature-party {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .doc-signature-party-title {
      font-weight: bold;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--color-text-muted);
      margin-bottom: 10px;
    }

    .doc-signature-field {
      border-bottom: 1px solid #333;
      min-height: 30px;
      margin-bottom: 5px;
    }

    .doc-signature-field-label {
      font-size: 11px;
      color: var(--color-text-muted);
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: var(--color-dark);
      color: #fff;
      padding: 14px 20px;
      border-radius: var(--radius-md);
      font-size: 0.9rem;
      font-weight: 500;
      box-shadow: var(--shadow-xl);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }

    .toast.success {
      background: var(--color-success);
    }

    /* ============================================
       FOOTER
       ============================================ */
    .site-footer {
      background: var(--color-dark);
      color: #94a3b8;
      padding: var(--space-2xl) 0;
      margin-top: var(--space-3xl);
    }

    .footer-content {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--space-lg);
      text-align: center;
    }

    .footer-brand {
      font-size: 1.25rem;
      font-weight: 800;
      margin-bottom: var(--space-sm);
    }

    .footer-brand .logo-text {
      background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .footer-tagline {
      font-size: 0.9rem;
      margin-bottom: var(--space-lg);
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: var(--space-lg);
      flex-wrap: wrap;
      margin-bottom: var(--space-lg);
    }

    .footer-links a {
      color: #94a3b8;
      font-size: 0.85rem;
      transition: color var(--transition-fast);
    }

    .footer-links a:hover {
      color: #fff;
    }

    .footer-copyright {
      font-size: 0.8rem;
      color: #64748b;
    }

    /* ============================================
       RESPONSIVE
       ============================================ */
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 1.75rem;
      }

      .document-body {
        padding: 30px 20px;
      }

      .doc-signature-row {
        grid-template-columns: 1fr;
        gap: 40px;
      }
    }

    /* Print styles */
    @media print {
      .site-header, .breadcrumb, .hero, .builder-sidebar, .preview-toolbar, .document-header, .site-footer, .toast {
        display: none !important;
      }
      .builder-layout {
        display: block;
      }
      .preview-panel {
        padding: 0;
      }
      .document-container {
        box-shadow: none;
        border-radius: 0;
      }
      .document-body {
        padding: 0.5in;
      }
      .doc-highlight {
        background: none !important;
        border: none !important;
        padding: 0 !important;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="header-content">
      <nav class="header-nav">
        <a href="https://terms.law" class="nav-link home-logo">
          <span class="logo-text">Terms.Law</span>
        </a>
        <a href="https://terms.law/Demand-Letters/demand-letters-landing.html" class="nav-link">Demands</a>
        <a href="contract-library-landing.html" class="nav-link active">Contracts</a>
        <a href="https://terms.law/INC/formation-landing.html" class="nav-link">Incorporation</a>
        <a href="https://terms.law/Blog/" class="nav-link">Blog</a>
      </nav>
    </div>
  </header>

  <!-- Breadcrumb -->
  <nav class="breadcrumb">
    <div class="breadcrumb-content">
      <a href="contract-library-landing.html" class="breadcrumb-link">Contract Library</a>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <a href="contract-library-landing.html#category-startups" class="breadcrumb-link">Startups & Corporations</a>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-current">Advisor Agreement</span>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <div class="hero-badge">
          <span class="hero-badge-icon">ü§ù</span>
          Startup Essential
        </div>
        <h1>Advisor <span class="highlight">Agreement</span> Generator</h1>
        <p class="hero-subtitle">
          Formalize advisory relationships with clear equity compensation, vesting schedules, and scope of services.
          <strong>Industry-standard terms</strong> used by thousands of startups and accelerators.
        </p>
        <div class="hero-features">
          <div class="hero-feature">
            <span class="hero-feature-icon">‚úì</span>
            Real-time preview
          </div>
          <div class="hero-feature">
            <span class="hero-feature-icon">‚úì</span>
            FAST-style vesting options
          </div>
          <div class="hero-feature">
            <span class="hero-feature-icon">‚úì</span>
            Instant download
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Builder -->
  <main class="builder-layout">
    <!-- Left Sidebar - Form -->
    <aside class="builder-sidebar">

      <!-- Advisor Information -->
      <div class="builder-section">
        <h3 class="builder-section-title">
          <span class="icon">üë§</span> Advisor Information
        </h3>

        <div class="form-group">
          <label class="form-label">
            Advisor Full Name
            <span class="help-trigger">?
              <span class="help-tooltip">The individual providing advisory services to the company. Must be a natural person, not an entity.</span>
            </span>
          </label>
          <input type="text" id="advisorName" class="form-input" placeholder="Dr. Jane Smith" oninput="trackFieldEdit('advisorName')">
        </div>

        <div class="form-group">
          <label class="form-label">Advisor Title/Expertise</label>
          <input type="text" id="advisorTitle" class="form-input" placeholder="Former VP of Product at Google" oninput="trackFieldEdit('advisorTitle')">
        </div>

        <div class="form-group">
          <label class="form-label">Advisor Address</label>
          <input type="text" id="advisorAddress" class="form-input" placeholder="123 Innovation Way, Palo Alto, CA 94301" oninput="trackFieldEdit('advisorAddress')">
        </div>

        <div class="form-group">
          <label class="form-label">Advisor Email</label>
          <input type="email" id="advisorEmail" class="form-input" placeholder="jane.smith@example.com" oninput="trackFieldEdit('advisorEmail')">
        </div>
      </div>

      <!-- Company Information -->
      <div class="builder-section">
        <h3 class="builder-section-title">
          <span class="icon">üè¢</span> Company Information
        </h3>

        <div class="form-group">
          <label class="form-label">Company Legal Name</label>
          <input type="text" id="companyName" class="form-input" placeholder="TechStartup, Inc." oninput="trackFieldEdit('companyName')">
        </div>

        <div class="form-group">
          <label class="form-label">State of Incorporation</label>
          <select id="companyState" class="form-select" onchange="trackFieldEdit('companyState')">
            <option value="">Select state...</option>
            <option value="Delaware">Delaware</option>
            <option value="California">California</option>
            <option value="New York">New York</option>
            <option value="Texas">Texas</option>
            <option value="Florida">Florida</option>
            <option value="Nevada">Nevada</option>
            <option value="Wyoming">Wyoming</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Company Address</label>
          <input type="text" id="companyAddress" class="form-input" placeholder="456 Startup Blvd, Suite 200, San Francisco, CA 94107" oninput="trackFieldEdit('companyAddress')">
        </div>

        <div class="form-group">
          <label class="form-label">Company Signatory Name</label>
          <input type="text" id="companySignatoryName" class="form-input" placeholder="John Founder" oninput="trackFieldEdit('companySignatoryName')">
        </div>

        <div class="form-group">
          <label class="form-label">Company Signatory Title</label>
          <input type="text" id="companySignatoryTitle" class="form-input" placeholder="CEO" oninput="trackFieldEdit('companySignatoryTitle')">
        </div>
      </div>

      <!-- Advisory Services -->
      <div class="builder-section">
        <h3 class="builder-section-title">
          <span class="icon">üìã</span> Advisory Services
        </h3>

        <div class="form-group">
          <label class="form-label">
            Scope of Services
            <span class="help-trigger">?
              <span class="help-tooltip">Describe the advisory services to be provided: strategic guidance, introductions, technical review, fundraising support, etc.</span>
            </span>
          </label>
          <textarea id="servicesDescription" class="form-textarea" placeholder="Strategic advice on product development, customer acquisition strategy, introductions to potential investors and strategic partners, and participation in monthly advisory calls." oninput="trackFieldEdit('servicesDescription')"></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">
            Time Commitment
            <span class="help-trigger">?
              <span class="help-tooltip">Expected hours per month. Industry standard for advisors is 2-5 hours/month.</span>
            </span>
          </label>
          <select id="timeCommitment" class="form-select" onchange="trackFieldEdit('timeCommitment')">
            <option value="2 hours">2 hours per month (Light)</option>
            <option value="4 hours" selected>4 hours per month (Standard)</option>
            <option value="8 hours">8 hours per month (Intensive)</option>
            <option value="custom">Custom...</option>
          </select>
        </div>

        <div class="form-group" id="customTimeGroup" style="display: none;">
          <label class="form-label">Custom Time Commitment</label>
          <input type="text" id="customTimeCommitment" class="form-input" placeholder="e.g., 6 hours per month" oninput="trackFieldEdit('customTimeCommitment')">
        </div>

        <div class="info-box">
          <div class="info-box-title">Industry Standard</div>
          <p>Most startup advisors commit 2-5 hours per month, including calls, email correspondence, and introductions.</p>
        </div>
      </div>

      <!-- Compensation -->
      <div class="builder-section">
        <h3 class="builder-section-title">
          <span class="icon">üí∞</span> Compensation
        </h3>

        <div class="form-group">
          <label class="form-label">
            Equity Compensation
            <span class="help-trigger">?
              <span class="help-tooltip">Standard advisor equity ranges from 0.1% to 1.0% depending on stage, time commitment, and advisor experience. Early-stage startups typically offer 0.25%-0.50%.</span>
            </span>
          </label>
          <select id="equityPercent" class="form-select" onchange="trackFieldEdit('equityPercent')">
            <option value="0.10">0.10% (Minimal involvement)</option>
            <option value="0.25" selected>0.25% (Standard advisor)</option>
            <option value="0.50">0.50% (Active advisor)</option>
            <option value="1.00">1.00% (Strategic/Board advisor)</option>
            <option value="custom">Custom percentage...</option>
          </select>
        </div>

        <div class="form-group" id="customEquityGroup" style="display: none;">
          <label class="form-label">Custom Equity Percentage</label>
          <input type="text" id="customEquityPercent" class="form-input" placeholder="e.g., 0.35" oninput="trackFieldEdit('customEquityPercent')">
        </div>

        <div class="form-group">
          <label class="form-label">
            Equity Type
          </label>
          <select id="equityType" class="form-select" onchange="trackFieldEdit('equityType')">
            <option value="options" selected>Stock Options (Most Common)</option>
            <option value="shares">Common Stock Shares</option>
            <option value="restricted">Restricted Stock</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">
            Vesting Schedule
            <span class="help-trigger">?
              <span class="help-tooltip">FAST (Founder/Advisor Standard Template) recommends monthly vesting over 2 years with no cliff for advisors, unlike employee 4-year vesting.</span>
            </span>
          </label>
          <select id="vestingSchedule" class="form-select" onchange="trackFieldEdit('vestingSchedule')">
            <option value="24-monthly" selected>24 months, monthly vesting (FAST Standard)</option>
            <option value="24-cliff">24 months with 6-month cliff</option>
            <option value="12-monthly">12 months, monthly vesting</option>
            <option value="36-monthly">36 months, monthly vesting</option>
            <option value="custom">Custom schedule...</option>
          </select>
        </div>

        <div class="form-group" id="customVestingGroup" style="display: none;">
          <label class="form-label">Custom Vesting Schedule</label>
          <textarea id="customVesting" class="form-textarea" placeholder="Describe the custom vesting schedule..." oninput="trackFieldEdit('customVesting')"></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Additional Cash Compensation</label>
          <select id="cashComp" class="form-select" onchange="updateCashFields(); trackFieldEdit('cashComp')">
            <option value="none" selected>None (equity only)</option>
            <option value="monthly">Monthly retainer</option>
            <option value="hourly">Hourly rate</option>
            <option value="project">Per-project fee</option>
          </select>
        </div>

        <div class="form-group" id="cashAmountGroup" style="display: none;">
          <label class="form-label">Amount</label>
          <input type="text" id="cashAmount" class="form-input" placeholder="$500/month or $150/hour" oninput="trackFieldEdit('cashAmount')">
        </div>
      </div>

      <!-- Agreement Terms -->
      <div class="builder-section">
        <h3 class="builder-section-title">
          <span class="icon">üìÖ</span> Agreement Terms
        </h3>

        <div class="form-group">
          <label class="form-label">Effective Date</label>
          <input type="date" id="effectiveDate" class="form-input" oninput="trackFieldEdit('effectiveDate')">
        </div>

        <div class="form-group">
          <label class="form-label">
            Term Length
            <span class="help-trigger">?
              <span class="help-tooltip">Duration of the advisory relationship. Most advisor agreements run for 1-2 years, renewable by mutual agreement.</span>
            </span>
          </label>
          <select id="termLength" class="form-select" onchange="trackFieldEdit('termLength')">
            <option value="12">12 months</option>
            <option value="24" selected>24 months</option>
            <option value="36">36 months</option>
            <option value="indefinite">Until terminated</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Termination Notice Period</label>
          <select id="noticePeriod" class="form-select" onchange="trackFieldEdit('noticePeriod')">
            <option value="14">14 days</option>
            <option value="30" selected>30 days</option>
            <option value="60">60 days</option>
          </select>
        </div>
      </div>

      <!-- Advisor Signature -->
      <div class="builder-section">
        <h3 class="builder-section-title">
          <span class="icon">‚úçÔ∏è</span> Advisor Signature
        </h3>

        <div class="signature-type-toggle">
          <button type="button" class="sig-toggle-btn active" onclick="setSignatureType('advisor', 'draw')">Draw</button>
          <button type="button" class="sig-toggle-btn" onclick="setSignatureType('advisor', 'type')">Type</button>
        </div>

        <div id="advisorDrawContainer" class="signature-draw-container">
          <canvas id="signatureCanvasAdvisor" class="signature-canvas"></canvas>
          <div class="signature-actions">
            <button type="button" onclick="clearSignature('advisor')">Clear</button>
          </div>
        </div>

        <div id="advisorTypeContainer" class="signature-type-container">
          <div class="signature-typed-preview" id="advisorTypedPreview"></div>
          <input type="text" id="advisorTypedSignature" class="form-input signature-typed-input" placeholder="Type your signature" oninput="updateTypedSignature('advisor')">
        </div>
      </div>

      <!-- Company Signature -->
      <div class="builder-section">
        <h3 class="builder-section-title">
          <span class="icon">üèõÔ∏è</span> Company Signature
        </h3>

        <div class="signature-type-toggle">
          <button type="button" class="sig-toggle-btn active" onclick="setSignatureType('company', 'draw')">Draw</button>
          <button type="button" class="sig-toggle-btn" onclick="setSignatureType('company', 'type')">Type</button>
        </div>

        <div id="companyDrawContainer" class="signature-draw-container">
          <canvas id="signatureCanvasCompany" class="signature-canvas"></canvas>
          <div class="signature-actions">
            <button type="button" onclick="clearSignature('company')">Clear</button>
          </div>
        </div>

        <div id="companyTypeContainer" class="signature-type-container">
          <div class="signature-typed-preview" id="companyTypedPreview"></div>
          <input type="text" id="companyTypedSignature" class="form-input signature-typed-input" placeholder="Type your signature" oninput="updateTypedSignature('company')">
        </div>
      </div>

    </aside>

    <!-- Right Panel - Preview -->
    <div class="preview-panel">
      <div class="preview-toolbar">
        <div class="preview-title">
          üìÑ Live Preview
          <span class="preview-hint">Click any highlighted text to edit directly</span>
        </div>
        <div class="preview-actions">
          <button class="btn btn-secondary btn-sm" id="editModeBtn" onclick="toggleFullEditMode()">‚úèÔ∏è Edit Mode</button>
          <button class="btn btn-secondary btn-sm" onclick="copyToClipboard()">üìã Copy</button>
          <button class="btn btn-secondary btn-sm" onclick="window.print()">üñ®Ô∏è Print</button>
          <button class="btn btn-primary btn-sm" onclick="downloadDocument()">‚¨áÔ∏è Download</button>
        </div>
      </div>

      <div class="edit-toolbar" id="editToolbar">
        <button onclick="document.execCommand('bold', false, null)"><b>B</b></button>
        <button onclick="document.execCommand('italic', false, null)"><i>I</i></button>
        <button onclick="document.execCommand('underline', false, null)"><u>U</u></button>
        <span class="toolbar-divider"></span>
        <button onclick="addNewParagraph()">+ Paragraph</button>
        <button onclick="addNewSection()">+ Section</button>
        <span class="toolbar-divider"></span>
        <button class="cancel-btn" onclick="cancelEditMode()">Cancel</button>
      </div>

      <div class="document-container">
        <div class="document-header">
          <span class="document-title">Advisor Agreement</span>
          <span class="document-status">
            <span>‚óè</span> Live Preview
          </span>
        </div>
        <div class="document-body" id="documentPreview">
          <!-- Content generated by JavaScript -->
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-brand">
        <span class="logo-text">Terms.Law</span>
      </div>
      <p class="footer-tagline">Legal documents for the modern business</p>
      <div class="footer-links">
        <a href="https://terms.law">Home</a>
        <a href="contract-library-landing.html">Contract Library</a>
        <a href="https://terms.law/Blog/">Blog</a>
        <a href="mailto:owner@terms.law">Contact</a>
      </div>
      <p class="footer-copyright">¬© 2024 Terms.Law - Sergei Tokmakov, Esq. All rights reserved.</p>
    </div>
  </footer>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <script>
    // ============================================
    // STATE VARIABLES
    // ============================================
    let lastEditedField = null;
    let isFullEditMode = false;
    let savedDocumentHTML = '';
    let hasCustomEdits = false; // CRITICAL: Track if user made custom edits to warn before overwriting

    // Signature canvases
    const signatureData = {
      'advisor': { type: 'draw', data: null },
      'company': { type: 'draw', data: null }
    };

    // Field ID to input element mapping (for inline editing sync)
    const fieldInputMap = {
      'advisorName': 'advisorName',
      'advisorTitle': 'advisorTitle',
      'advisorAddress': 'advisorAddress',
      'advisorEmail': 'advisorEmail',
      'companyName': 'companyName',
      'companyState': 'companyState',
      'companyAddress': 'companyAddress',
      'companySignatoryName': 'companySignatoryName',
      'companySignatoryTitle': 'companySignatoryTitle',
      'servicesDescription': 'servicesDescription',
      'effectiveDate': 'effectiveDate'
    };

    // ============================================
    // INITIALIZATION
    // ============================================
    document.addEventListener('DOMContentLoaded', function() {
      // Set today's date as default
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('effectiveDate').value = today;

      // Initialize signature canvases
      initSignatureCanvas('advisor');
      initSignatureCanvas('company');

      // Setup conditional field visibility
      document.getElementById('timeCommitment').addEventListener('change', function() {
        document.getElementById('customTimeGroup').style.display =
          this.value === 'custom' ? 'block' : 'none';
      });

      document.getElementById('equityPercent').addEventListener('change', function() {
        document.getElementById('customEquityGroup').style.display =
          this.value === 'custom' ? 'block' : 'none';
      });

      document.getElementById('vestingSchedule').addEventListener('change', function() {
        document.getElementById('customVestingGroup').style.display =
          this.value === 'custom' ? 'block' : 'none';
      });

      updatePreview();
    });

    // ============================================
    // CASH COMPENSATION FIELDS
    // ============================================
    function updateCashFields() {
      const cashComp = document.getElementById('cashComp').value;
      const cashAmountGroup = document.getElementById('cashAmountGroup');

      if (cashComp === 'none') {
        cashAmountGroup.style.display = 'none';
      } else {
        cashAmountGroup.style.display = 'block';
        const placeholder = {
          'monthly': '$500/month',
          'hourly': '$150/hour',
          'project': '$2,500 per project'
        };
        document.getElementById('cashAmount').placeholder = placeholder[cashComp] || '';
      }
    }

    // ============================================
    // SIGNATURE HANDLING
    // ============================================
    function initSignatureCanvas(party) {
      const canvas = document.getElementById(`signatureCanvas${party.charAt(0).toUpperCase() + party.slice(1)}`);
      const ctx = canvas.getContext('2d');

      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;

      let isDrawing = false;
      let lastX = 0;
      let lastY = 0;

      ctx.strokeStyle = '#1a1a1a';
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';

      canvas.addEventListener('mousedown', (e) => {
        isDrawing = true;
        [lastX, lastY] = [e.offsetX, e.offsetY];
      });

      canvas.addEventListener('mousemove', (e) => {
        if (!isDrawing) return;
        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
        [lastX, lastY] = [e.offsetX, e.offsetY];
      });

      canvas.addEventListener('mouseup', () => {
        isDrawing = false;
        signatureData[party].data = canvas.toDataURL();
        updatePreview();
      });

      canvas.addEventListener('mouseout', () => {
        isDrawing = false;
      });

      // Touch support for mobile
      canvas.addEventListener('touchstart', (e) => {
        e.preventDefault();
        const touch = e.touches[0];
        const rect = canvas.getBoundingClientRect();
        isDrawing = true;
        lastX = touch.clientX - rect.left;
        lastY = touch.clientY - rect.top;
      });

      canvas.addEventListener('touchmove', (e) => {
        e.preventDefault();
        if (!isDrawing) return;
        const touch = e.touches[0];
        const rect = canvas.getBoundingClientRect();
        const x = touch.clientX - rect.left;
        const y = touch.clientY - rect.top;
        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(x, y);
        ctx.stroke();
        lastX = x;
        lastY = y;
      });

      canvas.addEventListener('touchend', () => {
        isDrawing = false;
        signatureData[party].data = canvas.toDataURL();
        updatePreview();
      });
    }

    function clearSignature(party) {
      const canvas = document.getElementById(`signatureCanvas${party.charAt(0).toUpperCase() + party.slice(1)}`);
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      signatureData[party].data = null;
      updatePreview();
    }

    function setSignatureType(party, type) {
      const drawContainer = document.getElementById(`${party}DrawContainer`);
      const typeContainer = document.getElementById(`${party}TypeContainer`);
      const buttons = drawContainer.parentElement.querySelectorAll('.sig-toggle-btn');

      buttons.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');

      signatureData[party].type = type;

      if (type === 'draw') {
        drawContainer.style.display = 'block';
        typeContainer.style.display = 'none';
      } else {
        drawContainer.style.display = 'none';
        typeContainer.style.display = 'block';
      }

      updatePreview();
    }

    function updateTypedSignature(party) {
      const input = document.getElementById(`${party}TypedSignature`);
      const preview = document.getElementById(`${party}TypedPreview`);
      preview.textContent = input.value;
      signatureData[party].data = input.value;
      updatePreview();
    }

    // ============================================
    // TRACK FIELD EDIT - CRITICAL FOR SCROLL-TO-VIEW + HIGHLIGHT
    // ============================================
    function trackFieldEdit(fieldId) {
      // CRITICAL: Warn user if they have custom edits that will be overwritten
      if (hasCustomEdits) {
        const proceed = confirm(
          'You have custom edits in the document preview.\n\n' +
          'Changing form inputs will regenerate the document and your custom edits will be lost.\n\n' +
          'Click OK to regenerate, or Cancel to keep your edits.'
        );
        if (!proceed) {
          return;
        }
        hasCustomEdits = false;
      }

      lastEditedField = fieldId;
      updatePreview();
    }

    // ============================================
    // UPDATE PREVIEW - Main rendering function with SCROLL-TO-VIEW
    // ============================================
    function updatePreview() {
      // Don't update if in full edit mode (preserve user's custom edits)
      if (isFullEditMode) return;

      // Helper function for highlighted editable fields
      const h = (value, placeholder, fieldId) => {
        const isEmpty = !value || value.startsWith('[');
        const displayValue = isEmpty ? `[${placeholder}]` : value;
        const emptyClass = isEmpty ? ' empty' : '';
        return `<span class="doc-highlight${emptyClass}" data-field="${fieldId}" contenteditable="true">${displayValue}</span>`;
      };

      // Get all form values
      const advisorName = document.getElementById('advisorName').value || '';
      const advisorTitle = document.getElementById('advisorTitle').value || '';
      const advisorAddress = document.getElementById('advisorAddress').value || '';
      const advisorEmail = document.getElementById('advisorEmail').value || '';
      const companyName = document.getElementById('companyName').value || '';
      const companyState = document.getElementById('companyState').value || '';
      const companyAddress = document.getElementById('companyAddress').value || '';
      const companySignatoryName = document.getElementById('companySignatoryName').value || '';
      const companySignatoryTitle = document.getElementById('companySignatoryTitle').value || '';
      const servicesDescription = document.getElementById('servicesDescription').value || '';
      const effectiveDate = document.getElementById('effectiveDate').value || '';

      // Time commitment
      let timeCommitment = document.getElementById('timeCommitment').value;
      if (timeCommitment === 'custom') {
        timeCommitment = document.getElementById('customTimeCommitment').value || 'as mutually agreed';
      }

      // Equity
      let equityPercent = document.getElementById('equityPercent').value;
      if (equityPercent === 'custom') {
        equityPercent = document.getElementById('customEquityPercent').value || '0.25';
      }
      const equityType = document.getElementById('equityType').value;

      // Vesting
      let vestingSchedule = document.getElementById('vestingSchedule').value;
      let vestingText = '';
      switch(vestingSchedule) {
        case '24-monthly':
          vestingText = 'twenty-four (24) months, vesting monthly in equal installments';
          break;
        case '24-cliff':
          vestingText = 'twenty-four (24) months with a six (6) month cliff, thereafter vesting monthly';
          break;
        case '12-monthly':
          vestingText = 'twelve (12) months, vesting monthly in equal installments';
          break;
        case '36-monthly':
          vestingText = 'thirty-six (36) months, vesting monthly in equal installments';
          break;
        case 'custom':
          vestingText = document.getElementById('customVesting').value || 'as set forth in the equity documentation';
          break;
      }

      // Cash compensation
      const cashComp = document.getElementById('cashComp').value;
      const cashAmount = document.getElementById('cashAmount').value || '';

      // Term
      const termLength = document.getElementById('termLength').value;
      const noticePeriod = document.getElementById('noticePeriod').value;

      // Format date
      const formattedDate = effectiveDate ? new Date(effectiveDate + 'T00:00:00').toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) : '';

      // Equity type text
      const equityTypeText = {
        'options': 'stock options',
        'shares': 'shares of Common Stock',
        'restricted': 'shares of Restricted Stock'
      }[equityType] || 'stock options';

      // Term text
      const termText = termLength === 'indefinite'
        ? 'continuing until terminated by either party'
        : `${termLength} months from the Effective Date`;

      // Build cash compensation clause
      let cashClause = '';
      if (cashComp !== 'none' && cashAmount) {
        const cashTypeText = {
          'monthly': `a monthly retainer of ${cashAmount}`,
          'hourly': `an hourly rate of ${cashAmount} for time spent on Company matters`,
          'project': `${cashAmount} per project as mutually agreed`
        }[cashComp];
        cashClause = `<p class="doc-paragraph"><strong>3.2 Cash Compensation.</strong> In addition to the equity compensation described above, the Company shall pay the Advisor ${cashTypeText}, payable within thirty (30) days of invoice submission.</p>`;
      }

      // Generate document HTML
      let html = `
        <div class="doc-title">ADVISOR AGREEMENT</div>
        <p class="doc-subtitle">Effective as of ${h(formattedDate, 'Effective Date', 'effectiveDate')}</p>

        <p class="doc-paragraph">
          This Advisor Agreement (this "<strong>Agreement</strong>") is entered into as of the date set forth above,
          by and between ${h(companyName, 'Company Name', 'companyName')}, a ${h(companyState, 'State', 'companyState')} corporation
          (the "<strong>Company</strong>"), and ${h(advisorName, 'Advisor Name', 'advisorName')}${advisorTitle ? `, ${h(advisorTitle, 'Title/Expertise', 'advisorTitle')}` : ''}
          (the "<strong>Advisor</strong>").
        </p>

        <div class="doc-section-header">Recitals</div>

        <p class="doc-paragraph">
          <strong>WHEREAS</strong>, the Company desires to obtain the benefit of the Advisor's knowledge, experience, and expertise in connection with the Company's business; and
        </p>

        <p class="doc-paragraph">
          <strong>WHEREAS</strong>, the Advisor desires to provide advisory services to the Company on the terms and conditions set forth herein;
        </p>

        <p class="doc-paragraph">
          <strong>NOW, THEREFORE</strong>, in consideration of the mutual covenants and agreements contained herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the parties agree as follows:
        </p>

        <div class="doc-section-header">1. Advisory Services</div>

        <p class="doc-paragraph">
          <strong>1.1 Services.</strong> During the term of this Agreement, the Advisor agrees to provide the following advisory services to the Company (the "<strong>Services</strong>"):
        </p>

        <p class="doc-paragraph" style="margin-left: 30px;" data-field="servicesDescription">
          ${h(servicesDescription, 'Description of advisory services...', 'servicesDescription')}
        </p>

        <p class="doc-paragraph">
          <strong>1.2 Time Commitment.</strong> The Advisor agrees to devote approximately ${timeCommitment} to the performance of the Services, or such other time as mutually agreed upon by the parties. The Advisor shall perform the Services at such times and places as the Advisor deems appropriate.
        </p>

        <p class="doc-paragraph">
          <strong>1.3 Independent Contractor.</strong> The Advisor's relationship with the Company will be that of an independent contractor and not that of an employee. The Advisor will not be eligible for any employee benefits, nor will the Company make deductions from payments to the Advisor for taxes. The Advisor shall be responsible for all tax obligations arising from compensation received under this Agreement.
        </p>

        <div class="doc-section-header">2. Term and Termination</div>

        <p class="doc-paragraph">
          <strong>2.1 Term.</strong> This Agreement shall commence on the Effective Date and shall continue for ${termText}, unless earlier terminated in accordance with this Section 2 (the "<strong>Term</strong>").
        </p>

        <p class="doc-paragraph">
          <strong>2.2 Termination.</strong> Either party may terminate this Agreement at any time, with or without cause, upon ${noticePeriod} days' prior written notice to the other party. Upon termination, the Advisor shall be entitled to (a) any accrued but unpaid compensation through the termination date, and (b) continued vesting of equity compensation for the period during which Services were provided prior to the termination notice.
        </p>

        <p class="doc-paragraph">
          <strong>2.3 Survival.</strong> Sections 4 (Confidentiality), 5 (Intellectual Property), and 6 (General Provisions) shall survive termination of this Agreement.
        </p>

        <div class="doc-section-header">3. Compensation</div>

        <p class="doc-paragraph">
          <strong>3.1 Equity Compensation.</strong> In consideration for the Services, the Company shall grant to the Advisor ${equityTypeText} to purchase shares of the Company's Common Stock representing ${equityPercent}% of the Company's fully-diluted capitalization as of the Effective Date (the "<strong>Advisor Shares</strong>"). The Advisor Shares shall vest over ${vestingText}, subject to the Advisor's continued service relationship with the Company. The Advisor Shares shall be subject to the terms and conditions of the Company's equity incentive plan and a separate equity agreement to be entered into between the Company and the Advisor.
        </p>

        ${cashClause}

        <p class="doc-paragraph">
          <strong>3.${cashComp !== 'none' ? '3' : '2'} Expenses.</strong> The Company shall reimburse the Advisor for reasonable out-of-pocket expenses incurred in connection with the performance of the Services, provided that such expenses are pre-approved in writing by the Company and that the Advisor submits appropriate documentation.
        </p>

        <div class="doc-section-header">4. Confidentiality</div>

        <p class="doc-paragraph">
          <strong>4.1 Confidential Information.</strong> The Advisor acknowledges that during the course of this engagement, the Advisor will have access to and become acquainted with confidential and proprietary information of the Company, including but not limited to: business plans, financial information, customer lists, technical data, trade secrets, product plans, marketing strategies, and other information that is not generally known to the public ("<strong>Confidential Information</strong>").
        </p>

        <p class="doc-paragraph">
          <strong>4.2 Non-Disclosure.</strong> The Advisor agrees to hold all Confidential Information in strict confidence and not to disclose any Confidential Information to any third party without the prior written consent of the Company. The Advisor shall use the Confidential Information solely for the purpose of providing the Services and shall not use such information for any other purpose.
        </p>

        <p class="doc-paragraph">
          <strong>4.3 Exceptions.</strong> The obligations set forth in this Section 4 shall not apply to information that: (a) is or becomes publicly available through no fault of the Advisor; (b) was rightfully in the Advisor's possession prior to disclosure by the Company; (c) is rightfully obtained by the Advisor from a third party without restriction; or (d) is required to be disclosed by law, provided that the Advisor gives the Company prompt written notice of such requirement.
        </p>

        <div class="doc-section-header">5. Intellectual Property</div>

        <p class="doc-paragraph">
          <strong>5.1 Work Product.</strong> The Advisor agrees that all inventions, discoveries, developments, improvements, ideas, and works of authorship, whether or not patentable or copyrightable, that are conceived, created, or reduced to practice by the Advisor, alone or jointly with others, during the Term and arising out of or in connection with the Services ("<strong>Work Product</strong>"), shall be the sole and exclusive property of the Company.
        </p>

        <p class="doc-paragraph">
          <strong>5.2 Assignment.</strong> The Advisor hereby irrevocably assigns and transfers to the Company all right, title, and interest in and to the Work Product, including all intellectual property rights therein. The Advisor agrees to execute any documents and take any actions reasonably requested by the Company to evidence, perfect, or enforce the Company's rights in the Work Product.
        </p>

        <p class="doc-paragraph">
          <strong>5.3 Prior Inventions.</strong> The Advisor represents that the Advisor has disclosed to the Company any inventions or intellectual property that the Advisor owned prior to the Effective Date and that the Advisor intends to exclude from the scope of this Agreement.
        </p>

        <div class="doc-section-header">6. General Provisions</div>

        <p class="doc-paragraph">
          <strong>6.1 Governing Law.</strong> This Agreement shall be governed by and construed in accordance with the laws of the State of ${h(companyState || 'Delaware', 'State', 'companyState')}, without regard to its conflicts of laws principles.
        </p>

        <p class="doc-paragraph">
          <strong>6.2 Entire Agreement.</strong> This Agreement, together with any equity agreements referenced herein, constitutes the entire agreement between the parties with respect to the subject matter hereof and supersedes all prior and contemporaneous agreements, understandings, negotiations, and discussions, whether oral or written.
        </p>

        <p class="doc-paragraph">
          <strong>6.3 Amendments.</strong> This Agreement may not be amended or modified except by a written instrument signed by both parties.
        </p>

        <p class="doc-paragraph">
          <strong>6.4 Severability.</strong> If any provision of this Agreement is held to be invalid, illegal, or unenforceable, the remaining provisions shall continue in full force and effect.
        </p>

        <p class="doc-paragraph">
          <strong>6.5 Waiver.</strong> The waiver by either party of a breach of any provision of this Agreement shall not operate or be construed as a waiver of any subsequent breach.
        </p>

        <p class="doc-paragraph">
          <strong>6.6 Notices.</strong> All notices required or permitted under this Agreement shall be in writing and shall be delivered personally, sent by certified mail (return receipt requested), or sent by overnight courier to the addresses set forth below or to such other address as either party may designate in writing.
        </p>

        <p class="doc-paragraph">
          <strong>6.7 Counterparts.</strong> This Agreement may be executed in counterparts, each of which shall be deemed an original and all of which together shall constitute one and the same instrument. Electronic signatures shall be deemed valid and binding.
        </p>

        <p class="doc-paragraph">
          <strong>6.8 Non-Exclusivity.</strong> This Agreement is non-exclusive. The Advisor is free to provide advisory services to other companies, provided that such services do not create a conflict of interest with the Advisor's obligations hereunder and do not involve the disclosure of the Company's Confidential Information.
        </p>

        <p class="doc-paragraph" style="margin-top: 30px;">
          <strong>IN WITNESS WHEREOF</strong>, the parties have executed this Agreement as of the date first written above.
        </p>

        <!-- Signature Blocks -->
        <div class="doc-signature-row">
          <!-- Company -->
          <div class="doc-signature-party">
            <div class="doc-signature-party-title">COMPANY</div>
            <div class="doc-signature-block">
              <div style="font-weight: bold; margin-bottom: 15px;">${companyName || '[Company Name]'}</div>
              <div class="doc-signature-line">
                <span class="signature-label">Signature:</span>
                <span class="signature-value ${getSignatureHTML('company') ? 'has-signature' : ''}">${getSignatureHTML('company')}</span>
              </div>
              <div class="doc-signature-line">
                <span class="signature-label">Name:</span>
                <span class="signature-value">${companySignatoryName || '______________________'}</span>
              </div>
              <div class="doc-signature-line">
                <span class="signature-label">Title:</span>
                <span class="signature-value">${companySignatoryTitle || '______________________'}</span>
              </div>
              <div class="doc-signature-line">
                <span class="signature-label">Address:</span>
                <span class="signature-value" style="font-size: 11px;">${companyAddress || '______________________'}</span>
              </div>
            </div>
          </div>

          <!-- Advisor -->
          <div class="doc-signature-party">
            <div class="doc-signature-party-title">ADVISOR</div>
            <div class="doc-signature-block">
              <div class="doc-signature-line">
                <span class="signature-label">Signature:</span>
                <span class="signature-value ${getSignatureHTML('advisor') ? 'has-signature' : ''}">${getSignatureHTML('advisor')}</span>
              </div>
              <div class="doc-signature-line">
                <span class="signature-label">Name:</span>
                <span class="signature-value">${advisorName || '______________________'}</span>
              </div>
              <div class="doc-signature-line">
                <span class="signature-label">Title:</span>
                <span class="signature-value">${advisorTitle || '______________________'}</span>
              </div>
              <div class="doc-signature-line">
                <span class="signature-label">Address:</span>
                <span class="signature-value" style="font-size: 11px;">${advisorAddress || '______________________'}</span>
              </div>
              <div class="doc-signature-line">
                <span class="signature-label">Email:</span>
                <span class="signature-value">${advisorEmail || '______________________'}</span>
              </div>
            </div>
          </div>
        </div>
      `;

      document.getElementById('documentPreview').innerHTML = html;

      // Setup inline editing
      setupInlineEditing();

      // ============================================
      // CRITICAL: SCROLL-TO-VIEW + HIGHLIGHT ANIMATION
      // This is the MOST IMPORTANT feature - highlights the field user just edited
      // ============================================
      if (lastEditedField) {
        setTimeout(() => {
          const highlight = document.querySelector(`[data-field="${lastEditedField}"]`);
          if (highlight) {
            // Scroll the field into view with smooth animation
            highlight.scrollIntoView({ behavior: 'smooth', block: 'center' });

            // Add pulsing highlight animation to draw attention
            highlight.classList.add('field-highlight-animation');
            setTimeout(() => {
              highlight.classList.remove('field-highlight-animation');
            }, 1500);
          }
        }, 50);
      }
    }

    function getSignatureHTML(party) {
      const sig = signatureData[party];
      if (!sig.data) return '';

      if (sig.type === 'draw') {
        return `<img src="${sig.data}" alt="Signature">`;
      } else {
        return `<span class="typed-sig">${sig.data}</span>`;
      }
    }

    // ============================================
    // INLINE EDITING - Click to edit in document
    // ============================================
    function setupInlineEditing() {
      document.querySelectorAll('.doc-highlight[contenteditable="true"]').forEach(el => {
        el.addEventListener('blur', function() {
          handleInlineEdit(this);
        });

        el.addEventListener('keydown', function(e) {
          if (e.key === 'Enter') {
            e.preventDefault();
            this.blur();
          }
        });

        el.addEventListener('focus', function() {
          // Select all text on focus for easier editing
          const selection = window.getSelection();
          const range = document.createRange();
          range.selectNodeContents(this);
          selection.removeAllRanges();
          selection.addRange(range);
        });
      });
    }

    function handleInlineEdit(element) {
      const fieldId = element.dataset.field;
      const newValue = element.textContent.trim();
      const inputId = fieldInputMap[fieldId];

      if (inputId) {
        const input = document.getElementById(inputId);
        if (input) {
          // Don't update if the value is a placeholder
          if (!newValue.startsWith('[') && !newValue.endsWith(']')) {
            input.value = newValue;
          }
        }
      }
    }

    // ============================================
    // FULL EDIT MODE - Make entire document editable
    // ============================================
    function toggleFullEditMode() {
      const docBody = document.getElementById('documentPreview');
      const toggleBtn = document.getElementById('editModeBtn');

      if (!isFullEditMode) {
        // Entering edit mode
        isFullEditMode = true;
        savedDocumentHTML = docBody.innerHTML;
        docBody.contentEditable = 'true';
        docBody.classList.add('full-edit-mode');
        toggleBtn.innerHTML = 'üíæ Save Edits';
        toggleBtn.classList.add('active');

        document.getElementById('editToolbar').style.display = 'flex';

        showToast('Edit mode enabled. Make any changes you need.');
      } else {
        // Saving edits
        saveFullEdits();
      }
    }

    function saveFullEdits() {
      const docBody = document.getElementById('documentPreview');
      const toggleBtn = document.getElementById('editModeBtn');

      isFullEditMode = false;
      hasCustomEdits = true; // CRITICAL: Mark that user has custom edits to protect
      docBody.contentEditable = 'false';
      docBody.classList.remove('full-edit-mode');
      toggleBtn.innerHTML = '‚úèÔ∏è Edit Mode';
      toggleBtn.classList.remove('active');

      if (document.getElementById('editToolbar')) {
        document.getElementById('editToolbar').style.display = 'none';
      }

      showToast('Edits saved! Your custom changes have been preserved.');
    }

    function cancelEditMode() {
      const docBody = document.getElementById('documentPreview');
      const toggleBtn = document.getElementById('editModeBtn');

      if (savedDocumentHTML) {
        docBody.innerHTML = savedDocumentHTML;
      }

      isFullEditMode = false;
      hasCustomEdits = false; // Clear flag since we're restoring original
      docBody.contentEditable = 'false';
      docBody.classList.remove('full-edit-mode');
      toggleBtn.innerHTML = '‚úèÔ∏è Edit Mode';
      toggleBtn.classList.remove('active');

      if (document.getElementById('editToolbar')) {
        document.getElementById('editToolbar').style.display = 'none';
      }

      showToast('Changes discarded');
      setupInlineEditing();
    }

    function addNewParagraph() {
      document.execCommand('insertHTML', false, '<p class="doc-paragraph">New paragraph text here...</p>');
    }

    function addNewSection() {
      document.execCommand('insertHTML', false, '<div class="doc-section-header">NEW SECTION</div><p class="doc-paragraph">Section content here...</p>');
    }

    // ============================================
    // UTILITIES
    // ============================================
    function showToast(message, type = 'default') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = 'toast show' + (type === 'success' ? ' success' : '');

      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    function copyToClipboard() {
      const docBody = document.getElementById('documentPreview');
      const range = document.createRange();
      range.selectNode(docBody);
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      document.execCommand('copy');
      window.getSelection().removeAllRanges();
      showToast('Document copied to clipboard!', 'success');
    }

    function downloadDocument() {
      const docBody = document.getElementById('documentPreview');
      const content = docBody.innerHTML;

      const fullHTML = `
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <title>Advisor Agreement</title>
          <style>
            body { font-family: Georgia, 'Times New Roman', serif; font-size: 12pt; line-height: 1.6; max-width: 8.5in; margin: 1in auto; padding: 0 0.5in; }
            .doc-title { text-align: center; font-size: 16pt; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 8px; }
            .doc-subtitle { text-align: center; font-size: 10pt; color: #666; margin-bottom: 24px; }
            .doc-section-header { font-size: 11pt; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; margin-top: 20px; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 4px; }
            .doc-paragraph { margin-bottom: 12px; text-align: justify; }
            .doc-list { margin: 12px 0 12px 20px; padding-left: 15px; }
            .doc-list li { margin-bottom: 8px; }
            .doc-highlight { background: #fff9c4; padding: 1px 4px; border-radius: 2px; }
            .doc-signature-row { display: flex; justify-content: space-between; margin-top: 40px; }
            .doc-signature-party { width: 45%; }
            .doc-signature-party-title { font-weight: bold; font-size: 10pt; text-transform: uppercase; margin-bottom: 15px; }
            .doc-signature-line { margin-bottom: 8px; }
            .doc-signature-line .signature-label { display: inline-block; width: 70px; font-size: 10pt; }
            .doc-signature-line .signature-value { border-bottom: 1px solid #333; min-width: 150px; display: inline-block; }
            .typed-sig { font-family: 'Brush Script MT', cursive; font-size: 18pt; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>${content}</body>
        </html>
      `;

      const blob = new Blob([fullHTML], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'Advisor-Agreement.html';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);

      showToast('Document downloaded!', 'success');
    }
  </script>
</body>
</html>
